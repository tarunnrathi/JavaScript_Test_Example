!function o(i,c,s){function u(e,t){if(!c[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var a=c[e]={exports:{}};i[e][0].call(a.exports,function(t){return u(i[e][1][t]||t)},a,a.exports,o,i,c,s)}return c[e].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)u(s[t]);return u}({1:[function(t,e,n){function s(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}e.exports=function(c){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function a(t){s(r,e,n,a,o,"next",t)}function o(t){s(r,e,n,a,o,"throw",t)}a(void 0)})}}},{}],2:[function(t,e,n){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],3:[function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},{}],4:[function(t,e,n){e.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},{}],5:[function(t,e,n){e.exports=function(t){return t&&t.__esModule?t:{default:t}}},{}],6:[function(t,e,n){e.exports=t("regenerator-runtime")},{"regenerator-runtime":11}],7:[function(t,ve,ye){(function(t){var e="Expected a function",r="__lodash_hash_undefined__",g=1,b=2,c=1/0,n=9007199254740991,s=17976931348623157e292,a=NaN,_="[object Arguments]",m="[object Array]",A="[object Boolean]",E="[object Date]",w="[object Error]",o="[object Function]",i="[object GeneratorFunction]",T="[object Map]",I="[object Number]",S="[object Object]",u="[object Promise]",P="[object RegExp]",O="[object Set]",D="[object String]",V="[object Symbol]",l="[object WeakMap]",R="[object ArrayBuffer]",C="[object DataView]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/^\s+|\s+$/g,y=/\\(\\)?/g,j=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,U=/^\[object .+?Constructor\]$/,L=/^0o[0-7]+$/i,Y=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[_]=N[m]=N[R]=N[A]=N[C]=N[E]=N[w]=N[o]=N[T]=N[I]=N[S]=N[P]=N[O]=N[D]=N[l]=!1;var B=parseInt,G="object"==typeof t&&t&&t.Object===Object&&t,x="object"==typeof self&&self&&self.Object===Object&&self,K=G||x||Function("return this")(),M="object"==typeof ye&&ye&&!ye.nodeType&&ye,F=M&&"object"==typeof ve&&ve&&!ve.nodeType&&ve,J=F&&F.exports===M&&G.process,W=function(){try{return J&&J.binding("util")}catch(t){}}(),q=W&&W.isTypedArray;function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function $(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var Z,Q,X,tt=Array.prototype,et=Function.prototype,nt=Object.prototype,rt=K["__core-js_shared__"],at=(Z=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",ot=et.toString,it=nt.hasOwnProperty,ct=nt.toString,st=RegExp("^"+ot.call(it).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=K.Symbol,lt=K.Uint8Array,dt=nt.propertyIsEnumerable,pt=tt.splice,ft=(Q=Object.keys,X=Object,function(t){return Q(X(t))}),ht=Math.max,vt=Jt(K,"DataView"),yt=Jt(K,"Map"),gt=Jt(K,"Promise"),_t=Jt(K,"Set"),mt=Jt(K,"WeakMap"),bt=Jt(Object,"create"),At=Xt(vt),Et=Xt(yt),wt=Xt(gt),Tt=Xt(_t),It=Xt(mt),St=ut?ut.prototype:void 0,Pt=St?St.valueOf:void 0,Ot=St?St.toString:void 0;function Dt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.__data__=new Rt;++e<n;)this.add(t[e])}function jt(t){this.__data__=new Vt(t)}function kt(t,e){var n=re(t)||ne(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,a=!!r;for(var o in t)!e&&!it.call(t,o)||a&&("length"==o||qt(o,r))||n.push(o);return n}function Ut(t,e){for(var n=t.length;n--;)if(ee(t[n][0],e))return n;return-1}function Lt(t,e){for(var n=0,r=(e=zt(e,t)?[e]:Kt(e)).length;null!=t&&n<r;)t=t[Qt(e[n++])];return n&&n==r?t:void 0}function Yt(t,e){return null!=t&&e in Object(t)}function Nt(t,e,n,r,a){return t===e||(null==t||null==e||!ce(t)&&!se(e)?t!=t&&e!=e:function(t,e,n,r,a,o){var i=re(t),c=re(e),s=m,u=m;i||(s=(s=Wt(t))==_?S:s);c||(u=(u=Wt(e))==_?S:u);var l=s==S&&!z(t),d=u==S&&!z(e),p=s==u;if(p&&!l)return o=o||new jt,i||de(t)?Mt(t,e,n,r,a,o):function(t,e,n,r,a,o,i){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return t.byteLength==e.byteLength&&r(new lt(t),new lt(e))?!0:!1;case A:case E:case I:return ee(+t,+e);case w:return t.name==e.name&&t.message==e.message;case P:case D:return t==e+"";case T:var c=$;case O:var s=o&b;if(c=c||H,t.size!=e.size&&!s)return!1;var u=i.get(t);if(u)return u==e;o|=g,i.set(t,e);var l=Mt(c(t),c(e),r,a,o,i);return i.delete(t),l;case V:if(Pt)return Pt.call(t)==Pt.call(e)}return!1}(t,e,s,n,r,a,o);if(!(a&b)){var f=l&&it.call(t,"__wrapped__"),h=d&&it.call(e,"__wrapped__");if(f||h){var v=f?t.value():t,y=h?e.value():e;return o=o||new jt,n(v,y,r,a,o)}}return p&&(o=o||new jt,function(t,e,n,r,a,o){var i=a&b,c=fe(t),s=c.length,u=fe(e).length;if(s!=u&&!i)return!1;var l=s;for(;l--;){var d=c[l];if(!(i?d in e:it.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);var h=i;for(;++l<s;){d=c[l];var v,y=t[d],g=e[d];if(r&&(v=i?r(g,y,d,e,t,o):r(y,g,d,t,e,o)),!(void 0===v?y===g||n(y,g,r,a,o):v)){f=!1;break}h=h||"constructor"==d}{var _,m;f&&!h&&(_=t.constructor,m=e.constructor,_!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m)&&(f=!1))}return o.delete(t),o.delete(e),f}(t,e,n,r,a,o))}(t,e,Nt,n,r,a))}function Bt(t){return ce(t)&&!(at&&at in t)&&(oe(t)||z(t)?st:U).test(Xt(t))}function Gt(t){return"function"==typeof t?t:null==t?he:"object"==typeof t?re(t)?function(s,u){if(zt(s)&&$t(u))return Ht(Qt(s),u);return function(t){var e,n,r,a,o,i,c=(n=s,void 0===(a=null==(e=t)?void 0:Lt(e,n))?r:a);return void 0===c&&c===u?(i=s,null!=(o=t)&&function(t,e,n){e=zt(e,t)?[e]:Kt(e);for(var r,a=-1,o=e.length;++a<o;){var i=Qt(e[a]);if(!(r=null!=t&&n(t,i)))break;t=t[i]}return r||!!(o=t?t.length:0)&&ie(o)&&qt(i,o)&&(re(t)||ne(t))}(o,i,Yt)):Nt(u,c,void 0,g|b)}}(t[0],t[1]):function(e){var n=function(t){var e=fe(t),n=e.length;for(;n--;){var r=e[n],a=t[r];e[n]=[r,a,$t(a)]}return e}(e);if(1==n.length&&n[0][2])return Ht(n[0][0],n[0][1]);return function(t){return t===e||function(t,e,n,r){var a=n.length,o=a,i=!r;if(null==t)return!o;for(t=Object(t);a--;){var c=n[a];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var s=(c=n[a])[0],u=t[s],l=c[1];if(i&&c[2]){if(void 0===u&&!(s in t))return!1}else{var d,p=new jt;if(r&&(d=r(u,l,s,t,e,p)),!(void 0===d?Nt(l,u,r,g|b,p):d))return!1}}return!0}(t,e,n)}}(t):zt(e=t)?function(e){return function(t){return null==t?void 0:t[e]}}(Qt(e)):function(e){return function(t){return Lt(t,e)}}(e);var e}function xt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||nt,e!==r)return ft(t);var e,n,r,a=[];for(var o in Object(t))it.call(t,o)&&"constructor"!=o&&a.push(o);return a}function Kt(t){return re(t)?t:Zt(t)}function Mt(t,e,n,r,a,o){var i=a&b,c=t.length,s=e.length;if(c!=s&&!(i&&c<s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,d=!0,p=a&g?new Ct:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var f,h=t[l],v=e[l];if(r&&(f=i?r(v,h,l,e,t,o):r(h,v,l,t,e,o)),void 0!==f){if(f)continue;d=!1;break}if(p){if(!function(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return 1}(e,function(t,e){return!p.has(e)&&(h===t||n(h,t,r,a,o))&&p.add(e)})){d=!1;break}}else if(h!==v&&!n(h,v,r,a,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Ft(t,e){var n,r,a=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function Jt(t,e){var n,r,a=(r=e,null==(n=t)?void 0:n[r]);return Bt(a)?a:void 0}Dt.prototype.clear=function(){this.__data__=bt?bt(null):{}},Dt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Dt.prototype.get=function(t){var e=this.__data__;if(bt){var n=e[t];return n===r?void 0:n}return it.call(e,t)?e[t]:void 0},Dt.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:it.call(e,t)},Dt.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?r:e,this},Vt.prototype.clear=function(){this.__data__=[]},Vt.prototype.delete=function(t){var e=this.__data__,n=Ut(e,t);return!(n<0)&&(n==e.length-1?e.pop():pt.call(e,n,1),!0)},Vt.prototype.get=function(t){var e=this.__data__,n=Ut(e,t);return n<0?void 0:e[n][1]},Vt.prototype.has=function(t){return-1<Ut(this.__data__,t)},Vt.prototype.set=function(t,e){var n=this.__data__,r=Ut(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Rt.prototype.clear=function(){this.__data__={hash:new Dt,map:new(yt||Vt),string:new Dt}},Rt.prototype.delete=function(t){return Ft(this,t).delete(t)},Rt.prototype.get=function(t){return Ft(this,t).get(t)},Rt.prototype.has=function(t){return Ft(this,t).has(t)},Rt.prototype.set=function(t,e){return Ft(this,t).set(t,e),this},Ct.prototype.add=Ct.prototype.push=function(t){return this.__data__.set(t,r),this},Ct.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.clear=function(){this.__data__=new Vt},jt.prototype.delete=function(t){return this.__data__.delete(t)},jt.prototype.get=function(t){return this.__data__.get(t)},jt.prototype.has=function(t){return this.__data__.has(t)},jt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Vt){var r=n.__data__;if(!yt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Rt(r)}return n.set(t,e),this};var Wt=function(t){return ct.call(t)};function qt(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||Y.test(t))&&-1<t&&t%1==0&&t<e}function zt(t,e){if(!re(t)){var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||ue(t)||(p.test(t)||!d.test(t)||null!=e&&t in Object(e))}}function $t(t){return t==t&&!ce(t)}function Ht(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}(vt&&Wt(new vt(new ArrayBuffer(1)))!=C||yt&&Wt(new yt)!=T||gt&&Wt(gt.resolve())!=u||_t&&Wt(new _t)!=O||mt&&Wt(new mt)!=l)&&(Wt=function(t){var e=ct.call(t),n=e==S?t.constructor:void 0,r=n?Xt(n):void 0;if(r)switch(r){case At:return C;case Et:return T;case wt:return u;case Tt:return O;case It:return l}return e});var Zt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ue(t))return Ot?Ot.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(e);var a=[];return f.test(t)&&a.push(""),t.replace(h,function(t,e,n,r){a.push(n?r.replace(y,"$1"):e||t)}),a});function Qt(t){if("string"==typeof t||ue(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Xt(t){if(null!=t){try{return ot.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(a,o){if("function"!=typeof a||o&&"function"!=typeof o)throw new TypeError(e);var i=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=i.cache;if(n.has(e))return n.get(e);var r=a.apply(this,t);return i.cache=n.set(e,r),r};return i.cache=new(te.Cache||Rt),i}function ee(t,e){return t===e||t!=t&&e!=e}function ne(t){return se(e=t)&&ae(e)&&it.call(t,"callee")&&(!dt.call(t,"callee")||ct.call(t)==_);var e}te.Cache=Rt;var re=Array.isArray;function ae(t){return null!=t&&ie(t.length)&&!oe(t)}function oe(t){var e=ce(t)?ct.call(t):"";return e==o||e==i}function ie(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=n}function ce(t){var e=typeof t;return t&&("object"==e||"function"==e)}function se(t){return!!t&&"object"==typeof t}function ue(t){return"symbol"==typeof t||se(t)&&ct.call(t)==V}var le,de=q?(le=q,function(t){return le(t)}):function(t){return se(t)&&ie(t.length)&&!!N[ct.call(t)]};function pe(t){if("number"==typeof t)return t;if(ue(t))return a;var e;if(ce(t)&&(t=ce(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(v,"");var n=k.test(t);return n||L.test(t)?B(t.slice(2),n?2:8):j.test(t)?a:+t}function fe(t){return(ae(t)?kt:xt)(t)}function he(t){return t}ve.exports=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var a,o,i=null==n?0:(a=function(t){return t?(t=pe(t))!==c&&t!==-c?t==t?t:0:(t<0?-1:1)*s:0===t?t:0}(n),o=a%1,a==a?o?a-o:a:0);return i<0&&(i=ht(r+i,0)),function(t,e,n,r){for(var a=t.length,o=n+(r?1:-1);r?o--:++o<a;)if(e(t[o],o,t))return o;return-1}(t,Gt(e),i)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,n){var u=9007199254740991,l="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",d=/^(?:0|[1-9]\d*)$/;function r(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}var i,c,s=Object.prototype,p=s.hasOwnProperty,f=s.toString,h=s.propertyIsEnumerable,v=(i=Object.keys,c=Object,function(t){return i(c(t))});function y(t,e){var n,r,a,o=w(t)||function(t){return function(t){return t&&"object"==typeof t}(t)&&T(t)}(n=t)&&p.call(n,"callee")&&(!h.call(n,"callee")||f.call(n)==l)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],i=o.length,c=!!i;for(var s in t)!e&&!p.call(t,s)||c&&("length"==s||(r=s,(a=null==(a=i)?u:a)&&("number"==typeof r||d.test(r))&&-1<r&&r%1==0&&r<a))||o.push(s);return o}var g,_,m,b=(g=function(t,e){return t&&A(t,e,I)},function(t,e){if(null==t)return t;if(!T(t))return g(t,e);for(var n=t.length,r=_?n:-1,a=Object(t);(_?r--:++r<n)&&!1!==e(a[r],r,a););return t}),A=function(t,e,n){for(var r=-1,a=Object(t),o=n(t),i=o.length;i--;){var c=o[m?i:++r];if(!1===e(a[c],c,a))break}return t};function E(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||s,e!==r)return v(t);var e,n,r,a=[];for(var o in Object(t))p.call(t,o)&&"constructor"!=o&&a.push(o);return a}var w=Array.isArray;function T(t){return null!=t&&("number"==typeof(r=t.length)&&-1<r&&r%1==0&&r<=u)&&!((n=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(e=t)?f.call(e):"")==a||n==o);var e,n,r}function I(t){return(T(t)?y:E)(t)}function S(t){return t}e.exports=function(t,e){return(w(t)?r:b)(t,"function"==typeof e?e:S)}},{}],9:[function(t,fe,he){(function(t){var e="Expected a function",r="__lodash_hash_undefined__",g=1,b=2,n=1/0,a=9007199254740991,_="[object Arguments]",m="[object Array]",A="[object Boolean]",E="[object Date]",w="[object Error]",o="[object Function]",i="[object GeneratorFunction]",T="[object Map]",I="[object Number]",S="[object Object]",c="[object Promise]",P="[object RegExp]",O="[object Set]",D="[object String]",V="[object Symbol]",s="[object WeakMap]",R="[object ArrayBuffer]",C="[object DataView]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[_]=y[m]=y[R]=y[A]=y[C]=y[E]=y[w]=y[o]=y[T]=y[I]=y[S]=y[P]=y[O]=y[D]=y[s]=!1;var j="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,U=j||k||Function("return this")(),L="object"==typeof he&&he&&!he.nodeType&&he,Y=L&&"object"==typeof fe&&fe&&!fe.nodeType&&fe,N=Y&&Y.exports===L&&j.process,B=function(){try{return N&&N.binding("util")}catch(t){}}(),G=B&&B.isTypedArray;function x(t,e){for(var n=-1,r=t?t.length:0,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}function K(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function M(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function F(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var J,W,q,z=Array.prototype,$=Function.prototype,H=Object.prototype,Z=U["__core-js_shared__"],Q=(J=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",X=$.toString,tt=H.hasOwnProperty,et=H.toString,nt=RegExp("^"+X.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=U.Symbol,at=U.Uint8Array,ot=H.propertyIsEnumerable,it=z.splice,ct=(W=Object.keys,q=Object,function(t){return W(q(t))}),st=Ft(U,"DataView"),ut=Ft(U,"Map"),lt=Ft(U,"Promise"),dt=Ft(U,"Set"),pt=Ft(U,"WeakMap"),ft=Ft(Object,"create"),ht=Qt(st),vt=Qt(ut),yt=Qt(lt),gt=Qt(dt),_t=Qt(pt),mt=rt?rt.prototype:void 0,bt=mt?mt.valueOf:void 0,At=mt?mt.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.__data__=new Tt;++e<n;)this.add(t[e])}function St(t){this.__data__=new wt(t)}function Pt(t,e){var n=ne(t)||ee(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,a=!!r;for(var o in t)!e&&!tt.call(t,o)||a&&("length"==o||Wt(o,r))||n.push(o);return n}function Ot(t,e){for(var n=t.length;n--;)if(te(t[n][0],e))return n;return-1}Et.prototype.clear=function(){this.__data__=ft?ft(null):{}},Et.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Et.prototype.get=function(t){var e=this.__data__;if(ft){var n=e[t];return n===r?void 0:n}return tt.call(e,t)?e[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return ft?void 0!==e[t]:tt.call(e,t)},Et.prototype.set=function(t,e){return this.__data__[t]=ft&&void 0===e?r:e,this},wt.prototype.clear=function(){this.__data__=[]},wt.prototype.delete=function(t){var e=this.__data__,n=Ot(e,t);return!(n<0)&&(n==e.length-1?e.pop():it.call(e,n,1),!0)},wt.prototype.get=function(t){var e=this.__data__,n=Ot(e,t);return n<0?void 0:e[n][1]},wt.prototype.has=function(t){return-1<Ot(this.__data__,t)},wt.prototype.set=function(t,e){var n=this.__data__,r=Ot(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new Et,map:new(ut||wt),string:new Et}},Tt.prototype.delete=function(t){return Mt(this,t).delete(t)},Tt.prototype.get=function(t){return Mt(this,t).get(t)},Tt.prototype.has=function(t){return Mt(this,t).has(t)},Tt.prototype.set=function(t,e){return Mt(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,r),this},It.prototype.has=function(t){return this.__data__.has(t)},St.prototype.clear=function(){this.__data__=new wt},St.prototype.delete=function(t){return this.__data__.delete(t)},St.prototype.get=function(t){return this.__data__.get(t)},St.prototype.has=function(t){return this.__data__.has(t)},St.prototype.set=function(t,e){var n=this.__data__;if(n instanceof wt){var r=n.__data__;if(!ut||r.length<199)return r.push([t,e]),this;n=this.__data__=new Tt(r)}return n.set(t,e),this};var Dt,Vt,Rt,Ct=(Dt=function(t,e){return t&&jt(t,e,de)},function(t,e){if(null==t)return t;if(!re(t))return Dt(t,e);for(var n=t.length,r=Vt?n:-1,a=Object(t);(Vt?r--:++r<n)&&!1!==e(a[r],r,a););return t}),jt=function(t,e,n){for(var r=-1,a=Object(t),o=n(t),i=o.length;i--;){var c=o[Rt?i:++r];if(!1===e(a[c],c,a))break}return t};function kt(t,e){for(var n=0,r=(e=qt(e,t)?[e]:xt(e)).length;null!=t&&n<r;)t=t[Zt(e[n++])];return n&&n==r?t:void 0}function Ut(t,e){return null!=t&&e in Object(t)}function Lt(t,e,n,r,a){return t===e||(null==t||null==e||!ie(t)&&!ce(e)?t!=t&&e!=e:function(t,e,n,r,a,o){var i=ne(t),c=ne(e),s=m,u=m;i||(s=(s=Jt(t))==_?S:s);c||(u=(u=Jt(e))==_?S:u);var l=s==S&&!K(t),d=u==S&&!K(e),p=s==u;if(p&&!l)return o=o||new St,i||le(t)?Kt(t,e,n,r,a,o):function(t,e,n,r,a,o,i){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return t.byteLength==e.byteLength&&r(new at(t),new at(e))?!0:!1;case A:case E:case I:return te(+t,+e);case w:return t.name==e.name&&t.message==e.message;case P:case D:return t==e+"";case T:var c=M;case O:var s=o&b;if(c=c||F,t.size!=e.size&&!s)return!1;var u=i.get(t);if(u)return u==e;o|=g,i.set(t,e);var l=Kt(c(t),c(e),r,a,o,i);return i.delete(t),l;case V:if(bt)return bt.call(t)==bt.call(e)}return!1}(t,e,s,n,r,a,o);if(!(a&b)){var f=l&&tt.call(t,"__wrapped__"),h=d&&tt.call(e,"__wrapped__");if(f||h){var v=f?t.value():t,y=h?e.value():e;return o=o||new St,n(v,y,r,a,o)}}return p&&(o=o||new St,function(t,e,n,r,a,o){var i=a&b,c=de(t),s=c.length,u=de(e).length;if(s!=u&&!i)return!1;var l=s;for(;l--;){var d=c[l];if(!(i?d in e:tt.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);var h=i;for(;++l<s;){d=c[l];var v,y=t[d],g=e[d];if(r&&(v=i?r(g,y,d,e,t,o):r(y,g,d,t,e,o)),!(void 0===v?y===g||n(y,g,r,a,o):v)){f=!1;break}h=h||"constructor"==d}{var _,m;f&&!h&&(_=t.constructor,m=e.constructor,_!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m)&&(f=!1))}return o.delete(t),o.delete(e),f}(t,e,n,r,a,o))}(t,e,Lt,n,r,a))}function Yt(t){return ie(t)&&!(Q&&Q in t)&&(ae(t)||K(t)?nt:h).test(Qt(t))}function Nt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?ne(t)?function(s,u){if(qt(s)&&zt(u))return $t(Zt(s),u);return function(t){var e,n,r,a,o,i,c=(n=s,void 0===(a=null==(e=t)?void 0:kt(e,n))?r:a);return void 0===c&&c===u?(i=s,null!=(o=t)&&function(t,e,n){e=qt(e,t)?[e]:xt(e);for(var r,a=-1,o=e.length;++a<o;){var i=Zt(e[a]);if(!(r=null!=t&&n(t,i)))break;t=t[i]}return r||!!(o=t?t.length:0)&&oe(o)&&Wt(i,o)&&(ne(t)||ee(t))}(o,i,Ut)):Lt(u,c,void 0,g|b)}}(t[0],t[1]):function(e){var n=function(t){var e=de(t),n=e.length;for(;n--;){var r=e[n],a=t[r];e[n]=[r,a,zt(a)]}return e}(e);if(1==n.length&&n[0][2])return $t(n[0][0],n[0][1]);return function(t){return t===e||function(t,e,n,r){var a=n.length,o=a,i=!r;if(null==t)return!o;for(t=Object(t);a--;){var c=n[a];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var s=(c=n[a])[0],u=t[s],l=c[1];if(i&&c[2]){if(void 0===u&&!(s in t))return!1}else{var d,p=new St;if(r&&(d=r(u,l,s,t,e,p)),!(void 0===d?Lt(l,u,r,g|b,p):d))return!1}}return!0}(t,e,n)}}(t):qt(e=t)?function(e){return function(t){return null==t?void 0:t[e]}}(Zt(e)):function(e){return function(t){return kt(t,e)}}(e);var e}function Bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||H,e!==r)return ct(t);var e,n,r,a=[];for(var o in Object(t))tt.call(t,o)&&"constructor"!=o&&a.push(o);return a}function Gt(t,r){var a=-1,o=re(t)?Array(t.length):[];return Ct(t,function(t,e,n){o[++a]=r(t,e,n)}),o}function xt(t){return ne(t)?t:Ht(t)}function Kt(t,e,n,r,a,o){var i=a&b,c=t.length,s=e.length;if(c!=s&&!(i&&c<s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,d=!0,p=a&g?new It:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var f,h=t[l],v=e[l];if(r&&(f=i?r(v,h,l,e,t,o):r(h,v,l,t,e,o)),void 0!==f){if(f)continue;d=!1;break}if(p){if(!function(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return 1}(e,function(t,e){return!p.has(e)&&(h===t||n(h,t,r,a,o))&&p.add(e)})){d=!1;break}}else if(h!==v&&!n(h,v,r,a,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Mt(t,e){var n,r,a=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function Ft(t,e){var n,r,a=(r=e,null==(n=t)?void 0:n[r]);return Yt(a)?a:void 0}var Jt=function(t){return et.call(t)};function Wt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||v.test(t))&&-1<t&&t%1==0&&t<e}function qt(t,e){if(!ne(t)){var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||se(t)||(l.test(t)||!u.test(t)||null!=e&&t in Object(e))}}function zt(t){return t==t&&!ie(t)}function $t(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}(st&&Jt(new st(new ArrayBuffer(1)))!=C||ut&&Jt(new ut)!=T||lt&&Jt(lt.resolve())!=c||dt&&Jt(new dt)!=O||pt&&Jt(new pt)!=s)&&(Jt=function(t){var e=et.call(t),n=e==S?t.constructor:void 0,r=n?Qt(n):void 0;if(r)switch(r){case ht:return C;case vt:return T;case yt:return c;case gt:return O;case _t:return s}return e});var Ht=Xt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return At?At.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}(e);var a=[];return d.test(t)&&a.push(""),t.replace(p,function(t,e,n,r){a.push(n?r.replace(f,"$1"):e||t)}),a});function Zt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function Qt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xt(a,o){if("function"!=typeof a||o&&"function"!=typeof o)throw new TypeError(e);var i=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=i.cache;if(n.has(e))return n.get(e);var r=a.apply(this,t);return i.cache=n.set(e,r),r};return i.cache=new(Xt.Cache||Tt),i}function te(t,e){return t===e||t!=t&&e!=e}function ee(t){return ce(e=t)&&re(e)&&tt.call(t,"callee")&&(!ot.call(t,"callee")||et.call(t)==_);var e}Xt.Cache=Tt;var ne=Array.isArray;function re(t){return null!=t&&oe(t.length)&&!ae(t)}function ae(t){var e=ie(t)?et.call(t):"";return e==o||e==i}function oe(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=a}function ie(t){var e=typeof t;return t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function se(t){return"symbol"==typeof t||ce(t)&&et.call(t)==V}var ue,le=G?(ue=G,function(t){return ue(t)}):function(t){return ce(t)&&oe(t.length)&&!!y[et.call(t)]};function de(t){return(re(t)?Pt:Bt)(t)}function pe(t){return t}fe.exports=function(t,e){return(ne(t)?x:Gt)(t,Nt(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,fe,he){(function(t){var e="Expected a function",r="__lodash_hash_undefined__",g=1,b=2,n=1/0,a=9007199254740991,_="[object Arguments]",m="[object Array]",A="[object Boolean]",E="[object Date]",w="[object Error]",o="[object Function]",i="[object GeneratorFunction]",T="[object Map]",I="[object Number]",S="[object Object]",c="[object Promise]",P="[object RegExp]",O="[object Set]",D="[object String]",V="[object Symbol]",s="[object WeakMap]",R="[object ArrayBuffer]",C="[object DataView]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,v=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[_]=y[m]=y[R]=y[A]=y[C]=y[E]=y[w]=y[o]=y[T]=y[I]=y[S]=y[P]=y[O]=y[D]=y[s]=!1;var j="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,U=j||k||Function("return this")(),L="object"==typeof he&&he&&!he.nodeType&&he,Y=L&&"object"==typeof fe&&fe&&!fe.nodeType&&fe,N=Y&&Y.exports===L&&j.process,B=function(){try{return N&&N.binding("util")}catch(t){}}(),G=B&&B.isTypedArray;function x(t,e,n,r){var a=-1,o=t?t.length:0;for(r&&o&&(n=t[++a]);++a<o;)n=e(n,t[a],a,t);return n}function K(t,r,a,o,e){return e(t,function(t,e,n){a=o?(o=!1,t):r(a,t,e,n)}),a}function M(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function F(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function J(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var W,q,z,$=Array.prototype,H=Function.prototype,Z=Object.prototype,Q=U["__core-js_shared__"],X=(W=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",tt=H.toString,et=Z.hasOwnProperty,nt=Z.toString,rt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=U.Symbol,ot=U.Uint8Array,it=Z.propertyIsEnumerable,ct=$.splice,st=(q=Object.keys,z=Object,function(t){return q(z(t))}),ut=Ft(U,"DataView"),lt=Ft(U,"Map"),dt=Ft(U,"Promise"),pt=Ft(U,"Set"),ft=Ft(U,"WeakMap"),ht=Ft(Object,"create"),vt=Qt(ut),yt=Qt(lt),gt=Qt(dt),_t=Qt(pt),mt=Qt(ft),bt=at?at.prototype:void 0,At=bt?bt.valueOf:void 0,Et=bt?bt.toString:void 0;function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function St(t){var e=-1,n=t?t.length:0;for(this.__data__=new It;++e<n;)this.add(t[e])}function Pt(t){this.__data__=new Tt(t)}function Ot(t,e){var n=ne(t)||ee(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,a=!!r;for(var o in t)!e&&!et.call(t,o)||a&&("length"==o||Wt(o,r))||n.push(o);return n}function Dt(t,e){for(var n=t.length;n--;)if(te(t[n][0],e))return n;return-1}wt.prototype.clear=function(){this.__data__=ht?ht(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(ht){var n=e[t];return n===r?void 0:n}return et.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return ht?void 0!==e[t]:et.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=ht&&void 0===e?r:e,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(t){var e=this.__data__,n=Dt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ct.call(e,n,1),!0)},Tt.prototype.get=function(t){var e=this.__data__,n=Dt(e,t);return n<0?void 0:e[n][1]},Tt.prototype.has=function(t){return-1<Dt(this.__data__,t)},Tt.prototype.set=function(t,e){var n=this.__data__,r=Dt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},It.prototype.clear=function(){this.__data__={hash:new wt,map:new(lt||Tt),string:new wt}},It.prototype.delete=function(t){return Mt(this,t).delete(t)},It.prototype.get=function(t){return Mt(this,t).get(t)},It.prototype.has=function(t){return Mt(this,t).has(t)},It.prototype.set=function(t,e){return Mt(this,t).set(t,e),this},St.prototype.add=St.prototype.push=function(t){return this.__data__.set(t,r),this},St.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new Tt},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Tt){var r=n.__data__;if(!lt||r.length<199)return r.push([t,e]),this;n=this.__data__=new It(r)}return n.set(t,e),this};var Vt,Rt,Ct,jt=(Vt=function(t,e){return t&&kt(t,e,de)},function(t,e){if(null==t)return t;if(!re(t))return Vt(t,e);for(var n=t.length,r=Rt?n:-1,a=Object(t);(Rt?r--:++r<n)&&!1!==e(a[r],r,a););return t}),kt=function(t,e,n){for(var r=-1,a=Object(t),o=n(t),i=o.length;i--;){var c=o[Ct?i:++r];if(!1===e(a[c],c,a))break}return t};function Ut(t,e){for(var n=0,r=(e=qt(e,t)?[e]:xt(e)).length;null!=t&&n<r;)t=t[Zt(e[n++])];return n&&n==r?t:void 0}function Lt(t,e){return null!=t&&e in Object(t)}function Yt(t,e,n,r,a){return t===e||(null==t||null==e||!ie(t)&&!ce(e)?t!=t&&e!=e:function(t,e,n,r,a,o){var i=ne(t),c=ne(e),s=m,u=m;i||(s=(s=Jt(t))==_?S:s);c||(u=(u=Jt(e))==_?S:u);var l=s==S&&!M(t),d=u==S&&!M(e),p=s==u;if(p&&!l)return o=o||new Pt,i||le(t)?Kt(t,e,n,r,a,o):function(t,e,n,r,a,o,i){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return t.byteLength==e.byteLength&&r(new ot(t),new ot(e))?!0:!1;case A:case E:case I:return te(+t,+e);case w:return t.name==e.name&&t.message==e.message;case P:case D:return t==e+"";case T:var c=F;case O:var s=o&b;if(c=c||J,t.size!=e.size&&!s)return!1;var u=i.get(t);if(u)return u==e;o|=g,i.set(t,e);var l=Kt(c(t),c(e),r,a,o,i);return i.delete(t),l;case V:if(At)return At.call(t)==At.call(e)}return!1}(t,e,s,n,r,a,o);if(!(a&b)){var f=l&&et.call(t,"__wrapped__"),h=d&&et.call(e,"__wrapped__");if(f||h){var v=f?t.value():t,y=h?e.value():e;return o=o||new Pt,n(v,y,r,a,o)}}return p&&(o=o||new Pt,function(t,e,n,r,a,o){var i=a&b,c=de(t),s=c.length,u=de(e).length;if(s!=u&&!i)return!1;var l=s;for(;l--;){var d=c[l];if(!(i?d in e:et.call(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);var h=i;for(;++l<s;){d=c[l];var v,y=t[d],g=e[d];if(r&&(v=i?r(g,y,d,e,t,o):r(y,g,d,t,e,o)),!(void 0===v?y===g||n(y,g,r,a,o):v)){f=!1;break}h=h||"constructor"==d}{var _,m;f&&!h&&(_=t.constructor,m=e.constructor,_!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m)&&(f=!1))}return o.delete(t),o.delete(e),f}(t,e,n,r,a,o))}(t,e,Yt,n,r,a))}function Nt(t){return ie(t)&&!(X&&X in t)&&(ae(t)||M(t)?rt:h).test(Qt(t))}function Bt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?ne(t)?function(s,u){if(qt(s)&&zt(u))return $t(Zt(s),u);return function(t){var e,n,r,a,o,i,c=(n=s,void 0===(a=null==(e=t)?void 0:Ut(e,n))?r:a);return void 0===c&&c===u?(i=s,null!=(o=t)&&function(t,e,n){e=qt(e,t)?[e]:xt(e);for(var r,a=-1,o=e.length;++a<o;){var i=Zt(e[a]);if(!(r=null!=t&&n(t,i)))break;t=t[i]}return r||!!(o=t?t.length:0)&&oe(o)&&Wt(i,o)&&(ne(t)||ee(t))}(o,i,Lt)):Yt(u,c,void 0,g|b)}}(t[0],t[1]):function(e){var n=function(t){var e=de(t),n=e.length;for(;n--;){var r=e[n],a=t[r];e[n]=[r,a,zt(a)]}return e}(e);if(1==n.length&&n[0][2])return $t(n[0][0],n[0][1]);return function(t){return t===e||function(t,e,n,r){var a=n.length,o=a,i=!r;if(null==t)return!o;for(t=Object(t);a--;){var c=n[a];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<o;){var s=(c=n[a])[0],u=t[s],l=c[1];if(i&&c[2]){if(void 0===u&&!(s in t))return!1}else{var d,p=new Pt;if(r&&(d=r(u,l,s,t,e,p)),!(void 0===d?Yt(l,u,r,g|b,p):d))return!1}}return!0}(t,e,n)}}(t):qt(e=t)?function(e){return function(t){return null==t?void 0:t[e]}}(Zt(e)):function(e){return function(t){return Ut(t,e)}}(e);var e}function Gt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||Z,e!==r)return st(t);var e,n,r,a=[];for(var o in Object(t))et.call(t,o)&&"constructor"!=o&&a.push(o);return a}function xt(t){return ne(t)?t:Ht(t)}function Kt(t,e,n,r,a,o){var i=a&b,c=t.length,s=e.length;if(c!=s&&!(i&&c<s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,d=!0,p=a&g?new St:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var f,h=t[l],v=e[l];if(r&&(f=i?r(v,h,l,e,t,o):r(h,v,l,t,e,o)),void 0!==f){if(f)continue;d=!1;break}if(p){if(!function(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return 1}(e,function(t,e){return!p.has(e)&&(h===t||n(h,t,r,a,o))&&p.add(e)})){d=!1;break}}else if(h!==v&&!n(h,v,r,a,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Mt(t,e){var n,r,a=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof e?"string":"hash"]:a.map}function Ft(t,e){var n,r,a=(r=e,null==(n=t)?void 0:n[r]);return Nt(a)?a:void 0}var Jt=function(t){return nt.call(t)};function Wt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||v.test(t))&&-1<t&&t%1==0&&t<e}function qt(t,e){if(!ne(t)){var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||se(t)||(l.test(t)||!u.test(t)||null!=e&&t in Object(e))}}function zt(t){return t==t&&!ie(t)}function $t(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}(ut&&Jt(new ut(new ArrayBuffer(1)))!=C||lt&&Jt(new lt)!=T||dt&&Jt(dt.resolve())!=c||pt&&Jt(new pt)!=O||ft&&Jt(new ft)!=s)&&(Jt=function(t){var e=nt.call(t),n=e==S?t.constructor:void 0,r=n?Qt(n):void 0;if(r)switch(r){case vt:return C;case yt:return T;case gt:return c;case _t:return O;case mt:return s}return e});var Ht=Xt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(se(t))return Et?Et.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}(e);var a=[];return d.test(t)&&a.push(""),t.replace(p,function(t,e,n,r){a.push(n?r.replace(f,"$1"):e||t)}),a});function Zt(t){if("string"==typeof t||se(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function Qt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xt(a,o){if("function"!=typeof a||o&&"function"!=typeof o)throw new TypeError(e);var i=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=i.cache;if(n.has(e))return n.get(e);var r=a.apply(this,t);return i.cache=n.set(e,r),r};return i.cache=new(Xt.Cache||It),i}function te(t,e){return t===e||t!=t&&e!=e}function ee(t){return ce(e=t)&&re(e)&&et.call(t,"callee")&&(!it.call(t,"callee")||nt.call(t)==_);var e}Xt.Cache=It;var ne=Array.isArray;function re(t){return null!=t&&oe(t.length)&&!ae(t)}function ae(t){var e=ie(t)?nt.call(t):"";return e==o||e==i}function oe(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=a}function ie(t){var e=typeof t;return t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function se(t){return"symbol"==typeof t||ce(t)&&nt.call(t)==V}var ue,le=G?(ue=G,function(t){return ue(t)}):function(t){return ce(t)&&oe(t.length)&&!!y[nt.call(t)]};function de(t){return(re(t)?Ot:Gt)(t)}function pe(t){return t}fe.exports=function(t,e,n){var r=ne(t)?x:K,a=arguments.length<3;return r(t,Bt(e),n,a,jt)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(t,e,n){var r=function(i){"use strict";var d,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},a=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,i,c,s,a=e&&e.prototype instanceof _?e:_,u=Object.create(a.prototype),l=new P(r||[]);return u._invoke=(o=t,i=n,c=l,s=f,function(t,e){if(s===v)throw new Error("Generator is already running");if(s===y){if("throw"===t)throw e;return D()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===d){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=d,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=p(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=d),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}(n,c);if(r){if(r===g)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===f)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=v;var a=p(o,i,c);if("normal"===a.type){if(s=c.done?y:h,a.arg===g)continue;return{value:a.arg,done:c.done}}"throw"===a.type&&(s=y,c.method="throw",c.arg=a.arg)}}),u}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f="suspendedStart",h="suspendedYield",v="executing",y="completed",g={};function _(){}function s(){}function u(){}var m={};m[a]=function(){return this};var b=Object.getPrototypeOf,A=b&&b(b(O([])));A&&A!==t&&l.call(A,a)&&(m=A);var E=u.prototype=_.prototype=Object.create(m);function w(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function T(s,u){var e;this._invoke=function(n,r){function t(){return new u(function(t,e){!function e(t,n,r,a){var o=p(s[t],s,n);if("throw"!==o.type){var i=o.arg,c=i.value;return c&&"object"==typeof c&&l.call(c,"__await")?u.resolve(c.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):u.resolve(c).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,a)})}a(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=d,t.done=!0,t};return r.next=r}}return{next:D}}function D(){return{value:d,done:!0}}return((s.prototype=E.constructor=u).constructor=s).displayName=o(u,r,"GeneratorFunction"),i.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,o(t,r,"GeneratorFunction")),t.prototype=Object.create(E),t},i.awrap=function(t){return{__await:t}},w(T.prototype),T.prototype[n]=function(){return this},i.AsyncIterator=T,i.async=function(t,e,n,r,a){void 0===a&&(a=Promise);var o=new T(c(t,e,n,r),a);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},w(E),o(E,r,"Generator"),E[a]=function(){return this},E.toString=function(){return"[object Generator]"},i.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=d),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=l.call(a,"catchLoc"),c=l.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,a=n.completion;return"throw"===a.type&&(r=a.arg,S(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=d),g}},i}("object"==typeof e?e.exports:{});try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},{}],12:[function(t,e,n){"use strict";e.exports={env:window.PUBSTACK_VIDEO_CONFIG.env,access_token:window.PUBSTACK_VIDEO_CONFIG.access_token,new_access_token:window.PUBSTACK_VIDEO_CONFIG.new_access_token,publisher_id:window.PUBSTACK_VIDEO_CONFIG.publisher_id,website:{id:window.PUBSTACK_VIDEO_CONFIG.website.id,c3:window.PUBSTACK_VIDEO_CONFIG.website.c3,title:window.PUBSTACK_VIDEO_CONFIG.website.title}}},{}],13:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault"),et=r(t("@babel/runtime/regenerator")),nt=r(t("@babel/runtime/helpers/asyncToGenerator")),rt=t("lodash.reduce"),at=t("lodash.findindex"),ot=t("lodash.foreach"),it=t("./players/fp.vidgyor.player.js"),ct=t("./utils/http.utils"),st=t("./utils/loader.utils"),ut=t("./utils/dom.utils"),lt=t("./utils/log.utils"),a=t("./utils/helpers.utils"),dt=t("./utils/newrelic.utils"),pt="",ft="",ht="",vt="",yt="",gt="",_t="",mt="",bt="",At="",Et="",wt="",Tt=!1,It="",St="",Pt=!1,Ot="",o=function(){var e=(0,nt.default)(et.default.mark(function t(e){var n,r,a,o,i,c,s,u,l,d,p,g,f,h,v,y,_,m,b,A,E,w,T,I,S,P,O,D,V,R,C,j,k,U,L,Y,N,B,G,x,K,M,F,J,W,q,z,$,H,Z,Q,X,tt;return et.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=ut.fetchFallbackTargets(),l=ut.fetchVidgyorTargets(),0===u.length&&0===l.length)return t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: DIV_ATTRIBUTE_MISSING"});t.next=4;break;case 4:d=[],p={},g=(new Date).getTime(),lt.log("[FP-PLAYER][VIDGYORJS] Player Time started ".concat(new Date)),ot(u,function(t){pt=t.city,ft=t.state,ht=t.district,vt=t.language,yt=t.videotype,gt=t.articleid,_t=t.sectionname,mt=t.videoevent,St=t.isAdDisable,Pt=!!t.ampEvent,Ot=t.placeholderImg,d.push(t.id),0<t.keywords.length&&(p[t.id]=t.keywords.join(","))}),ot(l,function(t){pt=t.city,ft=t.state,ht=t.district,vt=t.language,yt=t.videotype,gt=t.articleid,_t=t.sectionname,mt=t.videoevent,St=t.isAdDisable,Pt=!!t.ampEvent,Ot=t.placeholderImg,d.push(t.id),0<t.keywords.length&&(p[t.id]=t.keywords.join(","))}),bt=/iPhone|iPad/i.test(navigator.userAgent),Tt=/IEMobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|iPad|Blackberry|PlayBook|BB10|Mobile Safari|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent),At=window.location.href.replace("#","&"),Et=window.location.hostname,wt="&section_name=[".concat(_t,"]&Content_Type=[").concat(yt,"]&State=[").concat(ft,"]&District=[").concat(ht,"]&Langauage=[").concat(vt,"]&article_id=[").concat(gt,"]"),f="";try{_t&&(f+="%26section_VID_name%3D".concat(_t)),yt&&(f+="%26content_VID_type%3D".concat(yt)),At&&(f+="%26page_VID_url%3D".concat(At)),gt&&(f+="%26video_VID_id%3D".concat(gt)),ft&&(f+="%26state_VID_name%3D".concat(ft)),pt&&(f+="%26city_VID_name%3D".concat(pt)),ht&&(f+="%26district_VID_name%3D".concat(ht)),Et&&(f+="%26site_VID_name​%3D".concat(Et)),vt&&(f+="%26Langauage%3D".concat(vt)),f.length&&(wt="&cust_params="+f.replace("%26",""))}catch(t){console.log(t)}if(h={},v={},y={},_={},m={},b=e&&0<Object.keys(e).length&&null!=e&&(null!==(n=e.data)&&void 0!==n&&n.videos)?e.data.videos:[],A=e,lt.log("".concat(d,", ").concat(p,", ").concat(pt,", ").concat(ft,", ").concat(ht,", ").concat(vt,", ").concat(yt,", ").concat(gt,", ").concat(_t,", ").concat(bt,", ").concat(At,", ").concat(wt)),lt.log(A),E=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},_=d.filter(E),m=d.filter(function(t){return!E(t)}),A&&0!=Object.keys(A).length){t.next=55;break}if(0<_.length)return t.prev=32,t.next=35,ct.getVideoEmbedUUIDMetadata(_,p,pt,ft,ht,vt,yt,gt,_t,bt,At,Et,St,Pt);t.next=43;break;case 35:h=t.sent,w=h.data&&h.data.videos?h.data.videos:[],Array.isArray(w)&&b.push.apply(b,w),t.next=43;break;case 40:t.prev=40,t.t0=t.catch(32),console.log(t.t0);case 43:if(0<m.length)return t.prev=44,t.next=47,ct.getVideoEmbedMetadata(m,p,pt,ft,ht,vt,yt,gt,_t,bt,At,Et,St,Pt);t.next=55;break;case 47:A=t.sent,T=A.data&&A.data.videos?A.data.videos:[],Array.isArray(T)&&b.push.apply(b,T),t.next=55;break;case 52:t.prev=52,t.t1=t.catch(44),console.log(t.t1);case 55:if(!(_.length!=(null===(r=h)||void 0===r||null===(a=r.data)||void 0===a||null===(o=a.videos)||void 0===o?void 0:o.length)&&0<_.length)){t.next=69;break}if(t.prev=56,P=(null===(I=h)||void 0===I||null===(S=I.data)||void 0===S?void 0:S.videos)||null,0<(O=(null==P?void 0:P.map(function(t){return t._id}))||[]).length)return D=_.filter(function(t){return!O.includes(t)}),t.next=63,ct.getVideoEmbedUUIDMetadata(D,p,pt,ft,ht,vt,yt,gt,_t,bt,At,Et,St,Pt);t.next=64;break;case 63:v=t.sent;case 64:t.next=69;break;case 66:t.prev=66,t.t2=t.catch(56),console.log(t.t2);case 69:if(!(m.length!=(null===(i=A)||void 0===i||null===(c=i.data)||void 0===c||null===(s=c.videos)||void 0===s?void 0:s.length)&&0<m.length)){t.next=83;break}if(t.prev=70,C=(null===(V=A)||void 0===V||null===(R=V.data)||void 0===R?void 0:R.videos)||null,0<(j=(null==C?void 0:C.map(function(t){return t._id}))||[]).length)return k=m.filter(function(t){return!j.includes(t)}),t.next=77,ct.getVideoEmbedMetadata(k,p,pt,ft,ht,vt,yt,gt,_t,bt,At,Et,St,Pt);t.next=78;break;case 77:y=t.sent;case 78:t.next=83;break;case 80:t.prev=80,t.t3=t.catch(70),console.log(t.t3);case 83:if(t.prev=83,A.success||0!=h.isSuccess){t.next=92;break}return lt.log("[FP-PLAYER][LOG] Error fetching video embed data from server!"),lt.log("[FP-PLAYER][LOG] ----------------------- SERVER RESPONSE - START ------------------------"),lt.log("[FP-PLAYER][LOG] ".concat(A.message)),lt.log("[FP-PLAYER][LOG] Video IDs: ".concat(m.join(", "))),lt.log("[FP-PLAYER][LOG] ----------------------- SERVER RESPONSE - END ------------------------"),null!=dt&&dt.addPageAction("DATA_ERROR",{errMessage:null===(U=A)||void 0===U?void 0:U.message,errType:"STREAM_MISSING",vidMongoId:null===(L=m)||void 0===L?void 0:L.join(",")}),t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: STREAM_MISSING"});case 92:if(A.data.videos&&0<A.data.videos.length||h.data.videos&&0<h.data.videos.length){t.next=97;break}return lt.log("[FP-PLAYER][LOG] Video embed data not found!"),lt.log("[FP-PLAYER][LOG] Video IDs: ".concat(d.join(", "))),null!=dt&&dt.addPageAction("DATA_ERROR",{errMessage:"Video embed data not found",errType:"STREAM_MISSING",vidMongoId:null==d?void 0:d.join(",")}),t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: STREAM_MISSING1"});case 97:t.next=102;break;case 99:t.prev=99,t.t4=t.catch(83),console.error("An error occurred:",t.t4);case 102:Y=b;try{null!==(N=v)&&void 0!==N&&(null!==(B=N.data)&&void 0!==B&&B.videos)&&0<(null===(G=v)||void 0===G||null===(x=G.data)||void 0===x||null===(K=x.videos)||void 0===K?void 0:K.length)&&(Y=Y.concat(null===(z=v)||void 0===z||null===($=z.data)||void 0===$?void 0:$.videos)),null!==(M=y)&&void 0!==M&&(null!==(F=M.data)&&void 0!==F&&F.videos)&&0<(null===(J=y)||void 0===J||null===(W=J.data)||void 0===W||null===(q=W.videos)||void 0===q?void 0:q.length)&&(Y=Y.concat(null===(H=y)||void 0===H||null===(Z=H.data)||void 0===Z?void 0:Z.videos))}catch(t){console.log(t)}return Q=rt(Y,function(t,e){return t||"VIDGYORJS"===e.player},!1),X=function(){var t=(0,nt.default)(et.default.mark(function t(){return et.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Q){t.next=4;break}return null!=dt&&dt.addPageAction("DATA_ERROR",{errMessage:"Vidgyor Video Id not found",errType:"PLAYER_DATA_MISSING",vidMongoId:null==d?void 0:d.join(",")}),lt.log("[FP-PLAYER][LOG] Skipping loading Google IMA SDK & VidgyorJS Library!"),t.abrupt("return");case 4:return lt.log("[FP-PLAYER][LOG] Loading VidgyorJS Library!"),t.next=7,Promise.all([st.loadVidgyorJSLibrary()]);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.next=108,Promise.all([X()]);case 108:return tt=[],console.log(u,l,b),ot(u,function(n){var t,e,r,a,o,i,c,s,u,l,d,p,f,h=at(Y,function(t){var e;return(null===(e=t.youtube)||void 0===e?void 0:e.id)===n.id});-1!==h?(e=(t=Y[h])._id,r=t.title,a=t.youtube,o=t.playlist,i=t.sources,c=t.duration,s=t.player,u=t.ad_tag,l=t.ad_tag_desktop,d=t.ad_tag_pwa,p=t.chapters,d&&l&&(It=Tt?d:l,It+=wt,At&&It&&(It=It.replace("[placeholder]",At))),f={video:{id:e,title:r,youtube:a,playlist:o,sources:i,duration:c,category:n.category,articleid:n.articleid,playerid:n.playerid,playerviewport:n.playerviewport,setautoplay:n.setautoplay,videoslot:n.videoslot,ampEvent:n.ampEvent,pipVal:n.pipVal,videoevent:mt,videotype:yt,ad_tag:"true"!=St&&(u||It)||null,startTime:g,chapters:p,placeholderImg:Ot},config:{autoplay:Y[h].autoplay},player:s,target:n.target,embed_type:n.embed_type,platform:n.platform},tt.push(f)):lt.log("[NW18-PLAYER][LOG] Video metadata not found for YouTube ID: ".concat(n.id,"!"))}),ot(l,function(e){var t=at(Y,function(t){return t._id===e.id});if(-1===t)return null!=dt&&dt.addPageAction("DATA_ERROR",{errMessage:"Vidgyor Metadata Video Id not found",errType:"PLAYER_DATA_MISSING",vidMongoId:null==e?void 0:e.id}),void lt.log("[FP-PLAYER][LOG] Video metadata not found for Video ID: ".concat(e.id,"!"));var n=Y[t],r=n._id,a=n.title,o=n.youtube,i=n.playlist,c=n.sources,s=n.duration,u=n.player,l=n.ad_tag,d=n.stream_token,p=n.thumbnail,f=n.ad_tag_desktop,h=n.ad_tag_pwa,v=n.chapters;h&&f&&(It=Tt?h:f,It+=wt,At&&It&&(It=It.replace("[placeholder]",At)));var y={video:{id:r,title:a,youtube:o,playlist:i,sources:c,duration:s,category:e.category,articleid:e.articleid,playerid:e.playerid,playerviewport:e.playerviewport,setautoplay:e.setautoplay,videoslot:e.videoslot,disablecontrols:e.disablecontrols,ampEvent:e.ampEvent,pipVal:e.pipVal,videoevent:mt,videotype:yt,token:d,thumbnail_img:p,ad_tag:"true"!=St&&(l||It)||null,startTime:g,chapters:v,placeholderImg:Ot},config:{autoplay:Y[t].autoplay},player:u,target:e.target,embed_type:e.embed_type,platform:e.platform};tt.push(y)}),ot(tt,function(t){var e;"VIDGYORJS"!==t.player&&"YOUTUBE"!==t.player||(e=new it(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"VIDGYORJS",player:e}))}),t.abrupt("return",{success:!1,message:"Players initialized successfully for embed codes"});case 114:case"end":return t.stop()}},t,null,[[32,40],[44,52],[56,66],[70,80],[83,99]])}));return function(t){return e.apply(this,arguments)}}();a.setupWebPlayer(),lt.log("[FP-PLAYER][LOG] Video library initialization completed!"),window.refreshPubstackPlayers=function(t){a.pushToProcessingQueue(o(t))}},{"./players/fp.vidgyor.player.js":14,"./utils/dom.utils":16,"./utils/helpers.utils":18,"./utils/http.utils":19,"./utils/loader.utils":20,"./utils/log.utils":21,"./utils/newrelic.utils":22,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":6,"lodash.findindex":7,"lodash.foreach":8,"lodash.reduce":10}],14:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault"),a=r(t("@babel/runtime/regenerator")),o=r(t("@babel/runtime/helpers/asyncToGenerator")),i=r(t("@babel/runtime/helpers/defineProperty")),s=r(t("@babel/runtime/helpers/classCallCheck")),u=r(t("@babel/runtime/helpers/createClass"));function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=t("../utils/log.utils"),d=t("../utils/helpers.utils"),p=t("../utils/google-analytics.utils"),f=t("../utils/comscore.utils"),v=t("../utils/loader.utils"),y=t("../utils/newrelic.utils"),g=function(){function c(t,e,n,r){var a,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};(0,s.default)(this,c),this.target=t,this.video=e,this.platform=n,this.embedType=r,this.playerID=d.generatePlayerID("VIDGYORJS"),this.AD_LOADING_STATE=-2,this.INITIALIZE_STATE=-1,this.READY_STATE=0,this.AUTOPLAY_STATE=1,this.PLAY_STATE=2,this.PAUSE_STATE=3,this.END_STATE=4,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousAdState=this.INITIALIZE_STATE,this.currentAdState=this.INITIALIZE_STATE,this.playFirstTime=1,this.autoplayFirstTime=1,this.bufferResume=1,this.previousProgressTime=0,this.videoType="",this.updatedsrc="",this.finalsrc="",this.isInViewport="",this.isInViewportWidget="",this.controlSwitch="",this.newrelicData={vidPlayerName:"VIDGYORJS",vidPlayerId:this.playerID,vidMongoId:this.video.id,vidDuration:this.video.duration,vidTitle:this.video.title,vidUserAgent:null===(a=navigator)||void 0===a?void 0:a.userAgent},this.recognisedDomainsForRetry=["stgassam-mt.news18.com","betaassam-mt.news18.com","assam.news18.com","images.news18.com","telugu.news18.com"],this.isAdSupported=null!==this.video.ad_tag&&!window.PUBSTACK_VIDEO_STATE.adblocker,this.vastTag=null,this.isAdSupported&&(this.vastTag=d.generateVASTTag(this.video.ad_tag,this.video.title,this.video.category,this.video.keywords)),this.startEvent="click",(window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/Android/i))&&(this.startEvent="touchend"),this.initializeConfig(o),this.initializePlayerConfig();var i={unique_id:this.video.id,player:"VIDGYORJS",video_id:this.video.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent};this.googleAnalytics=new p.PlayerAnalytics(this.playerID,i),this.comscoreAnalytics={},this.playerErrorCount=0,this.init()}var t;return(0,u.default)(c,[{key:"initializeConfig",value:function(t){var e={autoplay:!1,loop:!1,muted:!0,preload:"metadata",aspectRatio:"16:9",autoSetup:!1,fluid:!0,language:"en",nativeControlsForTouch:!0,fullscreen:{options:{navigationUI:"show"}},html5:{vhs:{overrideNative:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},playbackRates:[.5,1,1.5,2],responsive:!0,sources:[],poster:[],suppressNotSupportedError:!0,analytics:!0};this.config=l(l({},e),t)}},{key:"initializePlayerConfig",value:function(){var e=this;"video/mp4"===this.video.sources[0].type?(this.videoType="mp4",this.updatedsrc=this.video.sources[0].src,this.finalsrc=this.updatedsrc):(this.videoType="m3u8",this.updatedsrc=this.video.sources[0].src.split("?"),this.finalsrc=this.updatedsrc[0]),"true"===this.video.disablecontrols?this.controlSwitch=!1:this.controlSwitch=!0;var t,n,r,a=/IEMobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|iPad|Blackberry|PlayBook|BB10|Mobile Safari|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent),o=/iPhone|iPad/i.test(navigator.userAgent),i=300,c=360,s=0,u=[];try{a&&(i=window.innerHeight-230,c=window.innerWidth-40)}catch(t){console.log(t)}try{var l=new URLSearchParams(window.location.search),s=l.has("seekto")?l.get("seekto"):"";if(this.video.chapters&&0<this.video.chapters.length)for(var d=0;d<this.video.chapters.length;d++){var p=this.video.chapters[d].duration;p=-1<(p=p.toString()).indexOf(":")?(p=p.split(":"),60*parseInt(p[0])+parseInt(p[1])):parseInt(p),u.push({duration:p,title:this.video.chapters[d].title}),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"]: Chapters added - ").concat(JSON.stringify(u)))}}catch(t){u=[],console.log(t)}this.playerConfig={accountId:"vprism",profile:"62bd56e4517f060009f59961/abded892e2461_vod",playerDivId:this.video.playerid,isAutoPlay:!o,isMute:!!o&&"",posterImageUrl:this.video.placeholderImg?this.video.placeholderImg:this.video.thumbnail_img,tapToUnmute:!1,disableAds:!1,pip:"true"===this.video.pipVal?1:0,piv:0,streamUrl:this.finalsrc,adTag:this.video.ad_tag,mediaType:this.videoType,token:"?hdnts=".concat(this.video.token),controls:this.controlSwitch,pipconf:"true"===this.video.pipVal&&a?"l,20,".concat(i,",180,360,180,").concat(c):"",startFrom:s,chapters:u},this.currentDomain=window.location.hostname;try{this.recognisedDomainsForRetry.includes(this.currentDomain)&&(n=(t=new URLSearchParams(window.location.search)).has("language")?t.get("language"):"",r=!0,"images.news18.com"!=this.currentDomain||"asm"==n&&"tel"==n||(r=!1),r&&(this.playerConfig.accountId="mktest",this.playerConfig.profile="error-test"))}catch(t){console.log(t)}var f=["autoplay","preload","autoSetup","fluid","language","nativeControlsForTouch","fullscreen","html5","playbackRates","responsive","sources","suppressNotSupportedError","analytics","events"];Object.keys(this.config).forEach(function(t){-1===f.indexOf(t)&&(e.playerConfig[t]=e.config[t])})}},{key:"validateTarget",value:function(){if(!(this.target&&this.target instanceof HTMLDivElement))return{status:!1,message:"Target is null or target is not a valid Div element."};var t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),n=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name");return t||e||n?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}}},{key:"updatePlayerTarget",value:function(){this.target.innerHTML="",this.videoTarget=document.createElement("div"),this.videoTarget.id="closeButtonContainer",this.target.appendChild(this.videoTarget)}},{key:"loadVideoAD",value:function(){this.player.ima.initializeAdDisplayContainer(),this.player.ima.setContentWithAdTag(null,this.vastTag,!1),this.player.ima.requestAds(),this.currentAdState=this.READY_STATE}},{key:"initializeGoogleIMA",value:function(){var t=this,e=this;this.player.on("aderror",function(){var t;e.currentAdState=this.END_STATE,e.googleAnalytics.fireAdError("adError",this,!1),null!=y&&y.addPageAction("AD_ERROR",l(l({},e.newrelicData),{},{errMessage:this,vidAdUrl:null==e||null===(t=e.video)||void 0===t?void 0:t.ad_tag}))}),this.player.on("adsready",function(){t.onAdManagerReady.bind(t)()})}},{key:"updatePlayer",value:function(){var t=this;window.VIDGYOR.initPlayer(this.playerConfig),this.player=new window.VidgyorPlayer(this.video.playerid),this.player.ready(function(){t.onReady.bind(t)()}),this.initializeGoogleIMA()}},{key:"init",value:(t=(0,o.default)(a.default.mark(function t(){var e,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.validateTarget()).status){t.next=3;break}throw new Error(e.message);case 3:return this.updatePlayerTarget(),this.updatePlayer(),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Now load Comscore after vidgyor initialize!")),t.next=8,v.loadComscore();case 8:n={unique_id:this.video.id,duration:this.video.duration,title:this.video.title},this.comscoreAnalytics=new f.PlayerComscoreAnalytics("VIDGYORJS",this.playerID,n);case 10:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"checkDynamicViewport",value:function(t){var e=this,n=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(n),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){try{e.currentDomain=window.location.hostname,1<=e.playerErrorCount&&e.recognisedDomainsForRetry.includes(e.currentDomain)&&(null!=y&&y.addPageAction("PLAYER_SUCCESS_AFTER_RETRY",l(l({},null==e?void 0:e.newrelicData),{},{errMessage:e.playerErrorCount,vidStreamUrl:null==e?void 0:e.finalsrc,vidPlayedTime:Math.round(e.player.currentTime())})),e.playerErrorCount++)}catch(t){console.log(t),null!=y&&y.addPageAction("PLAYER_SUCCESS_AFTER_RETRY",{errMessage:t.message})}var t;e.currentState!==e.PAUSE_STATE&&(t=Math.round(e.player.currentTime()),e.previousProgressTime!==t&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%30==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1))},500)}},{key:"onScroll",value:function(){var t,e=this;0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewport=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom);function n(){if(e.isInViewport&&e.currentState!==e.PLAY_STATE)if(e.currentState=e.AUTOPLAY_STATE,e.player.play(),1===e.autoplayFirstTime&&1===e.bufferResume){e.googleAnalytics.fireEvent("AutoPlay",!0),e.autoplayFirstTime=0;try{var t=((new Date).getTime()-e.video.startTime)/1e3;h.log("[NW18-PLAYER][VIDGYORJS] Time taken for autoplay ".concat(t,"s , current time :  ").concat(new Date)),null!=y&&y.addPageAction("PLAYER_READY",l(l({},e.newrelicData),{},{timeToPlay:t,timeToReady:e.video.readyTime}))}catch(t){console.log(t)}}else 0===e.autoplayFirstTime&&0===e.bufferResume&&(e.googleAnalytics.fireEvent("Buffer Resume",!0),e.bufferResume=1);e.isInViewport||e.currentState!==e.PLAY_STATE||e.video.pipVal||e.player.pause()}return this.isAdSupported?this.isInViewport?this.currentAdState===this.INITIALIZE_STATE?(this.currentAdState=this.READY_STATE,h.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video AD is ready to play!")),n()):this.currentAdState===this.PAUSE_STATE?(this.player.adResume(),h.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video Ad playback is resume"))):this.currentAdState!==this.END_STATE&&this.currentAdState!==this.READY_STATE||n():this.isInViewport||this.currentAdState!==this.PLAY_STATE?n():this.player.adPause():n(),null}},{key:"initWidgetImpressionTracker",value:function(){var t,n=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget||window.addEventListener("scroll",function t(){var e;0<n.video.playerviewport.length?n.isInViewportWidget=n.checkDynamicViewport(n.video.playerid):(e=n.target.getBoundingClientRect(),n.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),n.isInViewportWidget&&window.removeEventListener("scroll",t)})}},{key:"onReady",value:function(){var e=this;h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.currentState=this.READY_STATE;var t,n=((new Date).getTime()-this.video.startTime)/1e3;h.log("[NW18-PLAYER][VIDGYORJS] Time taken for player ready ".concat(n)),this.video.readyTime=n,"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(t=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport&&(e.isInViewport=!0,e.onScroll())},{threshold:this.video.playerviewport}).observe(t)):this.onScroll()),this.player.on("timeupdate",function(){return e.initProgressObserver()}),this.player.on("play",function(){e.onPlay(),e.currentState=e.PLAY_STATE}),this.player.on("pause",function(){e.onPause(),e.currentState=e.PAUSE_STATE}),this.player.on("ended",function(){e.onComplete(),e.currentState=e.END_STATE});var r=this;this.player.on("playererror",function(){r.googleAnalytics.firePlayerError("playerError",this,!1);try{var t,e;r.playerErrorCount=r.playerErrorCount+1,1==r.playerErrorCount?null!=y&&y.addPageAction("PLAYER_ERROR",l(l({},null==r?void 0:r.newrelicData),{},{errMessage:this,vidStreamUrl:null==r?void 0:r.finalsrc,vidPlayedTime:null==r||null===(t=r.player)||void 0===t?void 0:t.currentTimeSecs})):null!=y&&y.addPageAction("DUPLICATE_PLAYER_ERROR",l(l({},null==r?void 0:r.newrelicData),{},{errMessage:this,vidStreamUrl:null==r?void 0:r.finalsrc,vidPlayedTime:null==r||null===(e=r.player)||void 0===e?void 0:e.currentTimeSecs}))}catch(t){console.log(t),null!=y&&y.addPageAction("PLAYER_ERROR",l(l({},null==r?void 0:r.newrelicData),{},{errMessage:this,vidStreamUrl:null==r?void 0:r.finalsrc}))}}),this.player.on("errorAfterError",function(){var t;r.googleAnalytics.firePlayerError("errorAfterError",this,!1),null!=y&&y.addPageAction("PLAYER_ERRORAFTERERROR",l(l({},null==r?void 0:r.newrelicData),{},{errMessage:this,vidStreamUrl:null==r?void 0:r.finalsrc,vidPlayedTime:null==r||null===(t=r.player)||void 0===t?void 0:t.currentTimeSecs}))}),this.player.on("error",this.onError.bind(this));var a=this.onScroll.bind(this);window.addEventListener("scroll",a,!0),this.initWidgetImpressionTracker()}},{key:"onAdManagerReady",value:function(){var n=this;this.player.on("adstart",function(){n.currentAdState=n.PLAY_STATE,n.googleAnalytics.fireAdImpression(),n.googleAnalytics.fireAdEvent("AutoPlay",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback is started"))}),this.player.on("adpaused",function(){n.currentAdState=n.PAUSE_STATE,n.googleAnalytics.fireAdEvent("Pause",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback is paused"))}),this.player.on("adresume",function(){n.currentAdState=n.PLAY_STATE,n.googleAnalytics.fireAdEvent("Resume",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback is resume"))}),this.player.on("adcomplete",function(){n.currentAdState=n.END_STATE,n.googleAnalytics.fireAdEvent("Complete",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback is complete")),n.comscoreAnalytics.stopAD(),n.comscoreAnalytics.startVOD()}),this.player.on("adskip",function(){n.currentAdState=n.END_STATE,n.googleAnalytics.fireAdEvent("Skipped",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback is skipped")),n.comscoreAnalytics.stopAD(),n.comscoreAnalytics.startVOD()}),this.player.on("firstquartile",function(){var t=n.player.adDuration();n.currentAdState=n.PLAY_STATE;var e="Ad First Quartile, Total Time - ".concat(t,"s");n.googleAnalytics.fireAdEvent(e,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback first quartile completed"))}),this.player.on("midpoint",function(){var t=n.player.adDuration();n.currentAdState=n.PLAY_STATE;var e="Ad Midpoint, Total Time -  ".concat(t,"s");n.googleAnalytics.fireAdEvent(e,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback midpoint completed"))}),this.player.on("thirdquartile",function(){var t=n.player.adDuration();n.currentAdState=n.PLAY_STATE;var e="Ad Third Quartile, Total Time -  ".concat(t,"s");n.googleAnalytics.fireAdEvent(e,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(n.playerID,"][EVENT] Video Ad playback third quartile completed"))})}},{key:"onPlay",value:function(){this.currentState===this.END_STATE?(this.comscoreAnalytics.reset(),this.googleAnalytics.fireEvent("Play",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!"))):this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState!==this.AUTOPLAY_STATE&&this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")),this.comscoreAnalytics.startVOD()}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.comscoreAnalytics.stopVOD(),this.bufferResume=0,h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),this.comscoreAnalytics.stopVOD(),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] Video playback error!")),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ").concat(t)),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}]),c}();e.exports=g},{"../utils/comscore.utils":15,"../utils/google-analytics.utils":17,"../utils/helpers.utils":18,"../utils/loader.utils":20,"../utils/log.utils":21,"../utils/newrelic.utils":22,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":6}],15:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault"),a=r(t("@babel/runtime/helpers/classCallCheck")),o=r(t("@babel/runtime/helpers/createClass")),i=t("../config/globals"),c=t("./log.utils"),s=function(){function r(t,e,n){(0,a.default)(this,r),this.player=t,this.playerID=e,this.metadata=n,this.init()}return(0,o.default)(r,[{key:"init",value:function(){this.comscoreMetadata={ns_st_ci:this.metadata.unique_id,ns_st_cl:1e3*this.metadata.duration,ns_st_pu:"Network18",ns_st_pr:i.website.title,ns_st_ep:this.metadata.title,ns_st_ge:"News",ns_st_st:"Network18",c3:i.website.c3,c4:"*null",c6:"*null",ns_st_en:"*null",ns_st_sn:"*null",ns_st_ce:"0",ns_st_ia:"*null",ns_st_ddt:"*null",ns_st_tdt:"*null"},this.initializeComscoreInstance(),this.streamingAnalytics&&(10<=this.metadata.duration?this.contentType=window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.LongFormOnDemand:this.contentType=window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand)}},{key:"reset",value:function(){this.initializeComscoreInstance()}},{key:"initializeComscoreInstance",value:function(){var t;window.ns_?(t={publisherId:i.publisher_id},this.streamingAnalytics=new window.ns_.ReducedRequirementsStreamingAnalytics(t),c.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] ComScore streaming analytics instance created successfully!"))):this.streamingAnalytics=null}},{key:"startVOD",value:function(){this.streamingAnalytics.playVideoContentPart(this.comscoreMetadata,this.contentType),c.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing play beacon for VOD!"))}},{key:"stopVOD",value:function(){this.streamingAnalytics.stop(),c.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing stop beacon for VOD!"))}},{key:"startAD",value:function(t){this.streamingAnalytics.playVideoAdvertisement({ns_st_cl:1e3*t}),c.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing start beacon for Video AD!"))}},{key:"stopAD",value:function(){this.streamingAnalytics.stop(),c.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing stop beacon for Video AD!"))}}]),r}();e.exports={PlayerComscoreAnalytics:s}},{"../config/globals":12,"./log.utils":21,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":5}],16:[function(t,e,n){"use strict";var r=t("lodash.foreach"),I=t("./helpers.utils");e.exports={fetchFallbackTargets:function(){var t=document.querySelectorAll("[data-youtube=true]");if(0===t.length)return[];var w=[];return r(t,function(t){var e,n,r,a,o,i,c,s,u,l,d,p,f,h,v,y,g,_,m,b,A,E;t.getAttribute("data-pubstack-state")||(t.innerHTML="",t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","fallback"),(e=t.getAttribute("data-youtube-id"))&&(n=t.getAttribute("data-property-platform"),n=I.getPlayerPlatform(n),r="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",a=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",o=t.getAttribute("data-property-keywords")||"",i=t.getAttribute("data-city-name")||"",c=t.getAttribute("data-state-name")||"",s=t.getAttribute("data-district-name")||"",u=t.getAttribute("data-language")||"",l=t.getAttribute("data-video-type")||"",d=t.getAttribute("data-article-id")||"",p=t.getAttribute("data-section-name")||"",f=t.getAttribute("data-video-event")||"",h=t.getAttribute("id")||"",v=t.getAttribute("data-player-viewport")||"",y=t.getAttribute("data-autoplay")||"",g=t.getAttribute("data-video-slot")||"",_=t.getAttribute("data-video-amp-event")||"",m=t.getAttribute("data-video-pip")||"",b=t.getAttribute("data-is-ad-disable")||"",A=t.getAttribute("data-placeholder-image")||"",E={id:e,category:a,platform:n,target:t,embed_type:r,keywords:o.split(","),city:i,state:c,district:s,language:u,videotype:l,articleid:d,sectionname:p,videoevent:f,playerid:h,playerviewport:v,setautoplay:y,videoslot:g,ampEvent:_,pipVal:m,isAdDisable:b,placeholderImg:A},w.push(E)))}),w},fetchVidgyorTargets:function(){var t=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");if(0===t.length)return[];var T=[];return r(t,function(t){var e,n,r,a,o,i,c,s,u,l,d,p,f,h,v,y,g,_,m,b,A,E,w;t.getAttribute("data-pubstack-state")||(t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","v1"),(e=t.getAttribute("data-pubstack-guid"))&&(n=t.getAttribute("data-property-platform"),n=I.getPlayerPlatform(n),r="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",a=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",o=t.getAttribute("data-property-keywords")||"",i=t.getAttribute("data-city-name")||"",c=t.getAttribute("data-state-name")||"",s=t.getAttribute("data-district-name")||"",u=t.getAttribute("data-language")||"",l=t.getAttribute("data-video-type")||"",d=t.getAttribute("data-article-id")||"",p=t.getAttribute("data-section-name")||"",f=t.getAttribute("data-video-event")||"",h=t.getAttribute("id")||"",v=t.getAttribute("data-player-viewport")||"",y=t.getAttribute("data-autoplay")||"",g=t.getAttribute("data-video-slot")||"",_=t.getAttribute("data-disable-controls")||"",m=t.getAttribute("data-video-amp-event")||"",b=t.getAttribute("data-video-pip")||"",A=t.getAttribute("data-is-ad-disable")||"",E=t.getAttribute("data-placeholder-image")||"",w={id:e,category:a,platform:n,target:t,embed_type:r,keywords:o.split(","),city:i,state:c,district:s,language:u,videotype:l,articleid:d,sectionname:p,videoevent:f,playerid:h,playerviewport:v,setautoplay:y,videoslot:g,disablecontrols:_,ampEvent:m,pipVal:b,isAdDisable:A,placeholderImg:E},T.push(w)))}),T}}},{"./helpers.utils":18,"lodash.foreach":8}],17:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault"),i=r(t("@babel/runtime/helpers/classCallCheck")),a=r(t("@babel/runtime/helpers/createClass")),c=t("./log.utils"),o=function(){function o(t,e){(0,i.default)(this,o),this.playerID=t,this.metadata=e,this.Pip="";var n=this;setInterval(function(){!0===window.pip_status?n.Pip="_PIP":n.Pip=""},100);var r="";"YOUTUBE"===this.metadata.player?(r="YouTube Player",c.log(r)):"VIDEOJS"===this.metadata.player?(r="VideoJS Player",c.log(r)):"VIDGYORJS"===this.metadata.player&&(r="VidgyorJS Player",c.log(r));var a="";0===this.metadata.videoslot.length&&"undefined"!==this.metadata.videoslot.length||(a="Slot ".concat(this.metadata.videoslot,", ")),this.vodEngagementLabel="".concat(a).concat(this.metadata.title,", ").concat(this.metadata.video_id,", ").concat(this.metadata.category,", ").concat(this.metadata.articleid,", ").concat(this.metadata.videotype,", ").concat(this.metadata.ampEvent),this.widgetImpressionLabel="".concat(a).concat(this.metadata.videoslot,", ").concat(this.metadata.title,", ").concat(this.metadata.video_id,", ").concat(this.metadata.category,", ").concat(this.metadata.articleid,", ").concat(this.metadata.videotype,", ").concat(this.metadata.ampEvent),this.init()}return(0,a.default)(o,[{key:"init",value:function(){var t=this.getTracker();this.tracker=t.tracker,this.trackerName=t.name}},{key:"getTracker",value:function(){if(this.tracker&&this.trackerName)return{tracker:this.tracker,name:this.trackerName};var t=null;if(Object.prototype.hasOwnProperty.apply(window,["ga"])&&window.ga.getAll&&"function"==typeof window.ga.getAll&&(t=window.ga.getAll()),!t||0===t.length)return{tracker:null,name:null};var e=t[0],n=e.get("name");return t.forEach(function(t){"UA-156703-1"===t.get("trackingId")&&(n=(e=t).get("name"))}),{tracker:e,name:n}}},{key:"fireImpression",value:function(){if("Feature_Article_JSPlayer"!==this.metadata.videoevent){if(!this.tracker)return;var t,e,n;"YOUTUBE"===this.metadata.player?(t="Video_Impression_".concat(this.metadata.videoevent,"_Youtube"),this.tracker.send("event",t,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] YT Video widget impression event fired!"))):"VIDEOJS"===this.metadata.player?(e="Video_Impression_".concat(this.metadata.videoevent,"_JSPlayer"),this.tracker.send("event",e,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video widget impression event fired!"))):"VIDGYORJS"===this.metadata.player&&(n="Video_Impression_".concat(this.metadata.videoevent,"_Vidgyor"),this.tracker.send("event",n,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video widget impression event fired!")))}}},{key:"fireAdImpression",value:function(){var t,e,n;this.tracker&&("YOUTUBE"===this.metadata.player?(t="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Youtube"),this.tracker.send("event",t,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] YT Video widget impression event fired!"))):"VIDEOJS"===this.metadata.player?(e="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoevent,"_JSPlayer"),this.tracker.send("event",e,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video widget impression event fired!"))):"VIDGYORJS"===this.metadata.player&&(n="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Vidgyor"),this.tracker.send("event",n,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video widget impression event fired!"))))}},{key:"fireEvent",value:function(t,e){var n,r,a;this.tracker&&("YOUTUBE"===this.metadata.player?(n="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Youtube"),this.tracker.send("event",n,t,this.vodEngagementLabel,{nonInteraction:e}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] YT Video event fired for action - ").concat(t))):"VIDEOJS"===this.metadata.player?(r="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_JSPlayer"),this.tracker.send("event",r,t,this.vodEngagementLabel,{nonInteraction:e}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))):"VIDGYORJS"===this.metadata.player&&(a="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Vidgyor"),this.tracker.send("event",a,t,this.vodEngagementLabel,{nonInteraction:e}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))))}},{key:"fireAdEvent",value:function(t,e){var n,r,a;this.tracker&&("YOUTUBE"===this.metadata.player?(n="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoevent,"_Youtube"),this.tracker.send("event",n,t,this.vodEngagementLabel,{nonInteraction:e}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] YT Video event fired for action - ").concat(t))):"VIDEOJS"===this.metadata.player?(r="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoevent,"_JSPlayer"),this.tracker.send("event",r,t,this.vodEngagementLabel,{nonInteraction:e}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))):"VIDGYORJS"===this.metadata.player&&(a="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoevent,"_Vidgyor"),c.log(a),this.tracker.send("event",a,t,this.vodEngagementLabel,{nonInteraction:e}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))))}},{key:"firePlayerError",value:function(t,e,n){var r,a,o,i;this.tracker&&(r=this&&this.metadata&&this.metadata.ampEvent?"-".concat(this.metadata.ampEvent):"","YOUTUBE"===this.metadata.player?(a="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Youtube"),this.tracker.send("event",a,t,"".concat(e).concat(r),{nonInteraction:n}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] YT Video event fired for action - ").concat(t))):"VIDEOJS"===this.metadata.player?(o="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_JSPlayer"),this.tracker.send("event",o,t,"".concat(e).concat(r),{nonInteraction:n}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))):"VIDGYORJS"===this.metadata.player&&(i="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Vidgyor"),this.tracker.send("event",i,t,"".concat(e).concat(r),{nonInteraction:n}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))))}},{key:"fireAdError",value:function(t,e,n){var r,a,o,i;this.tracker&&(r=this&&this.metadata&&this.metadata.ampEvent?"-".concat(this.metadata.ampEvent):"","YOUTUBE"===this.metadata.player?(a="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Youtube"),this.tracker.send("event",a,t,"".concat(e).concat(r),{nonInteraction:n}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] YT Video event fired for action - ").concat(t))):"VIDEOJS"===this.metadata.player?(o="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_JSPlayer"),this.tracker.send("event",o,t,"".concat(e).concat(r),{nonInteraction:n}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))):"VIDGYORJS"===this.metadata.player&&(i="VOD".concat(this.Pip,"_").concat(this.metadata.videoevent,"_Vidgyor"),this.tracker.send("event",i,t,"".concat(e).concat(r),{nonInteraction:n}),c.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA-EVENT] Video event fired for action - ").concat(t))))}}]),o}();e.exports={PlayerAnalytics:o}},{"./log.utils":21,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":5}],18:[function(t,e,n){"use strict";function h(t){return t[t.length*Math.random()||0]}var l=t("lodash.map"),r=t("./log.utils"),a=t("./newrelic.utils");e.exports={setupWebPlayer:function(){var t,e,n;window.pubstackJSLoaded=!0,window.PUBSTACK_PLAYERS||(window.PUBSTACK_PLAYERS=[]),Object.prototype.hasOwnProperty.apply(window,["PUBSTACK_VIDEO_STATE"])||(t=document.createElement("div"),e=document.createElement("div"),t.style.position="absolute",t.style.top="0",t.style.left="0",e.classList.add("adBanner"),e.style.width="1px",e.style.height="1px",e.style.background="transparent",t.appendChild(e),document.querySelector("body").appendChild(t),n=0===parseInt(getComputedStyle(t).height,10),t.remove(),window.PUBSTACK_VIDEO_STATE={adblocker:n,youtube:{sources:!1,api:!1},videojs:{js:{sources:!1,api:!1},css:{sources:!1,styles:!1}},vidgyorjs:{sources:!1,api:!1},comscore:{sources:!1,api:!1},debug:"1"===localStorage.getItem("NW18_PUBSTACK_PLAYER_DEBUG"),processing_queue:[],processing_state:0},window.onYouTubeIframeAPIReady=function(){window.PUBSTACK_VIDEO_STATE.youtube.api=!0})},pushToProcessingQueue:function(t){var e;t&&t instanceof Promise&&(e={timestamp:Date.now(),promise:t},window.PUBSTACK_VIDEO_STATE.processing_queue.push(e),0===window.PUBSTACK_VIDEO_STATE.processing_state&&function e(){0!==window.PUBSTACK_VIDEO_STATE.processing_queue.length?(window.PUBSTACK_VIDEO_STATE.processing_state=1,Promise.resolve().then(function(){return r.log("[PUBSTACK-PLAYER][LOG] Processing request for timestamp: ".concat(window.PUBSTACK_VIDEO_STATE.processing_queue[0].timestamp,"!")),window.PUBSTACK_VIDEO_STATE.processing_queue[0].promise}).then(function(t){r.log("[PUBSTACK-PLAYER][LOG] Process request for timestamp: ".concat(window.PUBSTACK_VIDEO_STATE.processing_queue[0].timestamp," completed!")),r.log("[PUBSTACK-PLAYER][LOG] Process response: ".concat(t.message,"!")),window.PUBSTACK_VIDEO_STATE.processing_queue.shift(),0===window.PUBSTACK_VIDEO_STATE.processing_queue.length?window.PUBSTACK_VIDEO_STATE.processing_state=0:e()}).catch(function(t){r.log("[PUBSTACK-PLAYER][LOG] Error processing player request!"),r.log("[PUBSTACK-PLAYER][LOG] ----------------------- ERROR - START ------------------------"),r.log("[PUBSTACK-PLAYER][LOG] ".concat(t)),r.log("[PUBSTACK-PLAYER][LOG] ----------------------- ERROR - END ------------------------"),null!=a&&a.addPageAction("DATA_ERROR",{errMessage:"Error processing player request: "+t.message,errType:"QUEUE_ERROR"})})):window.PUBSTACK_VIDEO_STATE.processing_state=0}())},getAlsoWatchVideo:function(t,n){var e=localStorage.getItem("PUBSTACK_VIDEO_DISPLAY_TYPE");if(!e||e!==t){var r=h(n);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",r.metadata._id),localStorage.setItem("PUBSTACK_VIDEO_DISPLAY_TYPE",t),r}var a,o=localStorage.getItem("PUBSTACK_VIDEO_SET_TIMESTAMP");if(!o||(a=o,"Invalid Date"==="".concat(new Date(a))||Number.isNaN(new Date(a).getTime()))){var i=h(n);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",i.metadata._id),i}if((new Date).getDate()!==new Date(o).getDate()){var c=h(n);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",c.metadata._id),c}var s=localStorage.getItem("PUBSTACK_VIDEOS_WATCHED");if(!s){var u=h(n);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",u.metadata._id),u}var l=s.split(","),d=0,p=function t(){if(d>n.length)return null;var e=h(n);return-1===l.indexOf(e.metadata._id)?e:(d+=1,t())}();if(p)return localStorage.setItem("PUBSTACK_VIDEOS_WATCHED","".concat(s,",").concat(p.metadata._id)),p;var f=h(n);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",f.metadata._id),f},generatePlayerID:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<32;a+=1)e+=n.charAt(Math.floor(Math.random()*r));return"".concat(t,"-").concat(e)},getGATracker:function(){if(!Object.prototype.hasOwnProperty.apply(window,["ga"]))return null;if(!window.ga.getAll||"function"!=typeof window.ga.getAll)return null;var t=window.ga.getAll();if(!t||0===t.length)return null;var e=t[0],n=e.get("name");return t.forEach(function(t){"UA-156703-1"===t.get("trackingId")&&(n=(e=t).get("name"))}),{tracker:e,name:n}},getPageScrollOffset:function(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop||document.body.scrollTop||0},generateVASTTag:function(e,t,n,r){var a=3<arguments.length&&void 0!==r?r:[];try{var o=new URL(e),i="".concat(o.protocol,"//").concat(o.hostname).concat(o.pathname,"?");if(/ad_rule_samples/i.test(o.searchParams.get("iu")))return e;var c=o.searchParams.get("iu"),i="".concat(i,"iu=").concat(c);i="".concat(i,"&description_url=").concat(encodeURIComponent("[placeholder]")),i="".concat(i,"&tfcd=0"),i="".concat(i,"&npa=0"),i="".concat(i,"&sz=").concat(encodeURIComponent("640x480")),i="".concat(i,"&cust_params=").concat(encodeURIComponent("Content_Type=video,videoplayer")),i="".concat(i,"&DFP=okay");var s=l(a,function(t){return t.toLowerCase()}).join(",");i="".concat(i,"&meta_keywords=").concat(encodeURIComponent(s)),i="".concat(i,"&page_url=").concat(encodeURIComponent(window.location.origin)),i="".concat(i,"&section_name=").concat(n);var u=null==t?void 0:t.split(" ").join(",");return i="".concat(i,"&title_name=").concat(encodeURIComponent(u.replace("#","&"))),i="".concat(i,"&gdfp_req=1"),i="".concat(i,"&output=vast"),i="".concat(i,"&unviewed_position_start=1"),i="".concat(i,"&env=vp"),i="".concat(i,"&impl=s"),i="".concat(i,"&correlator=")}catch(t){return console.log(t),e}},getPlayerPlatform:function(t){return"desktop"===t?"Desktop Web":"pwa"===t?"Mobile Web":"amp"===t?"AMP":"ia"===t?"FBIA":"android"===t?"Android":"ios"===t?"IOS":"Desktop Web"}}},{"./log.utils":21,"./newrelic.utils":22,"lodash.map":9}],19:[function(t,e,n){"use strict";var m=t("../config/globals");e.exports={getVideoEmbedMetadata:function(t,e,n,r,a,o,i,c,s,u,l,d,p,f){var h="production"===m.env?"https://pubstack.nw18.com/pubsync/v1/api":"staging"===m.env?"https://pubsync.nw18.com/pubsync/v1/api":"local-dev"===m.env?"http://localhost:3000/pubsync/v1/api":null;if(null===h){var v=new Error;throw v.name="INVALID_PUBSTACK_VIDEO_ENV",v.message="Invalid value is set for pubstack video env! Valid values are 'production' & 'staging', value set: ".concat(m.env),v}var y=JSON.stringify(e),g="".concat(h,"/videos/embed?ids=").concat(encodeURIComponent(t.join(",")),"&website=").concat(m.website.id,"&keywords=").concat(encodeURIComponent(y),"&city_name=").concat(encodeURIComponent(n),"&state_name=").concat(encodeURIComponent(r),"&district_name=").concat(encodeURIComponent(a),"&language=").concat(encodeURIComponent(o),"&video_type=").concat(encodeURIComponent(i),"&article_id=").concat(encodeURIComponent(c),"&section_name=").concat(encodeURIComponent(s),"&isIos=").concat(encodeURIComponent(u),"&description_url=").concat(encodeURIComponent(l),"&site_name=").concat(encodeURIComponent(d),"&isAdDisable=").concat(encodeURIComponent(p),"&is_amp=").concat(encodeURIComponent(f)),_=new Headers;return _.append("Content-Type","application/json"),_.append("Authorization","Bearer ".concat(m.access_token)),fetch(g,{headers:_}).then(function(t){return t.json()})},getVideoEmbedUUIDMetadata:function(t,e,n,r,a,o,i,c,s,u,l,d,p,f){var h="production"===m.env?"https://video-cms.nw18.com/api/v1/firstpost":"staging"===m.env?"https://stg-video.nw18.com/api/v1/firstpost":"local-dev"===m.env?"http://localhost:3000/api/v1/firstpost":null;if(null===h){var v=new Error;throw v.name="INVALID_PUBSTACK_VIDEO_ENV",v.message="Invalid value is set for pubstack video env! Valid values are 'production' & 'staging', value set: ".concat(m.env),v}var y=JSON.stringify(e),g="".concat(h,"/video/embed?ids=").concat(encodeURIComponent(t.join(",")),"&website=").concat(m.website.id,"&keywords=").concat(encodeURIComponent(y),"&city_name=").concat(encodeURIComponent(n),"&state_name=").concat(encodeURIComponent(r),"&district_name=").concat(encodeURIComponent(a),"&language=").concat(encodeURIComponent(o),"&video_type=").concat(encodeURIComponent(i),"&article_id=").concat(encodeURIComponent(c),"&section_name=").concat(encodeURIComponent(s),"&isIos=").concat(encodeURIComponent(u),"&description_url=").concat(encodeURIComponent(l),"&site_name=").concat(encodeURIComponent(d),"&isAdDisable=").concat(encodeURIComponent(p),"&is_amp=").concat(encodeURIComponent(f)),_=new Headers;return _.append("Content-Type","application/json"),_.append("Authorization","".concat("staging"==m.env?"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InVzZXJJZCI6ImZhZTU0MGFhLWZhNjEtNGFiZi1iODQ4LWI4NjMzZDdkNWMzOSJ9LCJpYXQiOjE3MDczMTE0ODcsImV4cCI6MTczODg0NzQ4N30.PnmICmjLoojCr00lCSn6K3J4nDE0VB5nH29kNyOrJI0":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InVzZXJJZCI6ImViOWIxN2IyLTA3NzAtNDQ5NS1hN2UxLTY0MDA1MDZjMWY3ZSJ9LCJpYXQiOjE3MDc4MDY3MTYsImV4cCI6MTczOTM0MjcxNn0.vgSN_wzSBVCVB70mmGtjIkLoC_Lo7puDCFcL5ExlEEg")),fetch(g,{headers:_}).then(function(t){return t.json()})}}},{"../config/globals":12}],20:[function(t,e,n){"use strict";function r(a,t){var o=!(1<arguments.length&&void 0!==t)||t;return new Promise(function(e,n){var t=document.getElementsByTagName("HEAD")[0],r=document.createElement("script");r.src=a,r.onload=function(){return e()},r.onerror=function(t){return o?n(t):(u.log(t),e())},t.appendChild(r)})}function a(a){return new Promise(function(t,e){var n=document.getElementsByTagName("HEAD")[0],r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=a,r.onload=function(){return t()},r.onerror=function(t){return e(t)},n.appendChild(r)})}function o(){return new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.youtube.api&&(clearInterval(e),t())},200)})}var i=t("@babel/runtime/helpers/interopRequireDefault"),c=i(t("@babel/runtime/regenerator")),s=i(t("@babel/runtime/helpers/asyncToGenerator")),u=t("./log.utils"),l=function(){var t=(0,s.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.youtube.sources&&window.PUBSTACK_VIDEO_STATE.youtube.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.youtube.sources)return t.next=5,o();t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.youtube.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/youtube.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,r(e);case 10:return t.next=12,o();case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,s.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.comscore.sources&&window.PUBSTACK_VIDEO_STATE.comscore.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.comscore.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.comscore.api&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.comscore.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/comscore.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,r(e);case 10:window.PUBSTACK_VIDEO_STATE.comscore.api=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,s.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.videojs.js.sources&&window.PUBSTACK_VIDEO_STATE.videojs.js.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.videojs.js.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.videojs.js.api&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.videojs.js.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/videojs.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,r(e);case 10:window.PUBSTACK_VIDEO_STATE.videojs.js.api=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,s.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.vidgyorjs.sources)return t.abrupt("return");t.next=2;break;case 2:return window.PUBSTACK_VIDEO_STATE.vidgyorjs.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/vidgyorjs.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=6,r(e);case 6:!function(t,e){var n=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");if(0===n.length){var r=document.querySelector("[data-youtube=true]");r.setAttribute(t,e),r.setAttribute("class","vgrPlayerContainer")}else for(var a="",a=0;a<n.length;a+=1)n[a].setAttribute(t,e),n[a].setAttribute("class","vgrPlayerContainer")}("data-pubstack-player-name","vidgyor");case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,s.default)(c.default.mark(function t(){var e;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.videojs.css.sources&&window.PUBSTACK_VIDEO_STATE.videojs.css.styles)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.videojs.css.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.videojs.css.styles&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.videojs.css.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"/css/videojs.min.css?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,a(e);case 10:window.PUBSTACK_VIDEO_STATE.videojs.css.styles=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e.exports={loadCSS:a,loadJavascript:r,loadYouTubeSources:l,loadComscore:d,loadVideoJSLibrary:p,loadVideoJSStylesheet:h,loadVidgyorJSLibrary:f}},{"./log.utils":21,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":6}],21:[function(t,e,n){"use strict";e.exports={log:function(t){window.PUBSTACK_VIDEO_STATE&&window.PUBSTACK_VIDEO_STATE.debug&&console.log(t)}}},{}],22:[function(t,e,n){"use strict";var r=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/defineProperty"));function a(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.exports={addPageAction:function(t,e){try{var n,r,a=o(o({},e),{},{vidOnline:navigator.onLine});null!==(n=window)&&void 0!==n&&(null!==(r=n.newrelic)&&void 0!==r&&r.addPageAction)&&newrelic.addPageAction(t,a)}catch(t){newrelic.addPageAction("NW18_ERROR",o({errData:t,errMsg:t.message},e))}}}},{"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}]},{},[13]);