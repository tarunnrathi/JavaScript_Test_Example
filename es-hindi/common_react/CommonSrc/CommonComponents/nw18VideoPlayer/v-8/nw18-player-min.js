!function n(o,s,c){function l(e,t){if(!s[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(u)return u(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var a=s[e]={exports:{}};o[e][0].call(a.exports,function(t){return l(o[e][1][t]||t)},a,a.exports,n,o,s,c)}return s[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)l(c[t]);return l}({1:[function(t,e,r){function c(t,e,r,i,a,n,o){try{var s=t[n](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(i,a)}e.exports=function(s){return function(){var t=this,o=arguments;return new Promise(function(e,r){var i=s.apply(t,o);function a(t){c(i,e,r,a,n,"next",t)}function n(t){c(i,e,r,a,n,"throw",t)}a(void 0)})}}},{}],2:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],3:[function(t,e,r){function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t}},{}],4:[function(t,e,r){e.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},{}],5:[function(t,e,r){e.exports=function(t){return t&&t.__esModule?t:{default:t}}},{}],6:[function(t,e,r){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(t){return typeof t}:e.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}e.exports=i},{}],7:[function(t,e,r){e.exports=t("regenerator-runtime")},{"regenerator-runtime":12}],8:[function(t,fe,ve){(function(t){var e="Expected a function",i="__lodash_hash_undefined__",g=1,b=2,s=1/0,r=9007199254740991,c=17976931348623157e292,a=NaN,m="[object Arguments]",A="[object Array]",E="[object Boolean]",T="[object Date]",_="[object Error]",n="[object Function]",o="[object GeneratorFunction]",S="[object Map]",w="[object Number]",I="[object Object]",l="[object Promise]",P="[object RegExp]",D="[object Set]",O="[object String]",V="[object Symbol]",u="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,h=/^\./,y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/^\s+|\s+$/g,v=/\\(\\)?/g,C=/^[-+]0x[0-9a-f]+$/i,L=/^0b[01]+$/i,U=/^\[object .+?Constructor\]$/,j=/^0o[0-7]+$/i,Y=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[m]=N[A]=N[R]=N[E]=N[k]=N[T]=N[_]=N[n]=N[S]=N[w]=N[I]=N[P]=N[D]=N[O]=N[u]=!1;var B=parseInt,G="object"==typeof t&&t&&t.Object===Object&&t,K="object"==typeof self&&self&&self.Object===Object&&self,x=G||K||Function("return this")(),M="object"==typeof ve&&ve&&!ve.nodeType&&ve,F=M&&"object"==typeof fe&&fe&&!fe.nodeType&&fe,J=F&&F.exports===M&&G.process,W=function(){try{return J&&J.binding("util")}catch(t){}}(),q=W&&W.isTypedArray;function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var r=-1,i=Array(t.size);return t.forEach(function(t,e){i[++r]=[e,t]}),i}function $(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Z,Q,X,tt=Array.prototype,et=Function.prototype,rt=Object.prototype,it=x["__core-js_shared__"],at=(Z=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",nt=et.toString,ot=rt.hasOwnProperty,st=rt.toString,ct=RegExp("^"+nt.call(ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=x.Symbol,ut=x.Uint8Array,dt=rt.propertyIsEnumerable,pt=tt.splice,ht=(Q=Object.keys,X=Object,function(t){return Q(X(t))}),yt=Math.max,ft=Jt(x,"DataView"),vt=Jt(x,"Map"),gt=Jt(x,"Promise"),mt=Jt(x,"Set"),At=Jt(x,"WeakMap"),bt=Jt(Object,"create"),Et=Xt(ft),Tt=Xt(vt),_t=Xt(gt),St=Xt(mt),wt=Xt(At),It=lt?lt.prototype:void 0,Pt=It?It.valueOf:void 0,Dt=It?It.toString:void 0;function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Vt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Rt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.__data__=new Rt;++e<r;)this.add(t[e])}function Ct(t){this.__data__=new Vt(t)}function Lt(t,e){var r=ie(t)||re(t)?function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}(t.length,String):[],i=r.length,a=!!i;for(var n in t)!e&&!ot.call(t,n)||a&&("length"==n||qt(n,i))||r.push(n);return r}function Ut(t,e){for(var r=t.length;r--;)if(ee(t[r][0],e))return r;return-1}function jt(t,e){for(var r=0,i=(e=Ht(e,t)?[e]:xt(e)).length;null!=t&&r<i;)t=t[Qt(e[r++])];return r&&r==i?t:void 0}function Yt(t,e){return null!=t&&e in Object(t)}function Nt(t,e,r,i,a){return t===e||(null==t||null==e||!se(t)&&!ce(e)?t!=t&&e!=e:function(t,e,r,i,a,n){var o=ie(t),s=ie(e),c=A,l=A;o||(c=(c=Wt(t))==m?I:c);s||(l=(l=Wt(e))==m?I:l);var u=c==I&&!H(t),d=l==I&&!H(e),p=c==l;if(p&&!u)return n=n||new Ct,o||de(t)?Mt(t,e,r,i,a,n):function(t,e,r,i,a,n,o){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return t.byteLength==e.byteLength&&i(new ut(t),new ut(e))?!0:!1;case E:case T:case w:return ee(+t,+e);case _:return t.name==e.name&&t.message==e.message;case P:case O:return t==e+"";case S:var s=z;case D:var c=n&b;if(s=s||$,t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=g,o.set(t,e);var u=Mt(s(t),s(e),i,a,n,o);return o.delete(t),u;case V:if(Pt)return Pt.call(t)==Pt.call(e)}return!1}(t,e,c,r,i,a,n);if(!(a&b)){var h=u&&ot.call(t,"__wrapped__"),y=d&&ot.call(e,"__wrapped__");if(h||y){var f=h?t.value():t,v=y?e.value():e;return n=n||new Ct,r(f,v,i,a,n)}}return p&&(n=n||new Ct,function(t,e,r,i,a,n){var o=a&b,s=he(t),c=s.length,l=he(e).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=s[u];if(!(o?d in e:ot.call(e,d)))return!1}var p=n.get(t);if(p&&n.get(e))return p==e;var h=!0;n.set(t,e),n.set(e,t);var y=o;for(;++u<c;){d=s[u];var f,v=t[d],g=e[d];if(i&&(f=o?i(g,v,d,e,t,n):i(v,g,d,t,e,n)),!(void 0===f?v===g||r(v,g,i,a,n):f)){h=!1;break}y=y||"constructor"==d}{var m,A;h&&!y&&(m=t.constructor,A=e.constructor,m!=A&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof A&&A instanceof A)&&(h=!1))}return n.delete(t),n.delete(e),h}(t,e,r,i,a,n))}(t,e,Nt,r,i,a))}function Bt(t){return se(t)&&!(at&&at in t)&&(ne(t)||H(t)?ct:U).test(Xt(t))}function Gt(t){return"function"==typeof t?t:null==t?ye:"object"==typeof t?ie(t)?function(c,l){if(Ht(c)&&zt(l))return $t(Qt(c),l);return function(t){var e,r,i,a,n,o,s=(r=c,void 0===(a=null==(e=t)?void 0:jt(e,r))?i:a);return void 0===s&&s===l?(o=c,null!=(n=t)&&function(t,e,r){e=Ht(e,t)?[e]:xt(e);for(var i,a=-1,n=e.length;++a<n;){var o=Qt(e[a]);if(!(i=null!=t&&r(t,o)))break;t=t[o]}return i||!!(n=t?t.length:0)&&oe(n)&&qt(o,n)&&(ie(t)||re(t))}(n,o,Yt)):Nt(l,s,void 0,g|b)}}(t[0],t[1]):function(e){var r=function(t){var e=he(t),r=e.length;for(;r--;){var i=e[r],a=t[i];e[r]=[i,a,zt(a)]}return e}(e);if(1==r.length&&r[0][2])return $t(r[0][0],r[0][1]);return function(t){return t===e||function(t,e,r,i){var a=r.length,n=a,o=!i;if(null==t)return!n;for(t=Object(t);a--;){var s=r[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<n;){var c=(s=r[a])[0],l=t[c],u=s[1];if(o&&s[2]){if(void 0===l&&!(c in t))return!1}else{var d,p=new Ct;if(i&&(d=i(l,u,c,t,e,p)),!(void 0===d?Nt(u,l,i,g|b,p):d))return!1}}return!0}(t,e,r)}}(t):Ht(e=t)?function(e){return function(t){return null==t?void 0:t[e]}}(Qt(e)):function(e){return function(t){return jt(t,e)}}(e);var e}function Kt(t){if(r=(e=t)&&e.constructor,i="function"==typeof r&&r.prototype||rt,e!==i)return ht(t);var e,r,i,a=[];for(var n in Object(t))ot.call(t,n)&&"constructor"!=n&&a.push(n);return a}function xt(t){return ie(t)?t:Zt(t)}function Mt(t,e,r,i,a,n){var o=a&b,s=t.length,c=e.length;if(s!=c&&!(o&&s<c))return!1;var l=n.get(t);if(l&&n.get(e))return l==e;var u=-1,d=!0,p=a&g?new kt:void 0;for(n.set(t,e),n.set(e,t);++u<s;){var h,y=t[u],f=e[u];if(i&&(h=o?i(f,y,u,e,t,n):i(y,f,u,t,e,n)),void 0!==h){if(h)continue;d=!1;break}if(p){if(!function(t,e){for(var r=-1,i=t?t.length:0;++r<i;)if(e(t[r],r,t))return 1}(e,function(t,e){return!p.has(e)&&(y===t||r(y,t,i,a,n))&&p.add(e)})){d=!1;break}}else if(y!==f&&!r(y,f,i,a,n)){d=!1;break}}return n.delete(t),n.delete(e),d}function Ft(t,e){var r,i,a=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?a["string"==typeof e?"string":"hash"]:a.map}function Jt(t,e){var r,i,a=(i=e,null==(r=t)?void 0:r[i]);return Bt(a)?a:void 0}Ot.prototype.clear=function(){this.__data__=bt?bt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===i?void 0:r}return ot.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:ot.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?i:e,this},Vt.prototype.clear=function(){this.__data__=[]},Vt.prototype.delete=function(t){var e=this.__data__,r=Ut(e,t);return!(r<0)&&(r==e.length-1?e.pop():pt.call(e,r,1),!0)},Vt.prototype.get=function(t){var e=this.__data__,r=Ut(e,t);return r<0?void 0:e[r][1]},Vt.prototype.has=function(t){return-1<Ut(this.__data__,t)},Vt.prototype.set=function(t,e){var r=this.__data__,i=Ut(r,t);return i<0?r.push([t,e]):r[i][1]=e,this},Rt.prototype.clear=function(){this.__data__={hash:new Ot,map:new(vt||Vt),string:new Ot}},Rt.prototype.delete=function(t){return Ft(this,t).delete(t)},Rt.prototype.get=function(t){return Ft(this,t).get(t)},Rt.prototype.has=function(t){return Ft(this,t).has(t)},Rt.prototype.set=function(t,e){return Ft(this,t).set(t,e),this},kt.prototype.add=kt.prototype.push=function(t){return this.__data__.set(t,i),this},kt.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new Vt},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Vt){var i=r.__data__;if(!vt||i.length<199)return i.push([t,e]),this;r=this.__data__=new Rt(i)}return r.set(t,e),this};var Wt=function(t){return st.call(t)};function qt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||Y.test(t))&&-1<t&&t%1==0&&t<e}function Ht(t,e){if(!ie(t)){var r=typeof t;return"number"==r||"symbol"==r||"boolean"==r||null==t||le(t)||(p.test(t)||!d.test(t)||null!=e&&t in Object(e))}}function zt(t){return t==t&&!se(t)}function $t(e,r){return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in Object(t)))}}(ft&&Wt(new ft(new ArrayBuffer(1)))!=k||vt&&Wt(new vt)!=S||gt&&Wt(gt.resolve())!=l||mt&&Wt(new mt)!=D||At&&Wt(new At)!=u)&&(Wt=function(t){var e=st.call(t),r=e==I?t.constructor:void 0,i=r?Xt(r):void 0;if(i)switch(i){case Et:return k;case Tt:return S;case _t:return l;case St:return D;case wt:return u}return e});var Zt=te(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(le(t))return Dt?Dt.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}(e);var a=[];return h.test(t)&&a.push(""),t.replace(y,function(t,e,r,i){a.push(r?i.replace(v,"$1"):e||t)}),a});function Qt(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-s?"-0":e}function Xt(t){if(null!=t){try{return nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function te(a,n){if("function"!=typeof a||n&&"function"!=typeof n)throw new TypeError(e);var o=function(){var t=arguments,e=n?n.apply(this,t):t[0],r=o.cache;if(r.has(e))return r.get(e);var i=a.apply(this,t);return o.cache=r.set(e,i),i};return o.cache=new(te.Cache||Rt),o}function ee(t,e){return t===e||t!=t&&e!=e}function re(t){return ce(e=t)&&ae(e)&&ot.call(t,"callee")&&(!dt.call(t,"callee")||st.call(t)==m);var e}te.Cache=Rt;var ie=Array.isArray;function ae(t){return null!=t&&oe(t.length)&&!ne(t)}function ne(t){var e=se(t)?st.call(t):"";return e==n||e==o}function oe(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=r}function se(t){var e=typeof t;return t&&("object"==e||"function"==e)}function ce(t){return!!t&&"object"==typeof t}function le(t){return"symbol"==typeof t||ce(t)&&st.call(t)==V}var ue,de=q?(ue=q,function(t){return ue(t)}):function(t){return ce(t)&&oe(t.length)&&!!N[st.call(t)]};function pe(t){if("number"==typeof t)return t;if(le(t))return a;var e;if(se(t)&&(t=se(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(f,"");var r=L.test(t);return r||j.test(t)?B(t.slice(2),r?2:8):C.test(t)?a:+t}function he(t){return(ae(t)?Lt:Kt)(t)}function ye(t){return t}fe.exports=function(t,e,r){var i=t?t.length:0;if(!i)return-1;var a,n,o=null==r?0:(a=function(t){return t?(t=pe(t))!==s&&t!==-s?t==t?t:0:(t<0?-1:1)*c:0===t?t:0}(r),n=a%1,a==a?n?a-n:a:0);return o<0&&(o=yt(i+o,0)),function(t,e,r,i){for(var a=t.length,n=r+(i?1:-1);i?n--:++n<a;)if(e(t[n],n,t))return n;return-1}(t,Gt(e),o)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,r){var l=9007199254740991,u="[object Arguments]",a="[object Function]",n="[object GeneratorFunction]",d=/^(?:0|[1-9]\d*)$/;function i(t,e){for(var r=-1,i=t?t.length:0;++r<i&&!1!==e(t[r],r,t););return t}var o,s,c=Object.prototype,p=c.hasOwnProperty,h=c.toString,y=c.propertyIsEnumerable,f=(o=Object.keys,s=Object,function(t){return o(s(t))});function v(t,e){var r,i,a,n=_(t)||function(t){return function(t){return t&&"object"==typeof t}(t)&&S(t)}(r=t)&&p.call(r,"callee")&&(!y.call(r,"callee")||h.call(r)==u)?function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}(t.length,String):[],o=n.length,s=!!o;for(var c in t)!e&&!p.call(t,c)||s&&("length"==c||(i=c,(a=null==(a=o)?l:a)&&("number"==typeof i||d.test(i))&&-1<i&&i%1==0&&i<a))||n.push(c);return n}var g,m,A,b=(g=function(t,e){return t&&E(t,e,w)},function(t,e){if(null==t)return t;if(!S(t))return g(t,e);for(var r=t.length,i=m?r:-1,a=Object(t);(m?i--:++i<r)&&!1!==e(a[i],i,a););return t}),E=function(t,e,r){for(var i=-1,a=Object(t),n=r(t),o=n.length;o--;){var s=n[A?o:++i];if(!1===e(a[s],s,a))break}return t};function T(t){if(r=(e=t)&&e.constructor,i="function"==typeof r&&r.prototype||c,e!==i)return f(t);var e,r,i,a=[];for(var n in Object(t))p.call(t,n)&&"constructor"!=n&&a.push(n);return a}var _=Array.isArray;function S(t){return null!=t&&("number"==typeof(i=t.length)&&-1<i&&i%1==0&&i<=l)&&!((r=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(e=t)?h.call(e):"")==a||r==n);var e,r,i}function w(t){return(S(t)?v:T)(t)}function I(t){return t}e.exports=function(t,e){return(_(t)?i:b)(t,"function"==typeof e?e:I)}},{}],10:[function(t,he,ye){(function(t){var e="Expected a function",i="__lodash_hash_undefined__",g=1,b=2,r=1/0,a=9007199254740991,m="[object Arguments]",A="[object Array]",E="[object Boolean]",T="[object Date]",_="[object Error]",n="[object Function]",o="[object GeneratorFunction]",S="[object Map]",w="[object Number]",I="[object Object]",s="[object Promise]",P="[object RegExp]",D="[object Set]",O="[object String]",V="[object Symbol]",c="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[m]=v[A]=v[R]=v[E]=v[k]=v[T]=v[_]=v[n]=v[S]=v[w]=v[I]=v[P]=v[D]=v[O]=v[c]=!1;var C="object"==typeof t&&t&&t.Object===Object&&t,L="object"==typeof self&&self&&self.Object===Object&&self,U=C||L||Function("return this")(),j="object"==typeof ye&&ye&&!ye.nodeType&&ye,Y=j&&"object"==typeof he&&he&&!he.nodeType&&he,N=Y&&Y.exports===j&&C.process,B=function(){try{return N&&N.binding("util")}catch(t){}}(),G=B&&B.isTypedArray;function K(t,e){for(var r=-1,i=t?t.length:0,a=Array(i);++r<i;)a[r]=e(t[r],r,t);return a}function x(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function M(t){var r=-1,i=Array(t.size);return t.forEach(function(t,e){i[++r]=[e,t]}),i}function F(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var J,W,q,H=Array.prototype,z=Function.prototype,$=Object.prototype,Z=U["__core-js_shared__"],Q=(J=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",X=z.toString,tt=$.hasOwnProperty,et=$.toString,rt=RegExp("^"+X.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=U.Symbol,at=U.Uint8Array,nt=$.propertyIsEnumerable,ot=H.splice,st=(W=Object.keys,q=Object,function(t){return W(q(t))}),ct=Ft(U,"DataView"),lt=Ft(U,"Map"),ut=Ft(U,"Promise"),dt=Ft(U,"Set"),pt=Ft(U,"WeakMap"),ht=Ft(Object,"create"),yt=Qt(ct),ft=Qt(lt),vt=Qt(ut),gt=Qt(dt),mt=Qt(pt),At=it?it.prototype:void 0,bt=At?At.valueOf:void 0,Et=At?At.toString:void 0;function Tt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function _t(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,r=t?t.length:0;for(this.__data__=new St;++e<r;)this.add(t[e])}function It(t){this.__data__=new _t(t)}function Pt(t,e){var r=re(t)||ee(t)?function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}(t.length,String):[],i=r.length,a=!!i;for(var n in t)!e&&!tt.call(t,n)||a&&("length"==n||Wt(n,i))||r.push(n);return r}function Dt(t,e){for(var r=t.length;r--;)if(te(t[r][0],e))return r;return-1}Tt.prototype.clear=function(){this.__data__=ht?ht(null):{}},Tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Tt.prototype.get=function(t){var e=this.__data__;if(ht){var r=e[t];return r===i?void 0:r}return tt.call(e,t)?e[t]:void 0},Tt.prototype.has=function(t){var e=this.__data__;return ht?void 0!==e[t]:tt.call(e,t)},Tt.prototype.set=function(t,e){return this.__data__[t]=ht&&void 0===e?i:e,this},_t.prototype.clear=function(){this.__data__=[]},_t.prototype.delete=function(t){var e=this.__data__,r=Dt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ot.call(e,r,1),!0)},_t.prototype.get=function(t){var e=this.__data__,r=Dt(e,t);return r<0?void 0:e[r][1]},_t.prototype.has=function(t){return-1<Dt(this.__data__,t)},_t.prototype.set=function(t,e){var r=this.__data__,i=Dt(r,t);return i<0?r.push([t,e]):r[i][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new Tt,map:new(lt||_t),string:new Tt}},St.prototype.delete=function(t){return Mt(this,t).delete(t)},St.prototype.get=function(t){return Mt(this,t).get(t)},St.prototype.has=function(t){return Mt(this,t).has(t)},St.prototype.set=function(t,e){return Mt(this,t).set(t,e),this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,i),this},wt.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new _t},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof _t){var i=r.__data__;if(!lt||i.length<199)return i.push([t,e]),this;r=this.__data__=new St(i)}return r.set(t,e),this};var Ot,Vt,Rt,kt=(Ot=function(t,e){return t&&Ct(t,e,de)},function(t,e){if(null==t)return t;if(!ie(t))return Ot(t,e);for(var r=t.length,i=Vt?r:-1,a=Object(t);(Vt?i--:++i<r)&&!1!==e(a[i],i,a););return t}),Ct=function(t,e,r){for(var i=-1,a=Object(t),n=r(t),o=n.length;o--;){var s=n[Rt?o:++i];if(!1===e(a[s],s,a))break}return t};function Lt(t,e){for(var r=0,i=(e=qt(e,t)?[e]:Kt(e)).length;null!=t&&r<i;)t=t[Zt(e[r++])];return r&&r==i?t:void 0}function Ut(t,e){return null!=t&&e in Object(t)}function jt(t,e,r,i,a){return t===e||(null==t||null==e||!oe(t)&&!se(e)?t!=t&&e!=e:function(t,e,r,i,a,n){var o=re(t),s=re(e),c=A,l=A;o||(c=(c=Jt(t))==m?I:c);s||(l=(l=Jt(e))==m?I:l);var u=c==I&&!x(t),d=l==I&&!x(e),p=c==l;if(p&&!u)return n=n||new It,o||ue(t)?xt(t,e,r,i,a,n):function(t,e,r,i,a,n,o){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return t.byteLength==e.byteLength&&i(new at(t),new at(e))?!0:!1;case E:case T:case w:return te(+t,+e);case _:return t.name==e.name&&t.message==e.message;case P:case O:return t==e+"";case S:var s=M;case D:var c=n&b;if(s=s||F,t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=g,o.set(t,e);var u=xt(s(t),s(e),i,a,n,o);return o.delete(t),u;case V:if(bt)return bt.call(t)==bt.call(e)}return!1}(t,e,c,r,i,a,n);if(!(a&b)){var h=u&&tt.call(t,"__wrapped__"),y=d&&tt.call(e,"__wrapped__");if(h||y){var f=h?t.value():t,v=y?e.value():e;return n=n||new It,r(f,v,i,a,n)}}return p&&(n=n||new It,function(t,e,r,i,a,n){var o=a&b,s=de(t),c=s.length,l=de(e).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=s[u];if(!(o?d in e:tt.call(e,d)))return!1}var p=n.get(t);if(p&&n.get(e))return p==e;var h=!0;n.set(t,e),n.set(e,t);var y=o;for(;++u<c;){d=s[u];var f,v=t[d],g=e[d];if(i&&(f=o?i(g,v,d,e,t,n):i(v,g,d,t,e,n)),!(void 0===f?v===g||r(v,g,i,a,n):f)){h=!1;break}y=y||"constructor"==d}{var m,A;h&&!y&&(m=t.constructor,A=e.constructor,m!=A&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof A&&A instanceof A)&&(h=!1))}return n.delete(t),n.delete(e),h}(t,e,r,i,a,n))}(t,e,jt,r,i,a))}function Yt(t){return oe(t)&&!(Q&&Q in t)&&(ae(t)||x(t)?rt:y).test(Qt(t))}function Nt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?re(t)?function(c,l){if(qt(c)&&Ht(l))return zt(Zt(c),l);return function(t){var e,r,i,a,n,o,s=(r=c,void 0===(a=null==(e=t)?void 0:Lt(e,r))?i:a);return void 0===s&&s===l?(o=c,null!=(n=t)&&function(t,e,r){e=qt(e,t)?[e]:Kt(e);for(var i,a=-1,n=e.length;++a<n;){var o=Zt(e[a]);if(!(i=null!=t&&r(t,o)))break;t=t[o]}return i||!!(n=t?t.length:0)&&ne(n)&&Wt(o,n)&&(re(t)||ee(t))}(n,o,Ut)):jt(l,s,void 0,g|b)}}(t[0],t[1]):function(e){var r=function(t){var e=de(t),r=e.length;for(;r--;){var i=e[r],a=t[i];e[r]=[i,a,Ht(a)]}return e}(e);if(1==r.length&&r[0][2])return zt(r[0][0],r[0][1]);return function(t){return t===e||function(t,e,r,i){var a=r.length,n=a,o=!i;if(null==t)return!n;for(t=Object(t);a--;){var s=r[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<n;){var c=(s=r[a])[0],l=t[c],u=s[1];if(o&&s[2]){if(void 0===l&&!(c in t))return!1}else{var d,p=new It;if(i&&(d=i(l,u,c,t,e,p)),!(void 0===d?jt(u,l,i,g|b,p):d))return!1}}return!0}(t,e,r)}}(t):qt(e=t)?function(e){return function(t){return null==t?void 0:t[e]}}(Zt(e)):function(e){return function(t){return Lt(t,e)}}(e);var e}function Bt(t){if(r=(e=t)&&e.constructor,i="function"==typeof r&&r.prototype||$,e!==i)return st(t);var e,r,i,a=[];for(var n in Object(t))tt.call(t,n)&&"constructor"!=n&&a.push(n);return a}function Gt(t,i){var a=-1,n=ie(t)?Array(t.length):[];return kt(t,function(t,e,r){n[++a]=i(t,e,r)}),n}function Kt(t){return re(t)?t:$t(t)}function xt(t,e,r,i,a,n){var o=a&b,s=t.length,c=e.length;if(s!=c&&!(o&&s<c))return!1;var l=n.get(t);if(l&&n.get(e))return l==e;var u=-1,d=!0,p=a&g?new wt:void 0;for(n.set(t,e),n.set(e,t);++u<s;){var h,y=t[u],f=e[u];if(i&&(h=o?i(f,y,u,e,t,n):i(y,f,u,t,e,n)),void 0!==h){if(h)continue;d=!1;break}if(p){if(!function(t,e){for(var r=-1,i=t?t.length:0;++r<i;)if(e(t[r],r,t))return 1}(e,function(t,e){return!p.has(e)&&(y===t||r(y,t,i,a,n))&&p.add(e)})){d=!1;break}}else if(y!==f&&!r(y,f,i,a,n)){d=!1;break}}return n.delete(t),n.delete(e),d}function Mt(t,e){var r,i,a=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?a["string"==typeof e?"string":"hash"]:a.map}function Ft(t,e){var r,i,a=(i=e,null==(r=t)?void 0:r[i]);return Yt(a)?a:void 0}var Jt=function(t){return et.call(t)};function Wt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||f.test(t))&&-1<t&&t%1==0&&t<e}function qt(t,e){if(!re(t)){var r=typeof t;return"number"==r||"symbol"==r||"boolean"==r||null==t||ce(t)||(u.test(t)||!l.test(t)||null!=e&&t in Object(e))}}function Ht(t){return t==t&&!oe(t)}function zt(e,r){return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in Object(t)))}}(ct&&Jt(new ct(new ArrayBuffer(1)))!=k||lt&&Jt(new lt)!=S||ut&&Jt(ut.resolve())!=s||dt&&Jt(new dt)!=D||pt&&Jt(new pt)!=c)&&(Jt=function(t){var e=et.call(t),r=e==I?t.constructor:void 0,i=r?Qt(r):void 0;if(i)switch(i){case yt:return k;case ft:return S;case vt:return s;case gt:return D;case mt:return c}return e});var $t=Xt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ce(t))return Et?Et.call(t):"";var e=t+"";return"0"==e&&1/t==-r?"-0":e}(e);var a=[];return d.test(t)&&a.push(""),t.replace(p,function(t,e,r,i){a.push(r?i.replace(h,"$1"):e||t)}),a});function Zt(t){if("string"==typeof t||ce(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}function Qt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xt(a,n){if("function"!=typeof a||n&&"function"!=typeof n)throw new TypeError(e);var o=function(){var t=arguments,e=n?n.apply(this,t):t[0],r=o.cache;if(r.has(e))return r.get(e);var i=a.apply(this,t);return o.cache=r.set(e,i),i};return o.cache=new(Xt.Cache||St),o}function te(t,e){return t===e||t!=t&&e!=e}function ee(t){return se(e=t)&&ie(e)&&tt.call(t,"callee")&&(!nt.call(t,"callee")||et.call(t)==m);var e}Xt.Cache=St;var re=Array.isArray;function ie(t){return null!=t&&ne(t.length)&&!ae(t)}function ae(t){var e=oe(t)?et.call(t):"";return e==n||e==o}function ne(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=a}function oe(t){var e=typeof t;return t&&("object"==e||"function"==e)}function se(t){return!!t&&"object"==typeof t}function ce(t){return"symbol"==typeof t||se(t)&&et.call(t)==V}var le,ue=G?(le=G,function(t){return le(t)}):function(t){return se(t)&&ne(t.length)&&!!v[et.call(t)]};function de(t){return(ie(t)?Pt:Bt)(t)}function pe(t){return t}he.exports=function(t,e){return(re(t)?K:Gt)(t,Nt(e))}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(t,he,ye){(function(t){var e="Expected a function",i="__lodash_hash_undefined__",g=1,b=2,r=1/0,a=9007199254740991,m="[object Arguments]",A="[object Array]",E="[object Boolean]",T="[object Date]",_="[object Error]",n="[object Function]",o="[object GeneratorFunction]",S="[object Map]",w="[object Number]",I="[object Object]",s="[object Promise]",P="[object RegExp]",D="[object Set]",O="[object String]",V="[object Symbol]",c="[object WeakMap]",R="[object ArrayBuffer]",k="[object DataView]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[m]=v[A]=v[R]=v[E]=v[k]=v[T]=v[_]=v[n]=v[S]=v[w]=v[I]=v[P]=v[D]=v[O]=v[c]=!1;var C="object"==typeof t&&t&&t.Object===Object&&t,L="object"==typeof self&&self&&self.Object===Object&&self,U=C||L||Function("return this")(),j="object"==typeof ye&&ye&&!ye.nodeType&&ye,Y=j&&"object"==typeof he&&he&&!he.nodeType&&he,N=Y&&Y.exports===j&&C.process,B=function(){try{return N&&N.binding("util")}catch(t){}}(),G=B&&B.isTypedArray;function K(t,e,r,i){var a=-1,n=t?t.length:0;for(i&&n&&(r=t[++a]);++a<n;)r=e(r,t[a],a,t);return r}function x(t,i,a,n,e){return e(t,function(t,e,r){a=n?(n=!1,t):i(a,t,e,r)}),a}function M(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function F(t){var r=-1,i=Array(t.size);return t.forEach(function(t,e){i[++r]=[e,t]}),i}function J(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var W,q,H,z=Array.prototype,$=Function.prototype,Z=Object.prototype,Q=U["__core-js_shared__"],X=(W=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",tt=$.toString,et=Z.hasOwnProperty,rt=Z.toString,it=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=U.Symbol,nt=U.Uint8Array,ot=Z.propertyIsEnumerable,st=z.splice,ct=(q=Object.keys,H=Object,function(t){return q(H(t))}),lt=Ft(U,"DataView"),ut=Ft(U,"Map"),dt=Ft(U,"Promise"),pt=Ft(U,"Set"),ht=Ft(U,"WeakMap"),yt=Ft(Object,"create"),ft=Qt(lt),vt=Qt(ut),gt=Qt(dt),mt=Qt(pt),At=Qt(ht),bt=at?at.prototype:void 0,Et=bt?bt.valueOf:void 0,Tt=bt?bt.toString:void 0;function _t(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function It(t){var e=-1,r=t?t.length:0;for(this.__data__=new wt;++e<r;)this.add(t[e])}function Pt(t){this.__data__=new St(t)}function Dt(t,e){var r=re(t)||ee(t)?function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}(t.length,String):[],i=r.length,a=!!i;for(var n in t)!e&&!et.call(t,n)||a&&("length"==n||Wt(n,i))||r.push(n);return r}function Ot(t,e){for(var r=t.length;r--;)if(te(t[r][0],e))return r;return-1}_t.prototype.clear=function(){this.__data__=yt?yt(null):{}},_t.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_t.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===i?void 0:r}return et.call(e,t)?e[t]:void 0},_t.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:et.call(e,t)},_t.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Ot(e,t);return!(r<0)&&(r==e.length-1?e.pop():st.call(e,r,1),!0)},St.prototype.get=function(t){var e=this.__data__,r=Ot(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return-1<Ot(this.__data__,t)},St.prototype.set=function(t,e){var r=this.__data__,i=Ot(r,t);return i<0?r.push([t,e]):r[i][1]=e,this},wt.prototype.clear=function(){this.__data__={hash:new _t,map:new(ut||St),string:new _t}},wt.prototype.delete=function(t){return Mt(this,t).delete(t)},wt.prototype.get=function(t){return Mt(this,t).get(t)},wt.prototype.has=function(t){return Mt(this,t).has(t)},wt.prototype.set=function(t,e){return Mt(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,i),this},It.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new St},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var i=r.__data__;if(!ut||i.length<199)return i.push([t,e]),this;r=this.__data__=new wt(i)}return r.set(t,e),this};var Vt,Rt,kt,Ct=(Vt=function(t,e){return t&&Lt(t,e,de)},function(t,e){if(null==t)return t;if(!ie(t))return Vt(t,e);for(var r=t.length,i=Rt?r:-1,a=Object(t);(Rt?i--:++i<r)&&!1!==e(a[i],i,a););return t}),Lt=function(t,e,r){for(var i=-1,a=Object(t),n=r(t),o=n.length;o--;){var s=n[kt?o:++i];if(!1===e(a[s],s,a))break}return t};function Ut(t,e){for(var r=0,i=(e=qt(e,t)?[e]:Kt(e)).length;null!=t&&r<i;)t=t[Zt(e[r++])];return r&&r==i?t:void 0}function jt(t,e){return null!=t&&e in Object(t)}function Yt(t,e,r,i,a){return t===e||(null==t||null==e||!oe(t)&&!se(e)?t!=t&&e!=e:function(t,e,r,i,a,n){var o=re(t),s=re(e),c=A,l=A;o||(c=(c=Jt(t))==m?I:c);s||(l=(l=Jt(e))==m?I:l);var u=c==I&&!M(t),d=l==I&&!M(e),p=c==l;if(p&&!u)return n=n||new Pt,o||ue(t)?xt(t,e,r,i,a,n):function(t,e,r,i,a,n,o){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return t.byteLength==e.byteLength&&i(new nt(t),new nt(e))?!0:!1;case E:case T:case w:return te(+t,+e);case _:return t.name==e.name&&t.message==e.message;case P:case O:return t==e+"";case S:var s=F;case D:var c=n&b;if(s=s||J,t.size!=e.size&&!c)return!1;var l=o.get(t);if(l)return l==e;n|=g,o.set(t,e);var u=xt(s(t),s(e),i,a,n,o);return o.delete(t),u;case V:if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,c,r,i,a,n);if(!(a&b)){var h=u&&et.call(t,"__wrapped__"),y=d&&et.call(e,"__wrapped__");if(h||y){var f=h?t.value():t,v=y?e.value():e;return n=n||new Pt,r(f,v,i,a,n)}}return p&&(n=n||new Pt,function(t,e,r,i,a,n){var o=a&b,s=de(t),c=s.length,l=de(e).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=s[u];if(!(o?d in e:et.call(e,d)))return!1}var p=n.get(t);if(p&&n.get(e))return p==e;var h=!0;n.set(t,e),n.set(e,t);var y=o;for(;++u<c;){d=s[u];var f,v=t[d],g=e[d];if(i&&(f=o?i(g,v,d,e,t,n):i(v,g,d,t,e,n)),!(void 0===f?v===g||r(v,g,i,a,n):f)){h=!1;break}y=y||"constructor"==d}{var m,A;h&&!y&&(m=t.constructor,A=e.constructor,m!=A&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof A&&A instanceof A)&&(h=!1))}return n.delete(t),n.delete(e),h}(t,e,r,i,a,n))}(t,e,Yt,r,i,a))}function Nt(t){return oe(t)&&!(X&&X in t)&&(ae(t)||M(t)?it:y).test(Qt(t))}function Bt(t){return"function"==typeof t?t:null==t?pe:"object"==typeof t?re(t)?function(c,l){if(qt(c)&&Ht(l))return zt(Zt(c),l);return function(t){var e,r,i,a,n,o,s=(r=c,void 0===(a=null==(e=t)?void 0:Ut(e,r))?i:a);return void 0===s&&s===l?(o=c,null!=(n=t)&&function(t,e,r){e=qt(e,t)?[e]:Kt(e);for(var i,a=-1,n=e.length;++a<n;){var o=Zt(e[a]);if(!(i=null!=t&&r(t,o)))break;t=t[o]}return i||!!(n=t?t.length:0)&&ne(n)&&Wt(o,n)&&(re(t)||ee(t))}(n,o,jt)):Yt(l,s,void 0,g|b)}}(t[0],t[1]):function(e){var r=function(t){var e=de(t),r=e.length;for(;r--;){var i=e[r],a=t[i];e[r]=[i,a,Ht(a)]}return e}(e);if(1==r.length&&r[0][2])return zt(r[0][0],r[0][1]);return function(t){return t===e||function(t,e,r,i){var a=r.length,n=a,o=!i;if(null==t)return!n;for(t=Object(t);a--;){var s=r[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<n;){var c=(s=r[a])[0],l=t[c],u=s[1];if(o&&s[2]){if(void 0===l&&!(c in t))return!1}else{var d,p=new Pt;if(i&&(d=i(l,u,c,t,e,p)),!(void 0===d?Yt(u,l,i,g|b,p):d))return!1}}return!0}(t,e,r)}}(t):qt(e=t)?function(e){return function(t){return null==t?void 0:t[e]}}(Zt(e)):function(e){return function(t){return Ut(t,e)}}(e);var e}function Gt(t){if(r=(e=t)&&e.constructor,i="function"==typeof r&&r.prototype||Z,e!==i)return ct(t);var e,r,i,a=[];for(var n in Object(t))et.call(t,n)&&"constructor"!=n&&a.push(n);return a}function Kt(t){return re(t)?t:$t(t)}function xt(t,e,r,i,a,n){var o=a&b,s=t.length,c=e.length;if(s!=c&&!(o&&s<c))return!1;var l=n.get(t);if(l&&n.get(e))return l==e;var u=-1,d=!0,p=a&g?new It:void 0;for(n.set(t,e),n.set(e,t);++u<s;){var h,y=t[u],f=e[u];if(i&&(h=o?i(f,y,u,e,t,n):i(y,f,u,t,e,n)),void 0!==h){if(h)continue;d=!1;break}if(p){if(!function(t,e){for(var r=-1,i=t?t.length:0;++r<i;)if(e(t[r],r,t))return 1}(e,function(t,e){return!p.has(e)&&(y===t||r(y,t,i,a,n))&&p.add(e)})){d=!1;break}}else if(y!==f&&!r(y,f,i,a,n)){d=!1;break}}return n.delete(t),n.delete(e),d}function Mt(t,e){var r,i,a=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?a["string"==typeof e?"string":"hash"]:a.map}function Ft(t,e){var r,i,a=(i=e,null==(r=t)?void 0:r[i]);return Nt(a)?a:void 0}var Jt=function(t){return rt.call(t)};function Wt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||f.test(t))&&-1<t&&t%1==0&&t<e}function qt(t,e){if(!re(t)){var r=typeof t;return"number"==r||"symbol"==r||"boolean"==r||null==t||ce(t)||(u.test(t)||!l.test(t)||null!=e&&t in Object(e))}}function Ht(t){return t==t&&!oe(t)}function zt(e,r){return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in Object(t)))}}(lt&&Jt(new lt(new ArrayBuffer(1)))!=k||ut&&Jt(new ut)!=S||dt&&Jt(dt.resolve())!=s||pt&&Jt(new pt)!=D||ht&&Jt(new ht)!=c)&&(Jt=function(t){var e=rt.call(t),r=e==I?t.constructor:void 0,i=r?Qt(r):void 0;if(i)switch(i){case ft:return k;case vt:return S;case gt:return s;case mt:return D;case At:return c}return e});var $t=Xt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ce(t))return Tt?Tt.call(t):"";var e=t+"";return"0"==e&&1/t==-r?"-0":e}(e);var a=[];return d.test(t)&&a.push(""),t.replace(p,function(t,e,r,i){a.push(r?i.replace(h,"$1"):e||t)}),a});function Zt(t){if("string"==typeof t||ce(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}function Qt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xt(a,n){if("function"!=typeof a||n&&"function"!=typeof n)throw new TypeError(e);var o=function(){var t=arguments,e=n?n.apply(this,t):t[0],r=o.cache;if(r.has(e))return r.get(e);var i=a.apply(this,t);return o.cache=r.set(e,i),i};return o.cache=new(Xt.Cache||wt),o}function te(t,e){return t===e||t!=t&&e!=e}function ee(t){return se(e=t)&&ie(e)&&et.call(t,"callee")&&(!ot.call(t,"callee")||rt.call(t)==m);var e}Xt.Cache=wt;var re=Array.isArray;function ie(t){return null!=t&&ne(t.length)&&!ae(t)}function ae(t){var e=oe(t)?rt.call(t):"";return e==n||e==o}function ne(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=a}function oe(t){var e=typeof t;return t&&("object"==e||"function"==e)}function se(t){return!!t&&"object"==typeof t}function ce(t){return"symbol"==typeof t||se(t)&&rt.call(t)==V}var le,ue=G?(le=G,function(t){return le(t)}):function(t){return se(t)&&ne(t.length)&&!!v[rt.call(t)]};function de(t){return(ie(t)?Dt:Gt)(t)}function pe(t){return t}he.exports=function(t,e,r){var i=re(t)?K:x,a=arguments.length<3;return i(t,Bt(e),r,a,Ct)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(t,e,r){var i=function(o){"use strict";var d,t=Object.prototype,u=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},a=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function n(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{n({},"")}catch(t){n=function(t,e,r){return t[e]=r}}function s(t,e,r,i){var n,o,s,c,a=e&&e.prototype instanceof m?e:m,l=Object.create(a.prototype),u=new P(i||[]);return l._invoke=(n=t,o=r,s=u,c=h,function(t,e){if(c===f)throw new Error("Generator is already running");if(c===v){if("throw"===t)throw e;return O()}for(s.method=t,s.arg=e;;){var r=s.delegate;if(r){var i=function t(e,r){var i=e.iterator[r.method];if(i===d){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=d,t(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=p(i,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var n=a.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=d),r.delegate=null,g):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}(r,s);if(i){if(i===g)continue;return i}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===h)throw c=v,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=f;var a=p(n,o,s);if("normal"===a.type){if(c=s.done?v:y,a.arg===g)continue;return{value:a.arg,done:s.done}}"throw"===a.type&&(c=v,s.method="throw",s.arg=a.arg)}}),l}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var h="suspendedStart",y="suspendedYield",f="executing",v="completed",g={};function m(){}function c(){}function l(){}var A={};A[a]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(D([])));E&&E!==t&&u.call(E,a)&&(A=E);var T=l.prototype=m.prototype=Object.create(A);function _(t){["next","throw","return"].forEach(function(e){n(t,e,function(t){return this._invoke(e,t)})})}function S(c,l){var e;this._invoke=function(r,i){function t(){return new l(function(t,e){!function e(t,r,i,a){var n=p(c[t],c,r);if("throw"!==n.type){var o=n.arg,s=o.value;return s&&"object"==typeof s&&u.call(s,"__await")?l.resolve(s.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):l.resolve(s).then(function(t){o.value=t,i(o)},function(t){return e("throw",t,i,a)})}a(n.arg)}(r,i,t,e)})}return e=e?e.then(t,t):t()}}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(u.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=d,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:d,done:!0}}return((c.prototype=T.constructor=l).constructor=c).displayName=n(l,i,"GeneratorFunction"),o.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,n(t,i,"GeneratorFunction")),t.prototype=Object.create(T),t},o.awrap=function(t){return{__await:t}},_(S.prototype),S.prototype[r]=function(){return this},o.AsyncIterator=S,o.async=function(t,e,r,i,a){void 0===a&&(a=Promise);var n=new S(s(t,e,r,i),a);return o.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},_(T),n(T,i,"Generator"),T[a]=function(){return this},T.toString=function(){return"[object Generator]"},o.keys=function(r){var i=[];for(var t in r)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=D,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=d)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var i=this;function t(t,e){return n.type="throw",n.arg=r,i.next=t,e&&(i.method="next",i.arg=d),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],n=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=u.call(a,"catchLoc"),s=u.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var n=a?a.completion:{};return n.type=t,n.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i,a=r.completion;return"throw"===a.type&&(i=a.arg,I(r)),i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=d),g}},o}("object"==typeof e?e.exports:{});try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},{}],13:[function(t,e,r){"use strict";e.exports={env:window.PUBSTACK_VIDEO_CONFIG.env,access_token:window.PUBSTACK_VIDEO_CONFIG.access_token,publisher_id:window.PUBSTACK_VIDEO_CONFIG.publisher_id,website:{id:window.PUBSTACK_VIDEO_CONFIG.website.id,c3:window.PUBSTACK_VIDEO_CONFIG.website.c3,title:window.PUBSTACK_VIDEO_CONFIG.website.title}}},{}],14:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),U=i(t("@babel/runtime/regenerator")),j=i(t("@babel/runtime/helpers/asyncToGenerator")),Y=t("lodash.reduce"),N=t("lodash.findindex"),B=t("lodash.foreach"),G=t("./players/youtube.player"),K=t("./players/nw18.vidgyor.player"),x=t("./players/videojs.player"),M=t("./utils/http.utils"),F=t("./utils/loader.utils"),J=t("./utils/dom.utils"),W=t("./utils/log.utils"),a=t("./utils/helpers.utils"),q=t("./utils/newrelic.utils"),H="",z="",$="",Z="",Q="",X="",tt="",et="",rt="",it="",at="",nt="",ot=!1,st="",ct="",lt=!1,ut="",n=function(){var e=(0,j.default)(U.default.mark(function t(e){var r,i,a,n,o,s,c,l,g,u,d,p,h,y,f,v,m,A,b,E,T,_,S,w,I,P,D,O,V,R,k,C,L;return U.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=J.fetchFallbackTargets(),o=J.fetchV1Targets(),s=J.fetchVidgyorTargets(),0===n.length&&0===o.length&&0===s.length)return t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: DIV_ATTRIBUTE_MISSING"});t.next=5;break;case 5:c=[],l={},g=(new Date).getTime(),W.log("[NW18-PLAYER][VIDGYORJS] Player Time started ".concat(new Date)),B(n,function(t){H=t.city,z=t.state,$=t.district,Z=t.language,Q=t.videotype,X=t.articleid,tt=t.sectionname,et=t.videoevent,ct=t.isAdDisable,lt=!!t.ampEvent,ut=t.placeholderImg,$=t.district,t.contentType,t.deskVideo,t.videoIdentifier,t.taboola,t.dataTag,t.articleType,t.authorType,t.agencyType,t.articleDate,t.pageUrl,t.videoTitle,t.ampFilter,c.push(t.id),0<t.keywords.length&&(l[t.id]=t.keywords.join(","))}),B(o,function(t){H=t.city,z=t.state,$=t.district,Z=t.language,Q=t.videotype,X=t.articleid,tt=t.sectionname,et=t.videoevent,ct=t.isAdDisable,lt=!!t.ampEvent,ut=t.placeholderImg,$=t.district,t.contentType,t.deskVideo,t.videoIdentifier,t.taboola,t.dataTag,t.articleType,t.authorType,t.agencyType,t.articleDate,t.pageUrl,t.videoTitle,t.ampFilter,c.push(t.id),0<t.keywords.length&&(l[t.id]=t.keywords.join(","))}),B(s,function(t){H=t.city,z=t.state,$=t.district,Z=t.language,Q=t.videotype,X=t.articleid,tt=t.sectionname,et=t.videoevent,ct=t.isAdDisable,lt=!!t.ampEvent,ut=t.placeholderImg,$=t.district,t.contentType,t.deskVideo,t.videoIdentifier,t.taboola,t.dataTag,t.articleType,t.authorType,t.agencyType,t.articleDate,t.pageUrl,t.videoTitle,t.ampFilter,c.push(t.id),0<t.keywords.length&&(l[t.id]=t.keywords.join(","))}),rt=/iPhone|iPad/i.test(navigator.userAgent),ot=/IEMobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|iPad|Blackberry|PlayBook|BB10|Mobile Safari|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent),it=window.location.href.replace("#","&"),at=window.location.hostname,nt="&section_name=[".concat(tt,"]&Content_Type=[").concat(Q,"]&State=[").concat(z,"]&District=[").concat($,"]&Langauage=[").concat(Z,"]&article_id=[").concat(X,"]"),u="";try{tt&&(u+="%26section_VID_name%3D".concat(tt)),Q&&(u+="%26content_VID_type%3D".concat(Q)),it&&(u+="%26page_VID_url%3D".concat(it)),X&&(u+="%26video_VID_id%3D".concat(X)),z&&(u+="%26state_VID_name%3D".concat(z)),H&&(u+="%26city_VID_name%3D".concat(H)),$&&(u+="%26district_VID_name%3D".concat($)),at&&(u+="%26site_VID_name​%3D".concat(at)),Z&&(u+="%26Langauage%3D".concat(Z)),u.length&&(nt="&cust_params="+u.replace("%26",""))}catch(t){console.log(t)}if(d={},p=e,W.log("".concat(c,", ").concat(l,", ").concat(H,", ").concat(z,", ").concat($,", ").concat(Z,", ").concat(Q,", ").concat(X,", ").concat(tt,", ").concat(rt,", ").concat(it,", ").concat(nt)),W.log(p),p&&0!=Object.keys(p).length){t.next=29;break}return t.next=26,M.getVideoEmbedMetadata(c,l,H,z,$,Z,Q,X,tt,rt,it,at,ct,lt);case 26:p=t.sent,t.next=43;break;case 29:if(c.length==(null===(r=p)||void 0===r||null===(i=r.data)||void 0===i||null===(a=i.videos)||void 0===a?void 0:a.length)){t.next=43;break}if(t.prev=30,f=(null===(h=p)||void 0===h||null===(y=h.data)||void 0===y?void 0:y.videos)||null,0<(v=(null==f?void 0:f.map(function(t){return t._id}))||[]).length)return m=c.filter(function(t){return!v.includes(t)}),t.next=37,M.getVideoEmbedMetadata(m,l,H,z,$,Z,Q,X,tt,rt,it,at,ct,lt);t.next=38;break;case 37:d=t.sent;case 38:t.next=43;break;case 40:t.prev=40,t.t0=t.catch(30),console.log(t.t0);case 43:if(p.success){t.next=51;break}return W.log("[NW18-PLAYER][LOG] Error fetching video embed data from server!"),W.log("[NW18-PLAYER][LOG] ----------------------- SERVER RESPONSE - START ------------------------"),W.log("[NW18-PLAYER][LOG] ".concat(d.message," ").concat(p.message)),W.log("[NW18-PLAYER][LOG] Video IDs: ".concat(c.join(", "))),W.log("[NW18-PLAYER][LOG] ----------------------- SERVER RESPONSE - END ------------------------"),null!=q&&q.addPageAction("DATA_ERROR",{errMessage:null===(A=p)||void 0===A?void 0:A.message,errType:"STREAM_MISSING",vidMongoId:null==c?void 0:c.join(",")}),t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: STREAM_MISSING"});case 51:if(p.data.videos&&0<p.data.videos.length){t.next=56;break}return W.log("[NW18-PLAYER][LOG] Video embed data not found!"),W.log("[NW18-PLAYER][LOG] Video IDs: ".concat(c.join(", "))),null!=q&&q.addPageAction("DATA_ERROR",{errMessage:"Video embed data not found",errType:"STREAM_MISSING",vidMongoId:null==c?void 0:c.join(",")}),t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: STREAM_MISSING1"});case 56:b=p.data.videos;try{null!==(E=d)&&void 0!==E&&(null!==(T=E.data)&&void 0!==T&&T.videos)&&0<(null===(_=d)||void 0===_||null===(S=_.data)||void 0===S||null===(w=S.videos)||void 0===w?void 0:w.length)&&(b=b.concat(null===(I=d)||void 0===I||null===(P=I.data)||void 0===P?void 0:P.videos))}catch(t){console.log(t)}return D=Y(b,function(t,e){return t||"YOUTUBE"===e.player},!1),O=Y(b,function(t,e){return t||"VIDEOJS"===e.player},!1),V=Y(b,function(t,e){return t||"VIDGYORJS"===e.player},!1),R=function(){var t=(0,j.default)(U.default.mark(function t(){return U.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(W.log("[NW18-PLAYER][LOG] Skipping loading YouTube Iframe Library!"),D){t.next=3;break}return t.abrupt("return");case 3:return W.log("[NW18-PLAYER][LOG] Loading YouTube Iframe Library!"),t.next=6,F.loadYouTubeSources();case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),k=function(){var t=(0,j.default)(U.default.mark(function t(){var e;return U.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=3;break}return W.log("[NW18-PLAYER][LOG] Skipping loading Google IMA SDK & VideoJS Library!"),t.abrupt("return");case 3:return W.log("[NW18-PLAYER][LOG] Loading Google IMA SDK!"),e="".concat(window.location.protocol,"//imasdk.googleapis.com/js/sdkloader/ima3.js"),t.next=7,F.loadJavascript(e,!1);case 7:return W.log("[NW18-PLAYER][LOG] Loading VideoJS Library!"),t.next=10,Promise.all([F.loadComscore(),F.loadVideoJSLibrary(),F.loadVideoJSStylesheet()]);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),C=function(){var t=(0,j.default)(U.default.mark(function t(){return U.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(V){t.next=4;break}return null!=q&&q.addPageAction("DATA_ERROR",{errMessage:"Vidgyor Video Id not found",errType:"PLAYER_DATA_MISSING",vidMongoId:null==c?void 0:c.join(",")}),W.log("[NW18-PLAYER][LOG] Skipping loading Google IMA SDK & VidgyorJS Library!"),t.abrupt("return");case 4:return W.log("[NW18-PLAYER][LOG] Loading VidgyorJS Library!"),t.next=7,Promise.all([F.loadVidgyorJSLibrary()]);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.next=66,Promise.all([R(),k(),C()]);case 66:return L=[],B(n,function(r){var t,e,i,a,n,o,s,c,l,u,d,p,h,y=N(b,function(t){var e;return(null===(e=t.youtube)||void 0===e?void 0:e.id)===r.id});-1!==y?(e=(t=b[y])._id,i=t.title,a=t.youtube,n=t.playlist,o=t.sources,s=t.duration,c=t.player,l=t.ad_tag,u=t.ad_tag_desktop,d=t.ad_tag_pwa,p=t.chapters,d&&u&&(st=ot?d:u,st+=nt,it&&st&&(st=st.replace("[placeholder]",it))),h={video:{id:e,title:i,youtube:a,playlist:n,sources:o,duration:s,category:r.category,articleid:r.articleid,playerid:r.playerid,playerviewport:r.playerviewport,setautoplay:r.setautoplay,videoslot:r.videoslot,disablecontrols:r.disablecontrols,ampEvent:r.ampEvent,pipVal:r.pipVal,videoevent:et,videotype:Q,ad_tag:"true"!=ct&&(l||st)||null,startTime:g,chapters:p,placeholderImg:ut,isAdDisable:ct,videoEvent:r.videoevent,district:r.district,contentType:r.contentType,deskVideo:r.deskVideo,videoIdentifier:r.videoIdentifier,taboola:r.taboola,dataTag:r.dataTag,articleType:r.articleType,authorType:r.authorType,agencyType:r.agencyType,articleDate:r.articleDate,pageUrl:r.pageUrl,domainName:r.domainName,videoTitle:r.videoTitle,ampFilter:r.ampFilter},config:{autoplay:b[y].autoplay},player:c,target:r.target,embed_type:r.embed_type,platform:r.platform},L.push(h)):W.log("[NW18-PLAYER][LOG] Video metadata not found for YouTube ID: ".concat(r.id,"!"))}),B(o,function(e){var t,r,i,a,n,o,s,c,l,u,d,p,h,y,f,v=N(b,function(t){return t._id===e.id});-1!==v?(r=(t=b[v])._id,i=t.title,a=t.youtube,n=t.playlist,o=t.sources,s=t.duration,c=t.player,l=t.ad_tag,u=t.stream_token,d=t.thumbnail,p=t.ad_tag_desktop,h=t.ad_tag_pwa,y=t.chapters,h&&p&&(st=ot?h:p,st+=nt,it&&st&&(st=st.replace("[placeholder]",it))),f={video:{id:r,title:i,youtube:a,playlist:n,sources:o,duration:s,category:e.category,articleid:e.articleid,playerid:e.playerid,playerviewport:e.playerviewport,setautoplay:e.setautoplay,videoslot:e.videoslot,disablecontrols:e.disablecontrols,ampEvent:e.ampEvent,pipVal:e.pipVal,videoevent:et,videotype:Q,token:u,thumbnail_img:d,ad_tag:"true"!=ct&&(l||st)||null,startTime:g,chapters:y,placeholderImg:ut,isAdDisable:ct,videoEvent:e.videoevent,district:e.district,contentType:e.contentType,deskVideo:e.deskVideo,videoIdentifier:e.videoIdentifier,taboola:e.taboola,dataTag:e.dataTag,articleType:e.articleType,authorType:e.authorType,agencyType:e.agencyType,articleDate:e.articleDate,pageUrl:e.pageUrl,domainName:e.domainName,videoTitle:e.videoTitle,ampFilter:e.ampFilter},config:{autoplay:b[v].autoplay},player:c,target:e.target,embed_type:e.embed_type,platform:e.platform},L.push(f)):W.log("[NW18-PLAYER][LOG] Video metadata not found for Video ID: ".concat(e.id,"!"))}),B(s,function(e){var t=N(b,function(t){return t._id===e.id});if(-1===t)return null!=q&&q.addPageAction("DATA_ERROR",{errMessage:"Vidgyor Metadata Video Id not found",errType:"PLAYER_DATA_MISSING",vidMongoId:null==e?void 0:e.id}),void W.log("[NW18-PLAYER][LOG] Video metadata not found for Video ID: ".concat(e.id,"!"));var r=b[t],i=r._id,a=r.title,n=r.youtube,o=r.playlist,s=r.sources,c=r.duration,l=r.player,u=r.ad_tag,d=r.stream_token,p=r.thumbnail,h=r.ad_tag_desktop,y=r.ad_tag_pwa,f=r.chapters;y&&h&&(st=ot?y:h,st+=nt,it&&st&&(st=st.replace("[placeholder]",it)));var v={video:{id:i,title:a,youtube:n,playlist:o,sources:s,duration:c,category:e.category,articleid:e.articleid,playerid:e.playerid,playerviewport:e.playerviewport,setautoplay:e.setautoplay,videoslot:e.videoslot,disablecontrols:e.disablecontrols,ampEvent:e.ampEvent,pipVal:e.pipVal,videoevent:et,videotype:Q,token:d,thumbnail_img:p,ad_tag:"true"!=ct&&(u||st)||null,startTime:g,chapters:f,placeholderImg:ut,isAdDisable:ct,videoEvent:e.videoevent,district:e.district,contentType:e.contentType,deskVideo:e.deskVideo,videoIdentifier:e.videoIdentifier,taboola:e.taboola,dataTag:e.dataTag,articleType:e.articleType,authorType:e.authorType,agencyType:e.agencyType,articleDate:e.articleDate,pageUrl:e.pageUrl,domainName:e.domainName,videoTitle:e.videoTitle,ampFilter:e.ampFilter},config:{autoplay:b[t].autoplay},player:l,target:e.target,embed_type:e.embed_type,platform:e.platform};L.push(v)}),B(L,function(t){var e,r,i;"YOUTUBE"===t.player?(e=new G(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"YOUTUBE",player:e})):"VIDEOJS"===t.player?(r=new x(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"VIDEOJS",player:r})):"VIDGYORJS"===t.player&&(i=new K(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"VIDGYORJS",player:i}))}),t.abrupt("return",{success:!1,message:"Players initialized successfully for embed codes"});case 72:case"end":return t.stop()}},t,null,[[30,40]])}));return function(t){return e.apply(this,arguments)}}();a.setupWebPlayer(),W.log("[NW18-PLAYER][LOG] Video library initialization completed!"),window.refreshPubstackPlayers=function(t){a.pushToProcessingQueue(n(t))}},{"./players/nw18.vidgyor.player":15,"./players/videojs.player":16,"./players/youtube.player":17,"./utils/dom.utils":19,"./utils/helpers.utils":21,"./utils/http.utils":22,"./utils/loader.utils":23,"./utils/log.utils":24,"./utils/newrelic.utils":25,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":7,"lodash.findindex":8,"lodash.foreach":9,"lodash.reduce":11}],15:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),a=i(t("@babel/runtime/regenerator")),n=i(t("@babel/runtime/helpers/asyncToGenerator")),o=i(t("@babel/runtime/helpers/defineProperty")),c=i(t("@babel/runtime/helpers/classCallCheck")),l=i(t("@babel/runtime/helpers/createClass"));function s(e,t){var r,i=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)),i}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=t("../utils/log.utils"),d=t("../utils/helpers.utils"),p=t("../utils/google-analytics.utils"),y=t("../utils/comscore.utils"),f=t("../utils/loader.utils"),v=t("../utils/newrelic.utils"),g=function(){function s(t,e,r,i){var a,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};(0,c.default)(this,s),this.target=t,this.video=e,this.platform=r,this.embedType=i,this.playerID=d.generatePlayerID("VIDGYORJS"),this.AD_LOADING_STATE=-2,this.INITIALIZE_STATE=-1,this.READY_STATE=0,this.AUTOPLAY_STATE=1,this.PLAY_STATE=2,this.PAUSE_STATE=3,this.END_STATE=4,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousAdState=this.INITIALIZE_STATE,this.currentAdState=this.INITIALIZE_STATE,this.playFirstTime=1,this.autoplayFirstTime=1,this.bufferResume=1,this.previousProgressTime=0,this.videoType="",this.updatedsrc="",this.finalsrc="",this.isInViewport="",this.isInViewportWidget="",this.controlSwitch="",this.newrelicData={vidPlayerName:"VIDGYORJS",vidPlayerId:this.playerID,vidMongoId:this.video.id,vidDuration:this.video.duration,vidTitle:this.video.title,vidUserAgent:null===(a=navigator)||void 0===a?void 0:a.userAgent},this.recognisedDomainsForRetry=["stgassam-mt.news18.com","betaassam-mt.news18.com","assam.news18.com","images.news18.com","telugu.news18.com"],this.isAdSupported=null!==this.video.ad_tag&&!window.PUBSTACK_VIDEO_STATE.adblocker,this.vastTag=null,this.isAdSupported&&(this.vastTag=d.generateVASTTag(this.video.ad_tag,this.video.title,this.video.category,this.video.keywords)),this.startEvent="click",(window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/Android/i))&&(this.startEvent="touchend"),this.initializeConfig(n),this.initializePlayerConfig();var o={unique_id:this.video.id,player:"VIDGYORJS",video_id:this.video.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent,videoEvent:this.video.videoEvent,district:this.video.district,deskVideo:this.video.deskVideo,videoIdentifier:this.video.videoIdentifier,taboola:this.video.taboola,dataTag:this.video.dataTag,articleType:this.video.articleType,authorType:this.video.authorType,agencyType:this.video.agencyType,articleDate:this.video.articleDate,pageUrl:this.video.pageUrl,videoTitle:this.video.videoTitle,ampFilter:this.video.ampFilter,domainName:this.video.domainName};this.googleAnalytics=new p.PlayerAnalytics(this.playerID,o),this.comscoreAnalytics={},this.playerErrorCount=0,this.init()}var t;return(0,l.default)(s,[{key:"initializeConfig",value:function(t){var e={autoplay:!1,loop:!1,muted:!0,preload:"metadata",aspectRatio:"16:9",autoSetup:!1,fluid:!0,language:"en",nativeControlsForTouch:!0,fullscreen:{options:{navigationUI:"show"}},html5:{vhs:{overrideNative:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},playbackRates:[.5,1,1.5,2],responsive:!0,sources:[],poster:[],suppressNotSupportedError:!0,analytics:!0};this.config=u(u({},e),t)}},{key:"initializePlayerConfig",value:function(){var e=this;"video/mp4"===this.video.sources[0].type?(this.videoType="mp4",this.updatedsrc=this.video.sources[0].src,this.finalsrc=this.updatedsrc):(this.videoType="m3u8",this.updatedsrc=this.video.sources[0].src.split("?"),this.finalsrc=this.updatedsrc[0]),"true"===this.video.disablecontrols?this.controlSwitch=!1:this.controlSwitch=!0;var t,r,i,a=/IEMobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|iPad|Blackberry|PlayBook|BB10|Mobile Safari|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent),n=300,o=360,s=0,c=[];try{a&&(n=window.innerHeight-230,o=window.innerWidth-40)}catch(t){console.log(t)}try{var l=new URLSearchParams(window.location.search),s=l.has("seekto")?l.get("seekto"):"";if(this.video.chapters&&0<this.video.chapters.length)for(var u=0;u<this.video.chapters.length;u++){var d=this.video.chapters[u].duration;d=-1<(d=d.toString()).indexOf(":")?(d=d.split(":"),60*parseInt(d[0])+parseInt(d[1])):parseInt(d),c.push({duration:d,title:this.video.chapters[u].title}),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"]: Chapters added - ").concat(JSON.stringify(c)))}}catch(t){c=[],console.log(t)}this.playerConfig={accountId:"vprism",profile:"62bd56e4517f060009f59961/abded892e2461_vod",playerDivId:this.video.playerid,isAutoPlay:"shorts"===this.video.contentType,isMute:"shorts"!==this.video.contentType,posterImageUrl:this.video.placeholderImg?this.video.placeholderImg:this.video.thumbnail_img,tapToUnmute:!1,disableAds:"true"===this.video.isAdDisable,pip:"true"===this.video.pipVal?1:0,piv:"",streamUrl:this.finalsrc,adTag:this.video.ad_tag,mediaType:this.videoType,token:"?hdnts=".concat(this.video.token),controls:this.controlSwitch,pipconf:"true"===this.video.pipVal?"l,20,".concat(n,",180,360,180,").concat(o):"",startFrom:s,chapters:c},this.currentDomain=window.location.hostname;try{this.recognisedDomainsForRetry.includes(this.currentDomain)&&(r=(t=new URLSearchParams(window.location.search)).has("language")?t.get("language"):"",i=!0,"images.news18.com"!=this.currentDomain||"asm"==r&&"tel"==r||(i=!1),i&&(this.playerConfig.accountId="mktest",this.playerConfig.profile="error-test"))}catch(t){console.log(t)}var p=["autoplay","preload","autoSetup","fluid","language","nativeControlsForTouch","fullscreen","html5","playbackRates","responsive","sources","suppressNotSupportedError","analytics","events"];Object.keys(this.config).forEach(function(t){-1===p.indexOf(t)&&(e.playerConfig[t]=e.config[t])})}},{key:"validateTarget",value:function(){if(!(this.target&&this.target instanceof HTMLDivElement))return{status:!1,message:"Target is null or target is not a valid Div element."};var t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),r=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name");return t||e||r?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}}},{key:"updatePlayerTarget",value:function(){this.target.innerHTML="",this.videoTarget=document.createElement("div"),this.videoTarget.id="closeButtonContainer",this.target.appendChild(this.videoTarget)}},{key:"loadVideoAD",value:function(){this.player.ima.initializeAdDisplayContainer(),this.player.ima.setContentWithAdTag(null,this.vastTag,!1),this.player.ima.requestAds(),this.currentAdState=this.READY_STATE}},{key:"initializeGoogleIMA",value:function(){var t=this,e=this;this.player.on("aderror",function(){var t;e.currentAdState=this.END_STATE,e.googleAnalytics.fireAdError("adError",this,!1),null!=v&&v.addPageAction("AD_ERROR",u(u({},e.newrelicData),{},{errMessage:this,vidAdUrl:null==e||null===(t=e.video)||void 0===t?void 0:t.ad_tag}))}),this.player.on("adsready",function(){t.onAdManagerReady.bind(t)()})}},{key:"updatePlayer",value:function(){var t=this;window.VIDGYOR.initPlayer(this.playerConfig),this.player=new window.VidgyorPlayer(this.video.playerid),this.player.ready(function(){t.onReady.bind(t)()}),this.initializeGoogleIMA()}},{key:"init",value:(t=(0,n.default)(a.default.mark(function t(){var e,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.validateTarget()).status){t.next=3;break}throw new Error(e.message);case 3:return this.updatePlayerTarget(),this.updatePlayer(),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Now load Comscore after vidgyor initialize!")),t.next=8,f.loadComscore();case 8:r={unique_id:this.video.id,duration:this.video.duration,title:this.video.title},this.comscoreAnalytics=new y.PlayerComscoreAnalytics("VIDGYORJS",this.playerID,r);case 10:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"checkDynamicViewport",value:function(t){var e=this,r=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(r),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){try{e.currentDomain=window.location.hostname,1<=e.playerErrorCount&&e.recognisedDomainsForRetry.includes(e.currentDomain)&&(null!=v&&v.addPageAction("PLAYER_SUCCESS_AFTER_RETRY",u(u({},null==e?void 0:e.newrelicData),{},{errMessage:e.playerErrorCount,vidStreamUrl:null==e?void 0:e.finalsrc,vidPlayedTime:Math.round(e.player.currentTime())})),e.playerErrorCount++)}catch(t){console.log(t),null!=v&&v.addPageAction("PLAYER_SUCCESS_AFTER_RETRY",{errMessage:t.message})}var t;e.currentState!==e.PAUSE_STATE&&(t=Math.round(e.player.currentTime()),e.previousProgressTime!==t&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%30==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1))},500)}},{key:"onScroll",value:function(){var t,e=this;0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewport=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom);function r(){if(e.isInViewport&&e.currentState!==e.PLAY_STATE)if(e.currentState=e.AUTOPLAY_STATE,e.player.play(),1===e.autoplayFirstTime&&1===e.bufferResume){e.googleAnalytics.fireEvent("AutoPlay",!0),e.autoplayFirstTime=0;try{var t=((new Date).getTime()-e.video.startTime)/1e3;h.log("[NW18-PLAYER][VIDGYORJS] Time taken for autoplay ".concat(t,"s , current time :  ").concat(new Date)),null!=v&&v.addPageAction("PLAYER_READY",u(u({},e.newrelicData),{},{timeToPlay:t,timeToReady:e.video.readyTime}))}catch(t){console.log(t)}}else 0===e.autoplayFirstTime&&0===e.bufferResume&&(e.googleAnalytics.fireEvent("Buffer Resume",!0),e.bufferResume=1);e.isInViewport||e.currentState!==e.PLAY_STATE||e.video.pipVal||e.player.pause()}return this.isAdSupported?this.isInViewport?this.currentAdState===this.INITIALIZE_STATE?(this.currentAdState=this.READY_STATE,h.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video AD is ready to play!")),r()):this.currentAdState===this.PAUSE_STATE?(this.player.adResume(),h.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video Ad playback is resume"))):this.currentAdState!==this.END_STATE&&this.currentAdState!==this.READY_STATE||r():this.isInViewport||this.currentAdState!==this.PLAY_STATE?r():this.player.adPause():r(),null}},{key:"initWidgetImpressionTracker",value:function(){var t,r=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget||window.addEventListener("scroll",function t(){var e;0<r.video.playerviewport.length?r.isInViewportWidget=r.checkDynamicViewport(r.video.playerid):(e=r.target.getBoundingClientRect(),r.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),r.isInViewportWidget&&window.removeEventListener("scroll",t)})}},{key:"onReady",value:function(){var e=this;h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.currentState=this.READY_STATE;var t,r=((new Date).getTime()-this.video.startTime)/1e3;h.log("[NW18-PLAYER][VIDGYORJS] Time taken for player ready ".concat(r)),this.video.readyTime=r,"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(t=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport&&(e.isInViewport=!0,"shorts"!==e.video.contentType&&e.onScroll())},{threshold:this.video.playerviewport}).observe(t)):"shorts"!==this.video.contentType&&this.onScroll()),this.player.on("timeupdate",function(){return e.initProgressObserver()}),this.player.on("play",function(){e.onPlay(),e.currentState=e.PLAY_STATE}),this.player.on("pause",function(){e.onPause(),e.currentState=e.PAUSE_STATE}),this.player.on("ended",function(){e.onComplete(),e.currentState=e.END_STATE});var i=this;this.player.on("playererror",function(){i.googleAnalytics.firePlayerError("playerError",this,!1);try{var t,e;i.playerErrorCount=i.playerErrorCount+1,1==i.playerErrorCount?null!=v&&v.addPageAction("PLAYER_ERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc,vidPlayedTime:null==i||null===(t=i.player)||void 0===t?void 0:t.currentTimeSecs})):null!=v&&v.addPageAction("DUPLICATE_PLAYER_ERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc,vidPlayedTime:null==i||null===(e=i.player)||void 0===e?void 0:e.currentTimeSecs}))}catch(t){console.log(t),null!=v&&v.addPageAction("PLAYER_ERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc}))}}),this.player.on("errorAfterError",function(){var t;i.googleAnalytics.firePlayerError("errorAfterError",this,!1),null!=v&&v.addPageAction("PLAYER_ERRORAFTERERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc,vidPlayedTime:null==i||null===(t=i.player)||void 0===t?void 0:t.currentTimeSecs}))}),this.player.on("error",this.onError.bind(this));var a=this.onScroll.bind(this);window.addEventListener("scroll",a,!0),this.initWidgetImpressionTracker()}},{key:"onAdManagerReady",value:function(){var r=this;this.player.on("adstart",function(){r.currentAdState=r.PLAY_STATE,r.googleAnalytics.fireAdImpression(),r.googleAnalytics.fireAdEvent("AutoPlay",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback is started"))}),this.player.on("adpaused",function(){r.currentAdState=r.PAUSE_STATE,r.googleAnalytics.fireAdEvent("Pause",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback is paused"))}),this.player.on("adresume",function(){r.currentAdState=r.PLAY_STATE,r.googleAnalytics.fireAdEvent("Resume",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback is resume"))}),this.player.on("adcomplete",function(){r.currentAdState=r.END_STATE,r.googleAnalytics.fireAdEvent("Complete",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback is complete")),r.comscoreAnalytics.stopAD(),r.comscoreAnalytics.startVOD()}),this.player.on("adskip",function(){r.currentAdState=r.END_STATE,r.googleAnalytics.fireAdEvent("Skipped",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback is skipped")),r.comscoreAnalytics.stopAD(),r.comscoreAnalytics.startVOD()}),this.player.on("firstquartile",function(){var t=r.player.adDuration();r.currentAdState=r.PLAY_STATE;var e="Ad First Quartile, Total Time - ".concat(t,"s");r.googleAnalytics.fireAdEvent(e,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback first quartile completed"))}),this.player.on("midpoint",function(){var t=r.player.adDuration();r.currentAdState=r.PLAY_STATE;var e="Ad Midpoint, Total Time -  ".concat(t,"s");r.googleAnalytics.fireAdEvent(e,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback midpoint completed"))}),this.player.on("thirdquartile",function(){var t=r.player.adDuration();r.currentAdState=r.PLAY_STATE;var e="Ad Third Quartile, Total Time -  ".concat(t,"s");r.googleAnalytics.fireAdEvent(e,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(r.playerID,"][EVENT] Video Ad playback third quartile completed"))})}},{key:"onPlay",value:function(){this.currentState===this.END_STATE?(this.comscoreAnalytics.reset(),this.googleAnalytics.fireEvent("Play",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!"))):this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState===this.AUTOPLAY_STATE?h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")):this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):"shorts"===this.video.contentType&&1===this.autoplayFirstTime?(this.googleAnalytics.fireEvent("AutoPlay",!0),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video autoplay for shorts triggered!")),this.autoplayFirstTime=0):h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")),this.comscoreAnalytics.startVOD()}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.comscoreAnalytics.stopVOD(),this.bufferResume=0,h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),this.comscoreAnalytics.stopVOD(),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] Video playback error!")),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ").concat(t)),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}]),s}();e.exports=g},{"../utils/comscore.utils":18,"../utils/google-analytics.utils":20,"../utils/helpers.utils":21,"../utils/loader.utils":23,"../utils/log.utils":24,"../utils/newrelic.utils":25,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":7}],16:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),a=i(t("@babel/runtime/helpers/defineProperty")),c=i(t("@babel/runtime/helpers/classCallCheck")),n=i(t("@babel/runtime/helpers/createClass"));function o(e,t){var r,i=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)),i}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=t("../utils/log.utils"),d=t("../utils/helpers.utils"),p=t("../utils/google-analytics.utils"),h=t("../utils/comscore.utils"),s=function(){function s(t,e,r,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};(0,c.default)(this,s),this.target=t,this.video=e,this.platform=r,this.embedType=i,this.playerID=d.generatePlayerID("VIDEOJS"),this.AD_LOADING_STATE=-2,this.INITIALIZE_STATE=-1,this.READY_STATE=0,this.AUTOPLAY_STATE=1,this.PLAY_STATE=2,this.PAUSE_STATE=3,this.END_STATE=4,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousAdState=this.INITIALIZE_STATE,this.currentAdState=this.INITIALIZE_STATE,this.previousProgressTime=0,this.autoplayAd=1,this.autoplayFirstTime=1,this.bufferResume=1,this.playFirstTime=1,this.isInViewport="",this.isInViewportWidget="",this.isAdSupported=null!==this.video.ad_tag&&!window.PUBSTACK_VIDEO_STATE.adblocker,this.vastTag=null,this.isAdSupported&&(this.vastTag=this.video.ad_tag),this.startEvent="click",(window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/Android/i))&&(this.startEvent="touchend"),this.initializeConfig(a),this.initializePlayerConfig();var n={unique_id:this.video.id,player:"VIDEOJS",video_id:this.video.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent,videoEvent:this.video.videoEvent,district:this.video.district,deskVideo:this.video.deskVideo,videoIdentifier:this.video.videoIdentifier,taboola:this.video.taboola,dataTag:this.video.dataTag,articleType:this.video.articleType,authorType:this.video.authorType,agencyType:this.video.agencyType,articleDate:this.video.articleDate,pageUrl:this.video.pageUrl,videoTitle:this.video.videoTitle,ampFilter:this.video.ampFilter,domainName:this.video.domainName};this.googleAnalytics=new p.PlayerAnalytics(this.playerID,n);var o={unique_id:this.video.id,duration:this.video.duration,title:this.video.title};this.comscoreAnalytics=new h.PlayerComscoreAnalytics("VIDEOJS",this.playerID,o),this.cdnToken=this.video.token,this.init()}return(0,n.default)(s,[{key:"initializeConfig",value:function(t){var e={autoplay:!1,controls:!0,loop:!1,muted:!0,preload:"metadata",aspectRatio:"16:9",autoSetup:!1,fluid:!0,language:"en",nativeControlsForTouch:!0,fullscreen:{options:{navigationUI:"show"}},html5:{vhs:{overrideNative:!window.pubstackvideo.browser.IS_SAFARI,withCredentials:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},playbackRates:[.5,1,1.5,2],responsive:!0,sources:[],poster:[this.video.thumbnail_img],suppressNotSupportedError:!0,analytics:!0};this.config=l(l({},e),t)}},{key:"initializePlayerConfig",value:function(){var e=this;this.playerConfig={autoplay:!1};var r=["autoplay","preload","autoSetup","fluid","language","nativeControlsForTouch","fullscreen","html5","playbackRates","responsive","sources","suppressNotSupportedError","analytics","events"];Object.keys(this.config).forEach(function(t){-1===r.indexOf(t)&&(e.playerConfig[t]=e.config[t])})}},{key:"validateTarget",value:function(){if(!(this.target&&this.target instanceof HTMLDivElement))return{status:!1,message:"Target is null or target is not a valid Div element."};var t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),r=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name");return t||e||r?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}}},{key:"updatePlayerTarget",value:function(){var r=this;this.target.innerHTML="",this.videoTarget=document.createElement("video"),this.videoTarget.classList.add("pubstack-video-js"),this.videoTarget.classList.add("pubstack-video-theme"),this.videoTarget.playsInline=!0,this.videoTarget.controls=!0,this.videoTarget.id=this.playerID,this.video.sources.forEach(function(t){var e=document.createElement("source");e.src=t.src,e.type=t.type,r.videoTarget.appendChild(e)}),this.target.appendChild(this.videoTarget)}},{key:"loadVideoAD",value:function(){this.player.ima.initializeAdDisplayContainer(),this.player.ima.setContentWithAdTag(null,this.vastTag,!1),this.player.ima.requestAds(),this.currentAdState=this.READY_STATE}},{key:"initializeGoogleIMA",value:function(){var e=this;this.player.on("adserror",function(t){e.currentAdState=e.END_STATE,e.googleAnalytics.fireAdError("adError","aderror-".concat(t.data.AdErrorEvent.error.data.errorCode),!1)});var t={disableCustomPlaybackForIOS10Plus:!0,adWillPlayMuted:!0,adsManagerLoadedCallback:this.onAdManagerReady.bind(this)};(window.pubstackvideo.browser.IS_ANDROID||window.pubstackvideo.browser.IS_IOS)&&window.pubstackvideo.browser.IS_CHROME&&(t.adsRenderingSettings={mimeTypes:["video/mp4"]}),this.player.ima(t),(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&this.videoTarget.hasAttribute("controls")&&this.videoTarget.removeAttribute("controls");var r=document.querySelector("#".concat(this.playerID," .pubstack-vjs-big-play-button"));r.addEventListener(this.startEvent,function t(){e.currentAdState>=e.READY_STATE||e.loadVideoAD(),r.removeEventListener(e.startEvent,t)});this.videoTarget.addEventListener(this.startEvent,function t(){e.currentAdState>=e.READY_STATE||e.loadVideoAD(),e.videoTarget.removeEventListener(e.startEvent,t)});var i=document.querySelector("#".concat(this.playerID," .pubstack-vjs-poster"));i.addEventListener(this.startEvent,function t(){e.currentAdState>=e.READY_STATE||e.loadVideoAD(),i.removeEventListener(e.startEvent,t)})}},{key:"updatePlayer",value:function(){this.player=window.pubstackvideo(this.videoTarget,this.playerConfig,this.onReady.bind(this)),this.player.disablePictureInPicture=function(){return!1},this.isAdSupported&&this.initializeGoogleIMA()}},{key:"init",value:function(){var t=this.validateTarget();if(!t.status)throw new Error(t.message);this.updatePlayerTarget(),this.updatePlayer()}},{key:"checkDynamicViewport",value:function(t){var e=this,r=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(r),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){var t;"false"!==e.video.setautoplay&&1===e.autoplayAd&&(e.onScroll(),e.autoplayAd=0),e.currentState!==e.PAUSE_STATE&&e.currentState!==e.END_STATE&&(t=Math.round(e.player.currentTime()),e.previousProgressTime!==t&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%5==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1))},500)}},{key:"onScroll",value:function(){var t,e=this;this.cdnToken,0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewport=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom);function r(){e.isInViewport&&e.currentState!==e.PLAY_STATE&&(e.currentState=e.AUTOPLAY_STATE,e.player.play(),1===e.autoplayFirstTime&&1===e.bufferResume?(e.googleAnalytics.fireEvent("AutoPlay",!0),e.autoplayFirstTime=0):0===e.autoplayFirstTime&&0===e.bufferResume&&(e.googleAnalytics.fireEvent("Buffer Resume",!0),e.bufferResume=1)),e.isInViewport||e.currentState!==e.PLAY_STATE||e.player.pause()}return this.isAdSupported?this.isInViewport?this.currentAdState===this.INITIALIZE_STATE?(this.loadVideoAD(),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video AD is ready to play!")),r()):this.currentAdState===this.PAUSE_STATE?(this.player.ima.resumeAd(),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video Ad playback is resume"))):this.currentAdState!==this.END_STATE&&this.currentAdState!==this.READY_STATE||r():this.isInViewport||this.currentAdState!==this.PLAY_STATE?r():this.player.ima.pauseAd():r(),null}},{key:"initWidgetImpressionTracker",value:function(){var t,r=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget||window.addEventListener("scroll",function t(){var e;0<r.video.playerviewport.length?r.isInViewportWidget=r.checkDynamicViewport(r.video.playerid):(e=r.target.getBoundingClientRect(),r.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),r.isInViewportWidget&&window.removeEventListener("scroll",t)})}},{key:"onReady",value:function(){var t,e=this;u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.cdnToken,"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(t=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport&&(e.isInViewport=!0,e.initProgressObserver())},{threshold:this.video.playerviewport}).observe(t)):this.initProgressObserver()),this.currentState=this.READY_STATE,this.player.on("play",function(){e.onPlay(),e.currentState=e.PLAY_STATE}),this.player.on("pause",function(){e.onPause(),e.currentState=e.PAUSE_STATE}),this.player.on("ended",function(){e.onComplete(),e.currentState=e.END_STATE}),this.player.on("error",function(){e.googleAnalytics.firePlayerError("playerError",["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"][e.player.error().code],!1)}),this.player.on("error",this.onError.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this)),this.initWidgetImpressionTracker()}},{key:"onAdManagerReady",value:function(){var r=this;this.player.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){r.currentAdState=r.PLAY_STATE,r.googleAnalytics.fireAdImpression(),r.googleAnalytics.fireAdEvent("AutoPlay",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback is started"));try{var t=r.player.ima.controller.getCurrentAd().getDuration();u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad duration is ").concat(t)),r.comscoreAnalytics.stopVOD(),r.comscoreAnalytics.startAD(t)}catch(t){u.log(t)}}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.PAUSED,function(){r.currentAdState=r.PAUSE_STATE,r.googleAnalytics.fireAdEvent("Pause",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback is paused"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.RESUMED,function(){r.currentAdState=r.PLAY_STATE,r.googleAnalytics.fireAdEvent("Resume",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback is resume"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){r.currentAdState=r.END_STATE,r.googleAnalytics.fireAdEvent("Complete",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback is complete")),r.comscoreAnalytics.stopAD(),r.comscoreAnalytics.startVOD()}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,function(){r.currentAdState=r.END_STATE,r.googleAnalytics.fireAdEvent("Skipped",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback is skipped")),r.comscoreAnalytics.stopAD(),r.comscoreAnalytics.startVOD()}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.FIRST_QUARTILE,function(){var t=r.player.ima.controller.getCurrentAd().getDuration();r.currentAdState=r.PLAY_STATE;var e="Ad First Quartile, Total Time - ".concat(t,"s");r.googleAnalytics.fireAdEvent(e,!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback first quartile completed"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.MIDPOINT,function(){var t=r.player.ima.controller.getCurrentAd().getDuration();r.currentAdState=r.PLAY_STATE;var e="Ad Midpoint, Total Time -  ".concat(t,"s");r.googleAnalytics.fireAdEvent(e,!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback midpoint completed"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.THIRD_QUARTILE,function(){var t=r.player.ima.controller.getCurrentAd().getDuration();r.currentAdState=r.PLAY_STATE;var e="Ad Third Quartile, Total Time -  ".concat(t,"s");r.googleAnalytics.fireAdEvent(e,!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(r.playerID,"][EVENT] Video Ad playback third quartile completed"))})}},{key:"onPlay",value:function(){this.currentState===this.END_STATE?(this.comscoreAnalytics.reset(),this.googleAnalytics.fireEvent("Play",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is started!"))):this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState===this.AUTOPLAY_STATE?u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is started!")):this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),u.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):u.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")),this.comscoreAnalytics.startVOD()}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.comscoreAnalytics.stopVOD(),this.bufferResume=0,u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),this.comscoreAnalytics.stopVOD(),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] Video playback error!")),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] ").concat(t)),u.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}]),s}();e.exports=s},{"../utils/comscore.utils":18,"../utils/google-analytics.utils":20,"../utils/helpers.utils":21,"../utils/log.utils":24,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}],17:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),a=i(t("@babel/runtime/helpers/defineProperty")),c=i(t("@babel/runtime/helpers/classCallCheck")),n=i(t("@babel/runtime/helpers/createClass"));function o(e,t){var r,i=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)),i}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=t("../utils/log.utils"),d=t("../utils/helpers.utils"),p=t("../utils/google-analytics.utils"),s=function(){function s(t,e,r,i){var a,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};(0,c.default)(this,s),this.target=t,this.video=e,this.platform=r,this.embedType=i,this.playerID=d.generatePlayerID("YOUTUBE"),this.INITIALIZE_STATE=-1,this.READY_STATE=1,this.AUTOPLAY_STATE=2,this.PLAY_STATE=3,this.PAUSE_STATE=4,this.END_STATE=5,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousProgressTime=0,this.autoplayAd=1,this.autoplayFirstTime=1,this.bufferResume=1,this.playFirstTime=1,this.isInViewport="",this.isInViewportWidget="",this.initializeConfig(n),this.initializePlayerConfig();var o={unique_id:this.video.id,player:"YOUTUBE",video_id:null===(a=this.video.youtube)||void 0===a?void 0:a.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent,videoEvent:this.video.videoEvent,district:this.video.district,deskVideo:this.video.deskVideo,videoIdentifier:this.video.videoIdentifier,taboola:this.video.taboola,dataTag:this.video.dataTag,articleType:this.video.articleType,authorType:this.video.authorType,agencyType:this.video.agencyType,articleDate:this.video.articleDate,pageUrl:this.video.pageUrl,videoTitle:this.video.videoTitle,ampFilter:this.video.ampFilter,domainName:this.video.domainName};this.googleAnalytics=new p.PlayerAnalytics(this.playerID,o),this.init()}return(0,n.default)(s,[{key:"initializeConfig",value:function(t){this.config=l(l({},{analytics:!0,controls:{onScreen:!0,keyboard:!0},autoplay:!1,loop:!1,logo:!1,start:0,end:0,lang:{cc:"en",interface:"en"},quality:"auto",color:"red",aspect_ratio:1.77778}),t)}},{key:"initializePlayerConfig",value:function(){var e=this,r={},i={autoplay:0,enablejsapi:1,loop:0,rel:0,showinfo:0},t={onReady:this.onReady.bind(this),onStateChange:this.onStateChange.bind(this),onError:this.onError.bind(this)},a=["enablejsapi","loop","rel","showinfo","quality","analytics"];Object.keys(this.config).forEach(function(t){if(-1===a.indexOf(t))if("autoplay"!==t){if("logo"!==t)return"controls"===t?(i.disablekb=e.config.controls.keyboard?0:1,void(i.controls=e.config.controls.onScreen?1:0)):void("color"!==t?"player_theme"===t&&(r.primaryThemeColor=e.config.player_theme):i.color=e.config.color);i.modestbranding=e.config.logo?0:1}else i.mute=e.config.autoplay?1:0}),this.playerConfig={embedConfig:r,playerVars:i,events:t}}},{key:"validateTarget",value:function(){if(!(this.target&&this.target instanceof HTMLDivElement))return{status:!1,message:"Target is null or target is not a valid Div element."};var t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),r=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name");return t||e||r?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}}},{key:"updatePlayerTarget",value:function(){this.target.innerHTML="",this.innerTarget=document.createElement("div"),this.innerTarget.id=this.playerID,this.target.appendChild(this.innerTarget)}},{key:"init",value:function(){var t=this.validateTarget();if(!t.status)throw new Error(t.message);this.updatePlayerTarget(),this.player=new window.YT.Player(this.innerTarget,this.playerConfig)}},{key:"checkDynamicViewport",value:function(t){var e=this,r=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(r),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){var t;"false"!==e.video.setautoplay&&1===e.autoplayAd&&(e.onScroll(),e.autoplayAd=0),e.currentState!==e.PAUSE_STATE&&(t=Math.round(e.player.getCurrentTime()),e.previousProgressTime!==t&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%30==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1))},500)}},{key:"onScroll",value:function(){var t;0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewport=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewport&&this.currentState!==this.PLAY_STATE&&this.currentState!==this.AUTOPLAY_STATE&&(this.currentState=this.AUTOPLAY_STATE,this.player.mute(),this.player.playVideo(),1===this.autoplayFirstTime&&1===this.bufferResume?(this.googleAnalytics.fireEvent("AutoPlay",!0),this.autoplayFirstTime=0):0===this.autoplayFirstTime&&0===this.bufferResume&&(this.googleAnalytics.fireEvent("Buffer Resume",!0),this.bufferResume=1)),this.isInViewport||this.currentState!==this.PLAY_STATE&&this.currentState!==this.AUTOPLAY_STATE||this.player.pauseVideo()}},{key:"initWidgetImpressionTracker",value:function(){var t,r=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget?this.googleAnalytics.fireImpression():window.addEventListener("scroll",function t(){var e;0<r.video.playerviewport.length?r.isInViewportWidget=r.checkDynamicViewport(r.video.playerid):(e=r.target.getBoundingClientRect(),r.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),r.isInViewportWidget&&(r.googleAnalytics.fireImpression(),window.removeEventListener("scroll",t))})}},{key:"onReady",value:function(){var t,e,r,i,a=this;u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.player.loadVideoById({videoId:null===(t=this.video.youtube)||void 0===t?void 0:t.id}),this.target.firstElementChild&&"IFRAME"===this.target.firstElementChild.nodeName&&(e="".concat(parseInt(getComputedStyle(this.target).width,10),"px"),r="".concat(parseInt(getComputedStyle(this.target).width,10)/this.config.aspect_ratio,"px"),this.target.firstElementChild.width=e,this.target.firstElementChild.height=r,this.target.firstElementChild.style.minWidth=e,this.target.firstElementChild.style.minHeight=r),"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(i=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=a.video.playerviewport&&(a.isInViewport=!0,a.onScroll())},{threshold:this.video.playerviewport}).observe(i)):this.onScroll()),this.initProgressObserver(),window.addEventListener("scroll",this.onScroll.bind(this)),this.initWidgetImpressionTracker()}},{key:"onStateChange",value:function(t){t.data===window.YT.PlayerState.ENDED?(this.onComplete(),this.currentState=this.END_STATE):t.data===window.YT.PlayerState.PLAYING?(this.onPlay(),this.currentState=this.PLAY_STATE):t.data===window.YT.PlayerState.PAUSED&&(this.onPause(),this.currentState=this.PAUSE_STATE)}},{key:"onPlay",value:function(){this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState===this.AUTOPLAY_STATE?u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback is started!")):this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),u.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):u.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!"))}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.bufferResume=0,u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] Video playback error!")),u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] ").concat(t)),u.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}]),s}();e.exports=s},{"../utils/google-analytics.utils":20,"../utils/helpers.utils":21,"../utils/log.utils":24,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}],18:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),a=i(t("@babel/runtime/helpers/classCallCheck")),n=i(t("@babel/runtime/helpers/createClass")),o=t("../config/globals"),s=t("./log.utils"),c=function(){function i(t,e,r){(0,a.default)(this,i),this.player=t,this.playerID=e,this.metadata=r,this.init()}return(0,n.default)(i,[{key:"init",value:function(){this.comscoreMetadata={ns_st_ci:this.metadata.unique_id,ns_st_cl:1e3*this.metadata.duration,ns_st_pu:"Network18",ns_st_pr:o.website.title,ns_st_ep:this.metadata.title,ns_st_ge:"News",ns_st_st:"Network18",c3:o.website.c3,c4:"*null",c6:"*null",ns_st_en:"*null",ns_st_sn:"*null",ns_st_ce:"0",ns_st_ia:"*null",ns_st_ddt:"*null",ns_st_tdt:"*null"},this.initializeComscoreInstance(),this.streamingAnalytics&&(10<=this.metadata.duration?this.contentType=window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.LongFormOnDemand:this.contentType=window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand)}},{key:"reset",value:function(){this.initializeComscoreInstance()}},{key:"initializeComscoreInstance",value:function(){var t;window.ns_?(t={publisherId:o.publisher_id},this.streamingAnalytics=new window.ns_.ReducedRequirementsStreamingAnalytics(t),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] ComScore streaming analytics instance created successfully!"))):this.streamingAnalytics=null}},{key:"startVOD",value:function(){null!=this.streamingAnalytics&&(this.streamingAnalytics.playVideoContentPart(this.comscoreMetadata,this.contentType),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing play beacon for VOD!")))}},{key:"stopVOD",value:function(){null!=this.streamingAnalytics&&(this.streamingAnalytics.stop(),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing stop beacon for VOD!")))}},{key:"startAD",value:function(t){null!=this.streamingAnalytics&&(this.streamingAnalytics.playVideoAdvertisement({ns_st_cl:1e3*t}),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing start beacon for Video AD!")))}},{key:"stopAD",value:function(){null!=this.streamingAnalytics&&(this.streamingAnalytics.stop(),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing stop beacon for Video AD!")))}}]),i}();e.exports={PlayerComscoreAnalytics:c}},{"../config/globals":13,"./log.utils":24,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":5}],19:[function(t,e,r){"use strict";var i=t("lodash.foreach"),N=t("./helpers.utils");e.exports={fetchFallbackTargets:function(){var t=document.querySelectorAll("[data-youtube=true]");if(0===t.length)return[];var Y=[];return i(t,function(t){var e,r,i,a,n,o,s,c,l,u,d,p,h,y,f,v,g,m,A,b,E,T,_,S,w,I,P,D,O,V,R,k,C,L,U,j;t.getAttribute("data-pubstack-state")||(t.innerHTML="",t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","fallback"),(e=t.getAttribute("data-youtube-id"))&&(r=t.getAttribute("data-property-platform"),r=N.getPlayerPlatform(r),i="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",a=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",n=t.getAttribute("data-property-keywords")||"",o=t.getAttribute("data-city-name")||"",s=t.getAttribute("data-state-name")||"",c=t.getAttribute("data-district-name")||"",l=t.getAttribute("data-language")||"",u=t.getAttribute("data-video-type")||"",d=t.getAttribute("data-article-id")||"",p=t.getAttribute("data-section-name")||"",h=t.getAttribute("data-video-event")||"",y=t.getAttribute("id")||"",f=t.getAttribute("data-player-viewport")||"",v=t.getAttribute("data-autoplay")||"",g=t.getAttribute("data-video-slot")||"",m=t.getAttribute("data-disable-controls")||"",A=t.getAttribute("data-video-amp-event")||"",b=t.getAttribute("data-video-pip")||"",E=t.getAttribute("data-is-ad-disable")||"",T=t.getAttribute("data-placeholder-image")||"",_=t.getAttribute("data-content-type")||"",S=t.getAttribute("data-desk-video")||"",w=t.getAttribute("data-video-identifier")||"",I=t.getAttribute("data-taboola")||"",P=t.getAttribute("data-tag")||"",D=t.getAttribute("data-article-type")||"",O=t.getAttribute("data-author-type")||"",V=t.getAttribute("data-agency-type")||"",R=t.getAttribute("data-article-date")||"",k=t.getAttribute("data-amp-filter")||"",C=t.getAttribute("data-page-url")||"",L=t.getAttribute("data-domain-name")||"",U=t.getAttribute("data-video-title")||"",j={id:e,category:a,platform:r,target:t,embed_type:i,keywords:n.split(","),city:o,state:s,district:c,language:l,videotype:u,articleid:d,sectionname:p,videoevent:h,playerid:y,playerviewport:f,setautoplay:v,videoslot:g,disablecontrols:m,ampEvent:A,pipVal:b,isAdDisable:E,placeholderImg:T,contentType:_,deskVideo:S,videoIdentifier:w,taboola:I,dataTag:P,articleType:D,authorType:O,agencyType:V,articleDate:R,pageUrl:C,domainName:L,videoTitle:U,ampFilter:k},Y.push(j)))}),Y},fetchV1Targets:function(){if(0!==document.querySelectorAll("[data-pubstack-player=true][data-pubstack-player-name=vidgyor][data-pubstack-config=video-embed]").length)return[];var t=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");if(0===t.length)return[];var Y=[];return i(t,function(t){var e,r,i,a,n,o,s,c,l,u,d,p,h,y,f,v,g,m,A,b,E,T,_,S,w,I,P,D,O,V,R,k,C,L,U,j;t.getAttribute("data-pubstack-state")||(t.innerHTML="",t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","v1"),(e=t.getAttribute("data-pubstack-guid"))&&(r=t.getAttribute("data-property-platform"),r=N.getPlayerPlatform(r),i="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",a=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",n=t.getAttribute("data-property-keywords")||"",o=t.getAttribute("data-city-name")||"",s=t.getAttribute("data-state-name")||"",c=t.getAttribute("data-district-name")||"",l=t.getAttribute("data-language")||"",u=t.getAttribute("data-video-type")||"",d=t.getAttribute("data-article-id")||"",p=t.getAttribute("data-section-name")||"",h=t.getAttribute("data-video-event")||"",y=t.getAttribute("id")||"",f=t.getAttribute("data-player-viewport")||"",v=t.getAttribute("data-autoplay")||"",g=t.getAttribute("data-video-slot")||"",m=t.getAttribute("data-disable-controls")||"",A=t.getAttribute("data-video-amp-event")||"",b=t.getAttribute("data-video-pip")||"",E=t.getAttribute("data-is-ad-disable")||"",T=t.getAttribute("data-placeholder-image")||"",_=t.getAttribute("data-content-type")||"",S=t.getAttribute("data-desk-video")||"",w=t.getAttribute("data-video-identifier")||"",I=t.getAttribute("data-taboola")||"",P=t.getAttribute("data-tag")||"",D=t.getAttribute("data-article-type")||"",O=t.getAttribute("data-author-type")||"",V=t.getAttribute("data-agency-type")||"",R=t.getAttribute("data-article-date")||"",k=t.getAttribute("data-page-url")||"",C=t.getAttribute("data-video-title")||"",L=t.getAttribute("data-domain-name")||"",U=t.getAttribute("data-amp-filter")||"",j={id:e,category:a,platform:r,target:t,embed_type:i,keywords:n.split(","),city:o,state:s,district:c,language:l,videotype:u,articleid:d,sectionname:p,videoevent:h,playerid:y,playerviewport:f,setautoplay:v,videoslot:g,disablecontrols:m,ampEvent:A,pipVal:b,isAdDisable:E,placeholderImg:T,contentType:_,deskVideo:S,videoIdentifier:w,taboola:I,dataTag:P,articleType:D,authorType:O,agencyType:V,articleDate:R,pageUrl:k,domainName:L,videoTitle:C,ampFilter:U},Y.push(j)))}),Y},fetchVidgyorTargets:function(){var t=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");if(0===t.length)return[];var Y=[];return i(t,function(t){var e,r,i,a,n,o,s,c,l,u,d,p,h,y,f,v,g,m,A,b,E,T,_,S,w,I,P,D,O,V,R,k,C,L,U,j;t.getAttribute("data-pubstack-state")||(t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","v1"),(e=t.getAttribute("data-pubstack-guid"))&&(r=t.getAttribute("data-property-platform"),r=N.getPlayerPlatform(r),i="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",a=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",n=t.getAttribute("data-property-keywords")||"",o=t.getAttribute("data-city-name")||"",s=t.getAttribute("data-state-name")||"",c=t.getAttribute("data-district-name")||"",l=t.getAttribute("data-language")||"",u=t.getAttribute("data-video-type")||"",d=t.getAttribute("data-article-id")||"",p=t.getAttribute("data-section-name")||"",h=t.getAttribute("data-video-event")||"",y=t.getAttribute("id")||"",f=t.getAttribute("data-player-viewport")||"",v=t.getAttribute("data-autoplay")||"",g=t.getAttribute("data-video-slot")||"",m=t.getAttribute("data-disable-controls")||"",A=t.getAttribute("data-video-amp-event")||"",b=t.getAttribute("data-video-pip")||"",E=t.getAttribute("data-is-ad-disable")||"",T=t.getAttribute("data-placeholder-image")||"",_=t.getAttribute("data-content-type")||"",S=t.getAttribute("data-desk-video")||"",w=t.getAttribute("data-video-identifier")||"",I=t.getAttribute("data-taboola")||"",P=t.getAttribute("data-tag")||"",D=t.getAttribute("data-article-type")||"",O=t.getAttribute("data-author-type")||"",V=t.getAttribute("data-agency-type")||"",R=t.getAttribute("data-article-date")||"",k=t.getAttribute("data-page-url")||"",C=t.getAttribute("data-video-title")||"",L=t.getAttribute("data-domain-name")||"",U=t.getAttribute("data-amp-filter")||"",j={id:e,category:a,platform:r,target:t,embed_type:i,keywords:n.split(","),city:o,state:s,district:c,language:l,videotype:u,articleid:d,sectionname:p,videoevent:h,playerid:y,playerviewport:f,setautoplay:v,videoslot:g,disablecontrols:m,ampEvent:A,pipVal:b,isAdDisable:E,placeholderImg:T,contentType:_,deskVideo:S,videoIdentifier:w,taboola:I,dataTag:P,articleType:D,authorType:O,agencyType:V,articleDate:R,pageUrl:k,domainName:L,videoTitle:C,ampFilter:U},Y.push(j)))}),Y}}},{"./helpers.utils":21,"lodash.foreach":9}],20:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault"),_=i(t("@babel/runtime/helpers/typeof")),a=i(t("@babel/runtime/helpers/classCallCheck")),n=i(t("@babel/runtime/helpers/createClass")),S=t("./log.utils"),o=function(){function i(t,e){(0,a.default)(this,i),this.playerID=t,this.metadata=e,this.Pip="",this.published="",this.publishTime="",this.publishDate="",this.playerString="",this.videoslot="",this.videoevent="";var r=this;setInterval(function(){!0===window.pip_status?r.Pip="_PIP":r.Pip=""},100),"YOUTUBE"===this.metadata.player?(this.playerString="YouTube Player",S.log(this.playerString)):"VIDEOJS"===this.metadata.player?(this.playerString="VideoJS Player",S.log(this.playerString)):"VIDGYORJS"===this.metadata.player&&(this.playerString="Vidgyor Player",S.log(this.playerString)),this.metadata.videoslot&&void 0!==this.metadata.videoslot&&(this.videoslot="Slot ".concat(this.metadata.videoslot,", ")),this.metadata.articleDate&&void 0!==this.metadata.articleDate&&(this.published=this.metadata.articleDate.split(" "),this.publishDate=void 0!==this.published[0]?this.published[0]:"",this.publishTime=void 0!==this.published[1]?this.published[1]:""),this.vodEngagementLabel="".concat(this.videoslot).concat(this.metadata.title,", ").concat(this.metadata.video_id,", ").concat(this.metadata.category,", ").concat(this.metadata.articleid,", ").concat(this.metadata.videotype,", ").concat(this.metadata.ampEvent),this.widgetImpressionLabel="".concat(this.videoslot).concat(this.metadata.title,", ").concat(this.metadata.video_id,", ").concat(this.metadata.category,", ").concat(this.metadata.articleid,", ").concat(this.metadata.videotype,", ").concat(this.metadata.ampEvent),this.init()}return(0,n.default)(i,[{key:"init",value:function(){var t=this.getTracker();this.tracker=t.tracker,this.trackerName=t.name}},{key:"getTracker",value:function(){if(this.tracker&&this.trackerName)return{tracker:this.tracker,name:this.trackerName};var t=null;if(Object.prototype.hasOwnProperty.apply(window,["ga"])&&window.ga.getAll&&"function"==typeof window.ga.getAll&&(t=window.ga.getAll()),!t||0===t.length)return{tracker:null,name:null};var e=t[0],r=e.get("name");return t.forEach(function(t){"UA-156703-1"===t.get("trackingId")&&(r=(e=t).get("name"))}),{tracker:e,name:r}}},{key:"dataLayerPush",value:function(t,e,r,i,a,n,o,s,c,l,u,d,p,h,y,f,v,g,m,A,b,E,T){void 0!==("undefined"==typeof gtag?"undefined":(0,_.default)(gtag))&&"undefined"!=typeof gtag&&(gtag("event",t,{event:"custom_dimensions",video_action:e,section:r,sub_section:i,article_id:a,pub_date:n,pub_time:o,article_type:s,tag:c,local18_district:l,taboola:u,player_identifier:d,video_identifier:p,author_type:h,local18_video_identifier:y,video_slot:f.replace(", ",""),video_category:v,video_id:g,page_url:m,domain_name:A,desk_video:b,video_title:E,video_amp_filter:T}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA4-EVENT] Video event fired for action - ").concat(e)))}},{key:"fireImpression",value:function(){"Feature_Article_JSPlayer"!==this.metadata.videoevent&&("YOUTUBE"===this.metadata.player?this.videoevent="Video_Impression_".concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="Video_Impression_".concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="Video_Impression_".concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video widget impression event fired!"))),this.dataLayerPush(this.videoevent,"Impression",this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter))}},{key:"fireAdImpression",value:function(){"YOUTUBE"===this.metadata.player?this.videoevent="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video AD impression event fired!"))),this.dataLayerPush(this.videoevent,"Impression",this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter)}},{key:"fireEvent",value:function(t,e){"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,this.vodEngagementLabel,{nonInteraction:e}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),this.dataLayerPush(this.videoevent,t,this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter)}},{key:"fireAdEvent",value:function(t,e){"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,this.vodEngagementLabel,{nonInteraction:e}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] YT Video event fired for action - ").concat(t))),this.dataLayerPush(this.videoevent,t,this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter)}},{key:"firePlayerError",value:function(t,e,r){var i=this&&this.metadata&&this.metadata.ampEvent?"-".concat(this.metadata.ampEvent):"";"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,"".concat(e).concat(i),{nonInteraction:r}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),void 0!==("undefined"==typeof gtag?"undefined":(0,_.default)(gtag))&&"undefined"!=typeof gtag||gtag("event",this.videoevent,{event:"custom_dimensions",video_action:t,error:"".concat(e).concat(i)})}},{key:"fireAdError",value:function(t,e,r){var i=this&&this.metadata&&this.metadata.ampEvent?"-".concat(this.metadata.ampEvent):"";"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,"".concat(e).concat(i),{nonInteraction:r}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),void 0!==("undefined"==typeof gtag?"undefined":(0,_.default)(gtag))&&"undefined"!=typeof gtag||gtag("event",this.videoevent,{event:"custom_dimensions",video_action:t,error:"".concat(e).concat(i)})}}]),i}();e.exports={PlayerAnalytics:o}},{"./log.utils":24,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/helpers/typeof":6}],21:[function(t,e,r){"use strict";function y(t){return t[t.length*Math.random()||0]}var u=t("lodash.map"),i=t("./log.utils"),a=t("./newrelic.utils");e.exports={setupWebPlayer:function(){var t,e,r;window.pubstackJSLoaded=!0,window.PUBSTACK_PLAYERS||(window.PUBSTACK_PLAYERS=[]),Object.prototype.hasOwnProperty.apply(window,["PUBSTACK_VIDEO_STATE"])||(t=document.createElement("div"),e=document.createElement("div"),t.style.position="absolute",t.style.top="0",t.style.left="0",e.classList.add("adBanner"),e.style.width="1px",e.style.height="1px",e.style.background="transparent",t.appendChild(e),document.querySelector("body").appendChild(t),r=0===parseInt(getComputedStyle(t).height,10),t.remove(),window.PUBSTACK_VIDEO_STATE={adblocker:r,youtube:{sources:!1,api:!1},videojs:{js:{sources:!1,api:!1},css:{sources:!1,styles:!1}},vidgyorjs:{sources:!1,api:!1},comscore:{sources:!1,api:!1},debug:"1"===localStorage.getItem("NW18_PUBSTACK_PLAYER_DEBUG"),processing_queue:[],processing_state:0},window.onYouTubeIframeAPIReady=function(){window.PUBSTACK_VIDEO_STATE.youtube.api=!0})},pushToProcessingQueue:function(t){var e;t&&t instanceof Promise&&(e={timestamp:Date.now(),promise:t},window.PUBSTACK_VIDEO_STATE.processing_queue.push(e),0===window.PUBSTACK_VIDEO_STATE.processing_state&&function e(){0!==window.PUBSTACK_VIDEO_STATE.processing_queue.length?(window.PUBSTACK_VIDEO_STATE.processing_state=1,Promise.resolve().then(function(){return i.log("[PUBSTACK-PLAYER][LOG] Processing request for timestamp: ".concat(window.PUBSTACK_VIDEO_STATE.processing_queue[0].timestamp,"!")),window.PUBSTACK_VIDEO_STATE.processing_queue[0].promise}).then(function(t){i.log("[PUBSTACK-PLAYER][LOG] Process request for timestamp: ".concat(window.PUBSTACK_VIDEO_STATE.processing_queue[0].timestamp," completed!")),i.log("[PUBSTACK-PLAYER][LOG] Process response: ".concat(t.message,"!")),window.PUBSTACK_VIDEO_STATE.processing_queue.shift(),0===window.PUBSTACK_VIDEO_STATE.processing_queue.length?window.PUBSTACK_VIDEO_STATE.processing_state=0:e()}).catch(function(t){i.log("[PUBSTACK-PLAYER][LOG] Error processing player request!"),i.log("[PUBSTACK-PLAYER][LOG] ----------------------- ERROR - START ------------------------"),i.log("[PUBSTACK-PLAYER][LOG] ".concat(t)),i.log("[PUBSTACK-PLAYER][LOG] ----------------------- ERROR - END ------------------------"),null!=a&&a.addPageAction("DATA_ERROR",{errMessage:"Error processing player request: "+t.message,errType:"QUEUE_ERROR"})})):window.PUBSTACK_VIDEO_STATE.processing_state=0}())},getAlsoWatchVideo:function(t,r){var e=localStorage.getItem("PUBSTACK_VIDEO_DISPLAY_TYPE");if(!e||e!==t){var i=y(r);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",i.metadata._id),localStorage.setItem("PUBSTACK_VIDEO_DISPLAY_TYPE",t),i}var a,n=localStorage.getItem("PUBSTACK_VIDEO_SET_TIMESTAMP");if(!n||(a=n,"Invalid Date"==="".concat(new Date(a))||Number.isNaN(new Date(a).getTime()))){var o=y(r);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",o.metadata._id),o}if((new Date).getDate()!==new Date(n).getDate()){var s=y(r);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",s.metadata._id),s}var c=localStorage.getItem("PUBSTACK_VIDEOS_WATCHED");if(!c){var l=y(r);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",l.metadata._id),l}var u=c.split(","),d=0,p=function t(){if(d>r.length)return null;var e=y(r);return-1===u.indexOf(e.metadata._id)?e:(d+=1,t())}();if(p)return localStorage.setItem("PUBSTACK_VIDEOS_WATCHED","".concat(c,",").concat(p.metadata._id)),p;var h=y(r);return localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",h.metadata._id),h},generatePlayerID:function(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length,a=0;a<32;a+=1)e+=r.charAt(Math.floor(Math.random()*i));return"".concat(t,"-").concat(e)},getGATracker:function(){if(!Object.prototype.hasOwnProperty.apply(window,["ga"]))return null;if(!window.ga.getAll||"function"!=typeof window.ga.getAll)return null;var t=window.ga.getAll();if(!t||0===t.length)return null;var e=t[0],r=e.get("name");return t.forEach(function(t){"UA-156703-1"===t.get("trackingId")&&(r=(e=t).get("name"))}),{tracker:e,name:r}},getPageScrollOffset:function(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop||document.body.scrollTop||0},generateVASTTag:function(e,t,r,i){var a=3<arguments.length&&void 0!==i?i:[];try{var n=new URL(e),o="".concat(n.protocol,"//").concat(n.hostname).concat(n.pathname,"?");if(/ad_rule_samples/i.test(n.searchParams.get("iu")))return e;var s=n.searchParams.get("iu"),o="".concat(o,"iu=").concat(s);o="".concat(o,"&description_url=").concat(encodeURIComponent("[placeholder]")),o="".concat(o,"&tfcd=0"),o="".concat(o,"&npa=0"),o="".concat(o,"&sz=").concat(encodeURIComponent("640x480")),o="".concat(o,"&cust_params=").concat(encodeURIComponent("Content_Type=video,videoplayer")),o="".concat(o,"&DFP=okay");var c=u(a,function(t){return t.toLowerCase()}).join(",");o="".concat(o,"&meta_keywords=").concat(encodeURIComponent(c)),o="".concat(o,"&page_url=").concat(encodeURIComponent(window.location.origin)),o="".concat(o,"&section_name=").concat(r);var l=t.split(" ").join(",");return o="".concat(o,"&title_name=").concat(encodeURIComponent(l.replace("#","&"))),o="".concat(o,"&gdfp_req=1"),o="".concat(o,"&output=vast"),o="".concat(o,"&unviewed_position_start=1"),o="".concat(o,"&env=vp"),o="".concat(o,"&impl=s"),o="".concat(o,"&correlator=")}catch(t){return console.log(t),e}},getPlayerPlatform:function(t){return"desktop"===t?"Desktop Web":"pwa"===t?"Mobile Web":"amp"===t?"AMP":"ia"===t?"FBIA":"android"===t?"Android":"ios"===t?"IOS":"Desktop Web"}}},{"./log.utils":24,"./newrelic.utils":25,"lodash.map":10}],22:[function(t,e,r){"use strict";var A=t("../config/globals");e.exports={getVideoEmbedMetadata:function(t,e,r,i,a,n,o,s,c,l,u,d,p,h){var y="production"===A.env?"https://pubstack.nw18.com/pubsync/v1/api":"staging"===A.env?"https://pubsync.nw18.com/pubsync/v1/api":"local-dev"===A.env?"http://localhost:3000/pubsync/v1/api":null;if(null===y){var f=new Error;throw f.name="INVALID_PUBSTACK_VIDEO_ENV",f.message="Invalid value is set for pubstack video env! Valid values are 'production' & 'staging', value set: ".concat(A.env),f}var v=JSON.stringify(e),g="".concat(y,"/videos/embed?ids=").concat(encodeURIComponent(t.join(",")),"&website=").concat(A.website.id,"&keywords=").concat(encodeURIComponent(v),"&city_name=").concat(encodeURIComponent(r),"&state_name=").concat(encodeURIComponent(i),"&district_name=").concat(encodeURIComponent(a),"&language=").concat(encodeURIComponent(n),"&video_type=").concat(encodeURIComponent(o),"&article_id=").concat(encodeURIComponent(s),"&section_name=").concat(encodeURIComponent(c),"&isIos=").concat(encodeURIComponent(l),"&description_url=").concat(encodeURIComponent(u),"&site_name=").concat(encodeURIComponent(d),"&isAdDisable=").concat(encodeURIComponent(p),"&is_amp=").concat(encodeURIComponent(h)),m=new Headers;return m.append("Content-Type","application/json"),m.append("Authorization","Bearer ".concat(A.access_token)),fetch(g,{headers:m}).then(function(t){return t.json()})}}},{"../config/globals":13}],23:[function(t,e,r){"use strict";function i(a,t){var n=!(1<arguments.length&&void 0!==t)||t;return new Promise(function(e,r){var t=document.getElementsByTagName("HEAD")[0],i=document.createElement("script");i.src=a,i.onload=function(){return e()},i.onerror=function(t){return n?r(t):(l.log(t),e())},t.appendChild(i)})}function a(a){return new Promise(function(t,e){var r=document.getElementsByTagName("HEAD")[0],i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=a,i.onload=function(){return t()},i.onerror=function(t){return e(t)},r.appendChild(i)})}function n(){return new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.youtube.api&&(clearInterval(e),t())},200)})}var o=t("@babel/runtime/helpers/interopRequireDefault"),s=o(t("@babel/runtime/regenerator")),c=o(t("@babel/runtime/helpers/asyncToGenerator")),l=t("./log.utils"),u=function(){var t=(0,c.default)(s.default.mark(function t(){var e;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.youtube.sources&&window.PUBSTACK_VIDEO_STATE.youtube.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.youtube.sources)return t.next=5,n();t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.youtube.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/youtube.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,i(e);case 10:return t.next=12,n();case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,c.default)(s.default.mark(function t(){var e;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.comscore.sources&&window.PUBSTACK_VIDEO_STATE.comscore.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.comscore.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.comscore.api&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.comscore.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/comscore.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,i(e);case 10:window.PUBSTACK_VIDEO_STATE.comscore.api=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,c.default)(s.default.mark(function t(){var e;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.videojs.js.sources&&window.PUBSTACK_VIDEO_STATE.videojs.js.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.videojs.js.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.videojs.js.api&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.videojs.js.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/videojs.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,i(e);case 10:window.PUBSTACK_VIDEO_STATE.videojs.js.api=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,c.default)(s.default.mark(function t(){var e;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.vidgyorjs.sources)return t.abrupt("return");t.next=2;break;case 2:return window.PUBSTACK_VIDEO_STATE.vidgyorjs.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/vidgyorjs.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=6,i(e);case 6:!function(t,e){var r=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");if(0===r.length){var i=document.querySelector("[data-youtube=true]");i.setAttribute(t,e),i.setAttribute("class","vgrPlayerContainer")}else for(var a="",a=0;a<r.length;a+=1)r[a].setAttribute(t,e),r[a].setAttribute("class","vgrPlayerContainer")}("data-pubstack-player-name","vidgyor");case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),y=function(){var t=(0,c.default)(s.default.mark(function t(){var e;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.videojs.css.sources&&window.PUBSTACK_VIDEO_STATE.videojs.css.styles)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.videojs.css.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.videojs.css.styles&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.videojs.css.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"/css/videojs.min.css?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,a(e);case 10:window.PUBSTACK_VIDEO_STATE.videojs.css.styles=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e.exports={loadCSS:a,loadJavascript:i,loadYouTubeSources:u,loadComscore:d,loadVideoJSLibrary:p,loadVideoJSStylesheet:y,loadVidgyorJSLibrary:h}},{"./log.utils":24,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":7}],24:[function(t,e,r){"use strict";e.exports={log:function(t){window.PUBSTACK_VIDEO_STATE&&window.PUBSTACK_VIDEO_STATE.debug&&console.log(t)}}},{}],25:[function(t,e,r){"use strict";var i=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/defineProperty"));function a(e,t){var r,i=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)),i}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){(0,i.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.exports={addPageAction:function(t,e){try{var r,i,a=n(n({},e),{},{vidOnline:navigator.onLine});null!==(r=window)&&void 0!==r&&(null!==(i=r.newrelic)&&void 0!==i&&i.addPageAction)&&newrelic.addPageAction(t,a)}catch(t){newrelic.addPageAction("NW18_ERROR",n({errData:t,errMsg:t.message},e))}}}},{"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}]},{},[14]);