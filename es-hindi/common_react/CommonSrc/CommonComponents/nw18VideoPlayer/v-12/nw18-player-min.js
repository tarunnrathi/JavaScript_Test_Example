!function r(a,n,o){function s(e,t){if(!n[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}i=n[e]={exports:{}},a[e][0].call(i.exports,function(t){return s(a[e][1][t]||t)},i,i.exports,r,a,n,o)}return n[e].exports}for(var l="function"==typeof require&&require,t=0;t<o.length;t++)s(o[t]);return s}({1:[function(t,e,i){function l(t,e,i,r,a,n,o){try{var s=t[n](o),l=s.value}catch(t){return i(t)}s.done?e(l):Promise.resolve(l).then(r,a)}e.exports=function(s){return function(){var t=this,o=arguments;return new Promise(function(e,i){var r=s.apply(t,o);function a(t){l(r,e,i,a,n,"next",t)}function n(t){l(r,e,i,a,n,"throw",t)}a(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],2:[function(t,e,i){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},{}],3:[function(t,e,i){var a=t("./toPropertyKey.js");function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}e.exports=function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},e.exports.__esModule=!0,e.exports.default=e.exports},{"./toPropertyKey.js":8}],4:[function(t,e,i){var r=t("./toPropertyKey.js");e.exports=function(t,e,i){return(e=r(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},e.exports.__esModule=!0,e.exports.default=e.exports},{"./toPropertyKey.js":8}],5:[function(t,e,i){e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.__esModule=!0,e.exports.default=e.exports},{}],6:[function(t,D,e){var O=t("./typeof.js").default;function i(){D.exports=function(){return o},D.exports.__esModule=!0,D.exports.default=D.exports;var l,o={},t=Object.prototype,c=t.hasOwnProperty,u=Object.defineProperty||function(t,e,i){t[e]=i.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",i=e.asyncIterator||"@@asyncIterator",a=e.toStringTag||"@@toStringTag";function n(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{n({},"")}catch(l){n=function(t,e,i){return t[e]=i}}function s(t,e,i,r){var a,n,o,s,e=e&&e.prototype instanceof g?e:g,e=Object.create(e.prototype),r=new I(r||[]);return u(e,"_invoke",{value:(a=t,n=i,o=r,s=p,function(t,e){if(s===y)throw Error("Generator is already running");if(s===f){if("throw"===t)throw e;return{value:l,done:!0}}for(o.method=t,o.arg=e;;){var i=o.delegate;if(i){i=function t(e,i){var r=i.method,a=e.iterator[r];if(a===l)return i.delegate=null,"throw"===r&&e.iterator.return&&(i.method="return",i.arg=l,t(e,i),"throw"===i.method)||"return"!==r&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;r=d(a,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,v;a=r.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=l),i.delegate=null,v):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,v)}(i,o);if(i){if(i===v)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===p)throw s=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=y;i=d(a,n,o);if("normal"===i.type){if(s=o.done?f:h,i.arg===v)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(s=f,o.method="throw",o.arg=i.arg)}})}),e}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}o.wrap=s;var p="suspendedStart",h="suspendedYield",y="executing",f="completed",v={};function g(){}function m(){}function A(){}var e={},b=(n(e,r,function(){return this}),Object.getPrototypeOf),b=b&&b(b(P([]))),E=(b&&b!==t&&c.call(b,r)&&(e=b),A.prototype=g.prototype=Object.create(e));function _(t){["next","throw","return"].forEach(function(e){n(t,e,function(t){return this._invoke(e,t)})})}function T(o,s){var e;u(this,"_invoke",{value:function(i,r){function t(){return new s(function(t,e){!function e(t,i,r,a){var n,t=d(o[t],o,i);if("throw"!==t.type)return(i=(n=t.arg).value)&&"object"==O(i)&&c.call(i,"__await")?s.resolve(i.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):s.resolve(i).then(function(t){n.value=t,r(n)},function(t){return e("throw",t,r,a)});a(t.arg)}(i,r,t,e)})}return e=e?e.then(t,t):t()}})}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var i,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return i=-1,(t=function t(){for(;++i<e.length;)if(c.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=l,t.done=!0,t}).next=t}throw new TypeError(O(e)+" is not iterable")}return u(E,"constructor",{value:m.prototype=A,configurable:!0}),u(A,"constructor",{value:m,configurable:!0}),m.displayName=n(A,a,"GeneratorFunction"),o.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,n(t,a,"GeneratorFunction")),t.prototype=Object.create(E),t},o.awrap=function(t){return{__await:t}},_(T.prototype),n(T.prototype,i,function(){return this}),o.AsyncIterator=T,o.async=function(t,e,i,r,a){void 0===a&&(a=Promise);var n=new T(s(t,e,i,r),a);return o.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},_(E),n(E,a,"Generator"),n(E,r,function(){return this}),n(E,"toString",function(){return"[object Generator]"}),o.keys=function(t){var e,i=Object(t),r=[];for(e in i)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=P,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var r=this;function t(t,e){return n.type="throw",n.arg=i,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],n=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=c.call(a,"catchLoc"),s=c.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}var n=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return n.type=t,n.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),w(i),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i,r,a=this.tryEntries[e];if(a.tryLoc===t)return"throw"===(i=a.completion).type&&(r=i.arg,w(a)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=l),v}},o}D.exports=i,D.exports.__esModule=!0,D.exports.default=D.exports},{"./typeof.js":9}],7:[function(t,e,i){var r=t("./typeof.js").default;e.exports=function(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);if(i=i.call(t,e||"default"),"object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")},e.exports.__esModule=!0,e.exports.default=e.exports},{"./typeof.js":9}],8:[function(t,e,i){var r=t("./typeof.js").default,a=t("./toPrimitive.js");e.exports=function(t){return t=a(t,"string"),"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},{"./toPrimitive.js":7,"./typeof.js":9}],9:[function(t,e,i){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},{}],10:[function(e,t,i){e=e("../helpers/regeneratorRuntime")();t.exports=e;try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},{"../helpers/regeneratorRuntime":6}],11:[function(t,re,ae){!function(ie){!function(){var r="__lodash_hash_undefined__",j=1,Y=2,u=1/0,T=9007199254740991,S=17976931348623157e292,w=NaN,N="[object Arguments]",z="[object Array]",$="[object Boolean]",Z="[object Date]",Q="[object Error]",I="[object Function]",P="[object GeneratorFunction]",B="[object Map]",X="[object Number]",x="[object Object]",D="[object Promise]",tt="[object RegExp]",G="[object Set]",et="[object String]",it="[object Symbol]",O="[object WeakMap]",rt="[object ArrayBuffer]",K="[object DataView]",V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,R=/^\./,C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L=/^\s+|\s+$/g,U=/\\(\\)?/g,at=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,e={},ct=(e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e[N]=e[z]=e[rt]=e[$]=e[K]=e[Z]=e[Q]=e[I]=e[B]=e[X]=e[x]=e[tt]=e[G]=e[et]=e[O]=!1,parseInt),t="object"==typeof ie&&ie&&ie.Object===Object&&ie,i="object"==typeof self&&self&&self.Object===Object&&self,i=t||i||Function("return this")(),a="object"==typeof ae&&ae&&!ae.nodeType&&ae,n=a&&"object"==typeof re&&re&&!re.nodeType&&re,ut=n&&n.exports===a&&t.process,n=function(){try{return ut&&ut.binding("util")}catch(t){}}(),a=n&&n.isTypedArray;function dt(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function pt(t){var i=-1,r=Array(t.size);return t.forEach(function(t,e){r[++i]=[e,t]}),r}function ht(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var yt,ft,t=Array.prototype,n=Function.prototype,o=Object.prototype,s=i["__core-js_shared__"],vt=(s=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",gt=n.toString,M=o.hasOwnProperty,l=o.toString,mt=RegExp("^"+gt.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s=i.Symbol,At=i.Uint8Array,bt=o.propertyIsEnumerable,Et=t.splice,_t=(yt=Object.keys,ft=Object,function(t){return yt(ft(t))}),Tt=Math.max,n=m(i,"DataView"),c=m(i,"Map"),t=m(i,"Promise"),St=m(i,"Set"),i=m(i,"WeakMap"),d=m(Object,"create"),wt=E(n),It=E(c),Pt=E(t),Dt=E(St),Ot=E(i),s=s?s.prototype:void 0,Vt=s?s.valueOf:void 0,kt=s?s.toString:void 0;function p(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function h(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function y(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function f(t){var e=-1,i=t?t.length:0;for(this.__data__=new y;++e<i;)this.add(t[e])}function F(t){this.__data__=new h(t)}function Rt(t,e){var i,r=W(t)||qt(t)?function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}(t.length,String):[],a=r.length,n=!!a;for(i in t)!e&&!M.call(t,i)||n&&("length"==i||Gt(i,a))||r.push(i);return r}function v(t,e){for(var i=t.length;i--;)if(Wt(t[i][0],e))return i;return-1}function Ct(t,e){for(var i=0,r=(e=A(e,t)?[e]:Bt(e)).length;null!=t&&i<r;)t=t[b(e[i++])];return i&&i==r?t:void 0}function Lt(t,e){return null!=t&&e in Object(t)}function Ut(t,e,i,r,a){if(t===e)return!0;if(null==t||null==e||!q(t)&&!H(e))return t!=t&&e!=e;var n=Ut,o=W(t),s=W(e),l=z,c=z,s=(o||(l=(l=J(t))==N?x:l),s||(c=(c=J(e))==N?x:c),l==x&&!dt(t)),u=c==x&&!dt(e);if((c=l==c)&&!s){a=a||new F;if(o||Qt(t))return xt(t,e,n,i,r,a);else{var d=t;var p=e;var h=l;var y=n;var f=i;var v=r;var g=a;switch(h){case K:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case rt:return d.byteLength==p.byteLength&&y(new At(d),new At(p))?!0:!1;case $:case Z:case X:return Wt(+d,+p);case Q:return d.name==p.name&&d.message==p.message;case tt:case et:return d==p+"";case B:var m=pt;case G:var A=v&Y;if(m=m||ht,d.size!=p.size&&!A)return!1;A=g.get(d);if(A)return A==p;v|=j,g.set(d,p);A=xt(m(d),m(p),y,f,v,g);return g.delete(d),A;case it:if(Vt)return Vt.call(d)==Vt.call(p)}return!1;return}}if(!(r&Y)){var o=s&&M.call(t,"__wrapped__"),l=u&&M.call(e,"__wrapped__");if(o||l)return s=o?t.value():t,u=l?e.value():e,a=a||new F,n(s,u,i,r,a)}if(c){a=a||new F;var b=t,E=e,_=n,T=i,S=r,w=a,I=S&Y,P=te(b),D=P.length,o=te(E).length;if(D!=o&&!I)return!1;for(var O=D;O--;){var V=P[O];if(!(I?V in E:M.call(E,V)))return!1}if((o=w.get(b))&&w.get(E))return o==E;for(var k=!0,R=(w.set(b,E),w.set(E,b),I);++O<D;){V=P[O];var C,L=b[V],U=E[V];if(!(void 0===(C=T?I?T(U,L,V,E,b,w):T(L,U,V,b,E,w):C)?L===U||_(L,U,T,S,w):C)){k=!1;break}R=R||"constructor"==V}return k&&!R&&(o=b.constructor,l=E.constructor,o!=l)&&"constructor"in b&&"constructor"in E&&!("function"==typeof o&&o instanceof o&&"function"==typeof l&&l instanceof l)&&(k=!1),w.delete(b),w.delete(E),k}return!1}function jt(t){var e;return q(t)&&(e=t,!(vt&&vt in e))&&(zt(t)||dt(t)?mt:ot).test(E(t))}function Yt(t){if("function"==typeof t)return t;if(null==t)return ee;if("object"==typeof t)if(W(t)){var r=t[0],a=t[1];return A(r)&&Kt(a)?Mt(b(r),a):function(t){var e,i=function(t,e,i){t=null==t?void 0:Ct(t,e);return void 0===t?i:t}(t,r);return void 0===i&&i===a?(e=r,null!=(t=t)&&function(t,e,i){e=A(e,t)?[e]:Bt(e);var r,a=-1,n=e.length;for(;++a<n;){var o=b(e[a]);if(!(r=null!=t&&i(t,o)))break;t=t[o]}if(r)return r;return!!(n=t?t.length:0)&&$t(n)&&Gt(o,n)&&(W(t)||qt(t))}(t,e,Lt)):Ut(a,i,void 0,j|Y)}}else{var e=t,i=function(t){var e=te(t),i=e.length;for(;i--;){var r=e[i],a=t[r];e[i]=[r,a,Kt(a)]}return e}(e);return 1==i.length&&i[0][2]?Mt(i[0][0],i[0][1]):function(t){return t===e||function(t,e,i,r){var a=i.length,n=a,o=!r;if(null==t)return!n;for(t=Object(t);a--;){var s=i[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<n;){var l=(s=i[a])[0],c=t[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in t))return!1}else{var d,p=new F;if(!(void 0===(d=r?r(c,u,l,t,e,p):d)?Ut(u,c,r,j|Y,p):d))return!1}}return!0}(t,e,i)}}var n,o;return A(t=t)?(n=b(t),function(t){return null==t?void 0:t[n]}):(o=t,function(t){return Ct(t,o)})}function Nt(t){if(i="function"==typeof(i=(e=t)&&e.constructor)&&i.prototype||o,e!==i)return _t(t);var e,i,r,a=[];for(r in Object(t))M.call(t,r)&&"constructor"!=r&&a.push(r);return a}function Bt(t){return W(t)?t:Ft(t)}function xt(t,e,i,r,a,n){var o=a&Y,s=t.length,l=e.length;if(s!=l&&!(o&&s<l))return!1;l=n.get(t);if(l&&n.get(e))return l==e;var c=-1,u=!0,d=a&j?new f:void 0;for(n.set(t,e),n.set(e,t);++c<s;){var p,h=t[c],y=e[c];if(void 0!==(p=r?o?r(y,h,c,e,t,n):r(h,y,c,t,e,n):p)){if(p)continue;u=!1;break}if(d){if(!function(t,e){for(var i=-1,r=t?t.length:0;++i<r;)if(e(t[i],i,t))return 1}(e,function(t,e){return!d.has(e)&&(h===t||i(h,t,r,a,n))&&d.add(e)})){u=!1;break}}else if(h!==y&&!i(h,y,r,a,n)){u=!1;break}}return n.delete(t),n.delete(e),u}function g(t,e){var i,r,t=t.__data__;return("string"==(r=typeof(i=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?t["string"==typeof e?"string":"hash"]:t.map}function m(t,e){e=e;t=null==(t=t)?void 0:t[e];return jt(t)?t:void 0}p.prototype.clear=function(){this.__data__=d?d(null):{}},p.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},p.prototype.get=function(t){var e,i=this.__data__;return d?(e=i[t])===r?void 0:e:M.call(i,t)?i[t]:void 0},p.prototype.has=function(t){var e=this.__data__;return d?void 0!==e[t]:M.call(e,t)},p.prototype.set=function(t,e){return this.__data__[t]=d&&void 0===e?r:e,this},h.prototype.clear=function(){this.__data__=[]},h.prototype.delete=function(t){var e=this.__data__;return!((t=v(e,t))<0||(t==e.length-1?e.pop():Et.call(e,t,1),0))},h.prototype.get=function(t){var e=this.__data__;return(t=v(e,t))<0?void 0:e[t][1]},h.prototype.has=function(t){return-1<v(this.__data__,t)},h.prototype.set=function(t,e){var i=this.__data__,r=v(i,t);return r<0?i.push([t,e]):i[r][1]=e,this},y.prototype.clear=function(){this.__data__={hash:new p,map:new(c||h),string:new p}},y.prototype.delete=function(t){return g(this,t).delete(t)},y.prototype.get=function(t){return g(this,t).get(t)},y.prototype.has=function(t){return g(this,t).has(t)},y.prototype.set=function(t,e){return g(this,t).set(t,e),this},f.prototype.add=f.prototype.push=function(t){return this.__data__.set(t,r),this},f.prototype.has=function(t){return this.__data__.has(t)},F.prototype.clear=function(){this.__data__=new h},F.prototype.delete=function(t){return this.__data__.delete(t)},F.prototype.get=function(t){return this.__data__.get(t)},F.prototype.has=function(t){return this.__data__.has(t)},F.prototype.set=function(t,e){var i=this.__data__;if(i instanceof h){var r=i.__data__;if(!c||r.length<199)return r.push([t,e]),this;i=this.__data__=new y(r)}return i.set(t,e),this};var J=function(t){return l.call(t)};function Gt(t,e){return!!(e=null==e?T:e)&&("number"==typeof t||lt.test(t))&&-1<t&&t%1==0&&t<e}function A(t,e){var i;if(!W(t))return"number"==(i=typeof t)||"symbol"==i||"boolean"==i||null==t||_(t)||k.test(t)||!V.test(t)||null!=e&&t in Object(e)}function Kt(t){return t==t&&!q(t)}function Mt(e,i){return function(t){return null!=t&&t[e]===i&&(void 0!==i||e in Object(t))}}(n&&J(new n(new ArrayBuffer(1)))!=K||c&&J(new c)!=B||t&&J(t.resolve())!=D||St&&J(new St)!=G||i&&J(new i)!=O)&&(J=function(t){var e=l.call(t),t=e==x?t.constructor:void 0,t=t?E(t):void 0;if(t)switch(t){case wt:return K;case It:return B;case Pt:return D;case Dt:return G;case Ot:return O}return e});var Ft=Jt(function(t){t=null==(e=t)?"":function(t){var e;return"string"==typeof t?t:_(t)?kt?kt.call(t):"":"0"==(e=t+"")&&1/t==-u?"-0":e}(e);var e,a=[];return R.test(t)&&a.push(""),t.replace(C,function(t,e,i,r){a.push(i?r.replace(U,"$1"):e||t)}),a});function b(t){var e;return"string"==typeof t||_(t)?t:"0"==(e=t+"")&&1/t==-u?"-0":e}function E(t){if(null!=t){try{return gt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jt(r,a){if("function"!=typeof r||a&&"function"!=typeof a)throw new TypeError("Expected a function");function n(){var t=arguments,e=a?a.apply(this,t):t[0],i=n.cache;return i.has(e)?i.get(e):(t=r.apply(this,t),n.cache=i.set(e,t),t)}return n.cache=new(Jt.Cache||y),n}function Wt(t,e){return t===e||t!=t&&e!=e}function qt(t){return H(e=t)&&Ht(e)&&M.call(t,"callee")&&(!bt.call(t,"callee")||l.call(t)==N);var e}Jt.Cache=y;var W=Array.isArray;function Ht(t){return null!=t&&$t(t.length)&&!zt(t)}function zt(t){t=q(t)?l.call(t):"";return t==I||t==P}function $t(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=T}function q(t){var e=typeof t;return t&&("object"==e||"function"==e)}function H(t){return!!t&&"object"==typeof t}function _(t){return"symbol"==typeof t||H(t)&&l.call(t)==it}var Zt,Qt=a?(Zt=a,function(t){return Zt(t)}):function(t){return H(t)&&$t(t.length)&&!!e[l.call(t)]};function Xt(t){if("number"==typeof t)return t;if(_(t))return w;if("string"!=typeof(t=q(t)?q(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e:t))return 0===t?t:+t;t=t.replace(L,"");var e=nt.test(t);return e||st.test(t)?ct(t.slice(2),e?2:8):at.test(t)?w:+t}function te(t){return(Ht(t)?Rt:Nt)(t)}function ee(t){return t}re.exports=function(t,e,i){var r=t?t.length:0;if(r)for(var a=null!=i&&(i=function(t){return t?(t=Xt(t))!==u&&t!==-u?t==t?t:0:(t<0?-1:1)*S:0===t?t:0}(i=i),a=i%1,i==i)?a?i-a:i:0,n=(a<0&&(a=Tt(r+a,0)),t),o=Yt(e),i=a,s=void 0,l=n.length,c=i+(s?1:-1);s?c--:++c<l;)if(o(n[c],c,n))return c;return-1}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(t,e,i){var c=9007199254740991,u="[object Arguments]",r="[object Function]",a="[object GeneratorFunction]",d=/^(?:0|[1-9]\d*)$/;function n(t,e){for(var i=-1,r=t?t.length:0;++i<r&&!1!==e(t[i],i,t););return t}var o,s,l=Object.prototype,p=l.hasOwnProperty,h=l.toString,y=l.propertyIsEnumerable,f=(o=Object.keys,s=Object,function(t){return o(s(t))});function v(t,e){var i,r,a,n,o=T(t)||function(t){return function(t){return t&&"object"==typeof t}(t)&&S(t)}(i=t)&&p.call(i,"callee")&&(!y.call(i,"callee")||h.call(i)==u)?function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}(t.length,String):[],s=o.length,l=!!s;for(r in t)!e&&!p.call(t,r)||l&&("length"==r||(a=r,(n=null==(n=s)?c:n)&&("number"==typeof a||d.test(a))&&-1<a&&a%1==0&&a<n))||o.push(r);return o}function g(t,e){if(null!=t){if(!S(t))return m(t,e);for(var i=t.length,r=A?i:-1,a=Object(t);(A?r--:++r<i)&&!1!==e(a[r],r,a););}return t}m=function(t,e){return t&&E(t,e,w)};var m,A,b,E=function(t,e,i){for(var r=-1,a=Object(t),n=i(t),o=n.length;o--;){var s=n[b?o:++r];if(!1===e(a[s],s,a))break}return t};function _(t){if(i="function"==typeof(i=(e=t)&&e.constructor)&&i.prototype||l,e!==i)return f(t);var e,i,r,a=[];for(r in Object(t))p.call(t,r)&&"constructor"!=r&&a.push(r);return a}var T=Array.isArray;function S(t){return null!=t&&"number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=c&&!function(t){t=function(t){var e=typeof t;return t&&("object"==e||"function"==e)}(t)?h.call(t):"";return t==r||t==a}(t);var e}function w(t){return(S(t)?v:_)(t)}function I(t){return t}e.exports=function(t,e){return(T(t)?n:g)(t,"function"==typeof e?e:I)}},{}],13:[function(t,ee,ie){!function(te){!function(){var r="__lodash_hash_undefined__",j=1,Y=2,_=1/0,T=9007199254740991,N="[object Arguments]",$="[object Array]",Z="[object Boolean]",Q="[object Date]",X="[object Error]",S="[object Function]",w="[object GeneratorFunction]",B="[object Map]",tt="[object Number]",x="[object Object]",I="[object Promise]",et="[object RegExp]",G="[object Set]",it="[object String]",rt="[object Symbol]",P="[object WeakMap]",at="[object ArrayBuffer]",K="[object DataView]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/,V=/^\./,k=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,e={},t=(e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e[N]=e[$]=e[at]=e[Z]=e[K]=e[Q]=e[X]=e[S]=e[B]=e[tt]=e[x]=e[et]=e[G]=e[it]=e[P]=!1,"object"==typeof te&&te&&te.Object===Object&&te),i="object"==typeof self&&self&&self.Object===Object&&self,i=t||i||Function("return this")(),a="object"==typeof ie&&ie&&!ie.nodeType&&ie,n=a&&"object"==typeof ee&&ee&&!ee.nodeType&&ee,U=n&&n.exports===a&&t.process,n=function(){try{return U&&U.binding("util")}catch(t){}}(),a=n&&n.isTypedArray;function nt(t,e){for(var i=-1,r=t?t.length:0,a=Array(r);++i<r;)a[i]=e(t[i],i,t);return a}function ot(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function st(t){var i=-1,r=Array(t.size);return t.forEach(function(t,e){r[++i]=[e,t]}),r}function lt(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var ct,ut,t=Array.prototype,n=Function.prototype,o=Object.prototype,s=i["__core-js_shared__"],dt=(s=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",pt=n.toString,M=o.hasOwnProperty,l=o.toString,ht=RegExp("^"+pt.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s=i.Symbol,yt=i.Uint8Array,ft=o.propertyIsEnumerable,vt=t.splice,gt=(ct=Object.keys,ut=Object,function(t){return ct(ut(t))}),n=g(i,"DataView"),c=g(i,"Map"),t=g(i,"Promise"),mt=g(i,"Set"),i=g(i,"WeakMap"),u=g(Object,"create"),At=b(n),bt=b(c),Et=b(t),_t=b(mt),Tt=b(i),s=s?s.prototype:void 0,St=s?s.valueOf:void 0,wt=s?s.toString:void 0;function d(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function p(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function h(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function f(t){var e=-1,i=t?t.length:0;for(this.__data__=new h;++e<i;)this.add(t[e])}function F(t){this.__data__=new p(t)}function It(t,e){var i,r=W(t)||qt(t)?function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}(t.length,String):[],a=r.length,n=!!a;for(i in t)!e&&!M.call(t,i)||n&&("length"==i||Gt(i,a))||r.push(i);return r}function y(t,e){for(var i=t.length;i--;)if(Wt(t[i][0],e))return i;return-1}d.prototype.clear=function(){this.__data__=u?u(null):{}},d.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},d.prototype.get=function(t){var e,i=this.__data__;return u?(e=i[t])===r?void 0:e:M.call(i,t)?i[t]:void 0},d.prototype.has=function(t){var e=this.__data__;return u?void 0!==e[t]:M.call(e,t)},d.prototype.set=function(t,e){return this.__data__[t]=u&&void 0===e?r:e,this},p.prototype.clear=function(){this.__data__=[]},p.prototype.delete=function(t){var e=this.__data__;return!((t=y(e,t))<0||(t==e.length-1?e.pop():vt.call(e,t,1),0))},p.prototype.get=function(t){var e=this.__data__;return(t=y(e,t))<0?void 0:e[t][1]},p.prototype.has=function(t){return-1<y(this.__data__,t)},p.prototype.set=function(t,e){var i=this.__data__,r=y(i,t);return r<0?i.push([t,e]):i[r][1]=e,this},h.prototype.clear=function(){this.__data__={hash:new d,map:new(c||p),string:new d}},h.prototype.delete=function(t){return v(this,t).delete(t)},h.prototype.get=function(t){return v(this,t).get(t)},h.prototype.has=function(t){return v(this,t).has(t)},h.prototype.set=function(t,e){return v(this,t).set(t,e),this},f.prototype.add=f.prototype.push=function(t){return this.__data__.set(t,r),this},f.prototype.has=function(t){return this.__data__.has(t)},F.prototype.clear=function(){this.__data__=new p},F.prototype.delete=function(t){return this.__data__.delete(t)},F.prototype.get=function(t){return this.__data__.get(t)},F.prototype.has=function(t){return this.__data__.has(t)},F.prototype.set=function(t,e){var i=this.__data__;if(i instanceof p){var r=i.__data__;if(!c||r.length<199)return r.push([t,e]),this;i=this.__data__=new h(r)}return i.set(t,e),this};Pt=function(t,e){return t&&kt(t,e,z)};var Pt,Dt,Ot,Vt=function(t,e){if(null!=t){if(!E(t))return Pt(t,e);for(var i=t.length,r=Dt?i:-1,a=Object(t);(Dt?r--:++r<i)&&!1!==e(a[r],r,a););}return t},kt=function(t,e,i){for(var r=-1,a=Object(t),n=i(t),o=n.length;o--;){var s=n[Ot?o:++r];if(!1===e(a[s],s,a))break}return t};function Rt(t,e){for(var i=0,r=(e=m(e,t)?[e]:Bt(e)).length;null!=t&&i<r;)t=t[A(e[i++])];return i&&i==r?t:void 0}function Ct(t,e){return null!=t&&e in Object(t)}function Lt(t,e,i,r,a){if(t===e)return!0;if(null==t||null==e||!q(t)&&!H(e))return t!=t&&e!=e;var n=Lt,o=W(t),s=W(e),l=$,c=$,s=(o||(l=(l=J(t))==N?x:l),s||(c=(c=J(e))==N?x:c),l==x&&!ot(t)),u=c==x&&!ot(e);if((c=l==c)&&!s){a=a||new F;if(o||Qt(t))return xt(t,e,n,i,r,a);else{var d=t;var p=e;var h=l;var y=n;var f=i;var v=r;var g=a;switch(h){case K:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case at:return d.byteLength==p.byteLength&&y(new yt(d),new yt(p))?!0:!1;case Z:case Q:case tt:return Wt(+d,+p);case X:return d.name==p.name&&d.message==p.message;case et:case it:return d==p+"";case B:var m=st;case G:var A=v&Y;if(m=m||lt,d.size!=p.size&&!A)return!1;A=g.get(d);if(A)return A==p;v|=j,g.set(d,p);A=xt(m(d),m(p),y,f,v,g);return g.delete(d),A;case rt:if(St)return St.call(d)==St.call(p)}return!1;return}}if(!(r&Y)){var o=s&&M.call(t,"__wrapped__"),l=u&&M.call(e,"__wrapped__");if(o||l)return s=o?t.value():t,u=l?e.value():e,a=a||new F,n(s,u,i,r,a)}if(c){a=a||new F;var b=t,E=e,_=n,T=i,S=r,w=a,I=S&Y,P=z(b),D=P.length,o=z(E).length;if(D!=o&&!I)return!1;for(var O=D;O--;){var V=P[O];if(!(I?V in E:M.call(E,V)))return!1}if((o=w.get(b))&&w.get(E))return o==E;for(var k=!0,R=(w.set(b,E),w.set(E,b),I);++O<D;){V=P[O];var C,L=b[V],U=E[V];if(!(void 0===(C=T?I?T(U,L,V,E,b,w):T(L,U,V,b,E,w):C)?L===U||_(L,U,T,S,w):C)){k=!1;break}R=R||"constructor"==V}return k&&!R&&(o=b.constructor,l=E.constructor,o!=l)&&"constructor"in b&&"constructor"in E&&!("function"==typeof o&&o instanceof o&&"function"==typeof l&&l instanceof l)&&(k=!1),w.delete(b),w.delete(E),k}return!1}function Ut(t){var e;return q(t)&&(e=t,!(dt&&dt in e))&&(Ht(t)||ot(t)?ht:C).test(b(t))}function jt(t){if("function"==typeof t)return t;if(null==t)return Xt;if("object"==typeof t)if(W(t)){var r=t[0],a=t[1];return m(r)&&Kt(a)?Mt(A(r),a):function(t){var e,i=function(t,e,i){t=null==t?void 0:Rt(t,e);return void 0===t?i:t}(t,r);return void 0===i&&i===a?(e=r,null!=(t=t)&&function(t,e,i){e=m(e,t)?[e]:Bt(e);var r,a=-1,n=e.length;for(;++a<n;){var o=A(e[a]);if(!(r=null!=t&&i(t,o)))break;t=t[o]}if(r)return r;return!!(n=t?t.length:0)&&zt(n)&&Gt(o,n)&&(W(t)||qt(t))}(t,e,Ct)):Lt(a,i,void 0,j|Y)}}else{var e=t,i=function(t){var e=z(t),i=e.length;for(;i--;){var r=e[i],a=t[r];e[i]=[r,a,Kt(a)]}return e}(e);return 1==i.length&&i[0][2]?Mt(i[0][0],i[0][1]):function(t){return t===e||function(t,e,i,r){var a=i.length,n=a,o=!r;if(null==t)return!n;for(t=Object(t);a--;){var s=i[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<n;){var l=(s=i[a])[0],c=t[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in t))return!1}else{var d,p=new F;if(!(void 0===(d=r?r(c,u,l,t,e,p):d)?Lt(u,c,r,j|Y,p):d))return!1}}return!0}(t,e,i)}}var n,o;return m(t=t)?(n=A(t),function(t){return null==t?void 0:t[n]}):(o=t,function(t){return Rt(t,o)})}function Yt(t){if(i="function"==typeof(i=(e=t)&&e.constructor)&&i.prototype||o,e!==i)return gt(t);var e,i,r,a=[];for(r in Object(t))M.call(t,r)&&"constructor"!=r&&a.push(r);return a}function Nt(t,r){var a=-1,n=E(t)?Array(t.length):[];return Vt(t,function(t,e,i){n[++a]=r(t,e,i)}),n}function Bt(t){return W(t)?t:Ft(t)}function xt(t,e,i,r,a,n){var o=a&Y,s=t.length,l=e.length;if(s!=l&&!(o&&s<l))return!1;l=n.get(t);if(l&&n.get(e))return l==e;var c=-1,u=!0,d=a&j?new f:void 0;for(n.set(t,e),n.set(e,t);++c<s;){var p,h=t[c],y=e[c];if(void 0!==(p=r?o?r(y,h,c,e,t,n):r(h,y,c,t,e,n):p)){if(p)continue;u=!1;break}if(d){if(!function(t,e){for(var i=-1,r=t?t.length:0;++i<r;)if(e(t[i],i,t))return 1}(e,function(t,e){return!d.has(e)&&(h===t||i(h,t,r,a,n))&&d.add(e)})){u=!1;break}}else if(h!==y&&!i(h,y,r,a,n)){u=!1;break}}return n.delete(t),n.delete(e),u}function v(t,e){var i,r,t=t.__data__;return("string"==(r=typeof(i=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?t["string"==typeof e?"string":"hash"]:t.map}function g(t,e){e=e;t=null==(t=t)?void 0:t[e];return Ut(t)?t:void 0}var J=function(t){return l.call(t)};function Gt(t,e){return!!(e=null==e?T:e)&&("number"==typeof t||L.test(t))&&-1<t&&t%1==0&&t<e}function m(t,e){var i;if(!W(t))return"number"==(i=typeof t)||"symbol"==i||"boolean"==i||null==t||$t(t)||O.test(t)||!D.test(t)||null!=e&&t in Object(e)}function Kt(t){return t==t&&!q(t)}function Mt(e,i){return function(t){return null!=t&&t[e]===i&&(void 0!==i||e in Object(t))}}(n&&J(new n(new ArrayBuffer(1)))!=K||c&&J(new c)!=B||t&&J(t.resolve())!=I||mt&&J(new mt)!=G||i&&J(new i)!=P)&&(J=function(t){var e=l.call(t),t=e==x?t.constructor:void 0,t=t?b(t):void 0;if(t)switch(t){case At:return K;case bt:return B;case Et:return I;case _t:return G;case Tt:return P}return e});var Ft=Jt(function(t){t=null==(e=t)?"":function(t){var e;return"string"==typeof t?t:$t(t)?wt?wt.call(t):"":"0"==(e=t+"")&&1/t==-_?"-0":e}(e);var e,a=[];return V.test(t)&&a.push(""),t.replace(k,function(t,e,i,r){a.push(i?r.replace(R,"$1"):e||t)}),a});function A(t){var e;return"string"==typeof t||$t(t)?t:"0"==(e=t+"")&&1/t==-_?"-0":e}function b(t){if(null!=t){try{return pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jt(r,a){if("function"!=typeof r||a&&"function"!=typeof a)throw new TypeError("Expected a function");function n(){var t=arguments,e=a?a.apply(this,t):t[0],i=n.cache;return i.has(e)?i.get(e):(t=r.apply(this,t),n.cache=i.set(e,t),t)}return n.cache=new(Jt.Cache||h),n}function Wt(t,e){return t===e||t!=t&&e!=e}function qt(t){return H(e=t)&&E(e)&&M.call(t,"callee")&&(!ft.call(t,"callee")||l.call(t)==N);var e}Jt.Cache=h;var W=Array.isArray;function E(t){return null!=t&&zt(t.length)&&!Ht(t)}function Ht(t){t=q(t)?l.call(t):"";return t==S||t==w}function zt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=T}function q(t){var e=typeof t;return t&&("object"==e||"function"==e)}function H(t){return!!t&&"object"==typeof t}function $t(t){return"symbol"==typeof t||H(t)&&l.call(t)==rt}var Zt,Qt=a?(Zt=a,function(t){return Zt(t)}):function(t){return H(t)&&zt(t.length)&&!!e[l.call(t)]};function z(t){return(E(t)?It:Yt)(t)}function Xt(t){return t}ee.exports=function(t,e){return(W(t)?nt:Nt)(t,jt(e))}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,ee,ie){!function(te){!function(){var r="__lodash_hash_undefined__",j=1,Y=2,E=1/0,_=9007199254740991,N="[object Arguments]",B="[object Array]",Z="[object Boolean]",Q="[object Date]",X="[object Error]",T="[object Function]",S="[object GeneratorFunction]",x="[object Map]",tt="[object Number]",G="[object Object]",w="[object Promise]",et="[object RegExp]",K="[object Set]",it="[object String]",rt="[object Symbol]",I="[object WeakMap]",at="[object ArrayBuffer]",M="[object DataView]",P=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D=/^\w*$/,O=/^\./,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,R=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,e={},t=(e["[object Float32Array]"]=e["[object Float64Array]"]=e["[object Int8Array]"]=e["[object Int16Array]"]=e["[object Int32Array]"]=e["[object Uint8Array]"]=e["[object Uint8ClampedArray]"]=e["[object Uint16Array]"]=e["[object Uint32Array]"]=!0,e[N]=e[B]=e[at]=e[Z]=e[M]=e[Q]=e[X]=e[T]=e[x]=e[tt]=e[G]=e[et]=e[K]=e[it]=e[I]=!1,"object"==typeof te&&te&&te.Object===Object&&te),i="object"==typeof self&&self&&self.Object===Object&&self,i=t||i||Function("return this")(),a="object"==typeof ie&&ie&&!ie.nodeType&&ie,n=a&&"object"==typeof ee&&ee&&!ee.nodeType&&ee,L=n&&n.exports===a&&t.process,n=function(){try{return L&&L.binding("util")}catch(t){}}(),a=n&&n.isTypedArray;function U(t,e,i,r){var a=-1,n=t?t.length:0;for(r&&n&&(i=t[++a]);++a<n;)i=e(i,t[a],a,t);return i}function nt(t,r,a,n,e){return e(t,function(t,e,i){a=n?(n=!1,t):r(a,t,e,i)}),a}function ot(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function st(t){var i=-1,r=Array(t.size);return t.forEach(function(t,e){r[++i]=[e,t]}),r}function lt(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}var ct,ut,t=Array.prototype,n=Function.prototype,o=Object.prototype,s=i["__core-js_shared__"],dt=(s=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",pt=n.toString,F=o.hasOwnProperty,l=o.toString,ht=RegExp("^"+pt.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s=i.Symbol,yt=i.Uint8Array,ft=o.propertyIsEnumerable,vt=t.splice,gt=(ct=Object.keys,ut=Object,function(t){return ct(ut(t))}),n=g(i,"DataView"),c=g(i,"Map"),t=g(i,"Promise"),mt=g(i,"Set"),i=g(i,"WeakMap"),u=g(Object,"create"),At=b(n),bt=b(c),Et=b(t),_t=b(mt),Tt=b(i),s=s?s.prototype:void 0,St=s?s.valueOf:void 0,wt=s?s.toString:void 0;function d(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function p(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function h(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function f(t){var e=-1,i=t?t.length:0;for(this.__data__=new h;++e<i;)this.add(t[e])}function J(t){this.__data__=new p(t)}function It(t,e){var i,r=q(t)||Wt(t)?function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}(t.length,String):[],a=r.length,n=!!a;for(i in t)!e&&!F.call(t,i)||n&&("length"==i||xt(i,a))||r.push(i);return r}function y(t,e){for(var i=t.length;i--;)if(Jt(t[i][0],e))return i;return-1}d.prototype.clear=function(){this.__data__=u?u(null):{}},d.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},d.prototype.get=function(t){var e,i=this.__data__;return u?(e=i[t])===r?void 0:e:F.call(i,t)?i[t]:void 0},d.prototype.has=function(t){var e=this.__data__;return u?void 0!==e[t]:F.call(e,t)},d.prototype.set=function(t,e){return this.__data__[t]=u&&void 0===e?r:e,this},p.prototype.clear=function(){this.__data__=[]},p.prototype.delete=function(t){var e=this.__data__;return!((t=y(e,t))<0||(t==e.length-1?e.pop():vt.call(e,t,1),0))},p.prototype.get=function(t){var e=this.__data__;return(t=y(e,t))<0?void 0:e[t][1]},p.prototype.has=function(t){return-1<y(this.__data__,t)},p.prototype.set=function(t,e){var i=this.__data__,r=y(i,t);return r<0?i.push([t,e]):i[r][1]=e,this},h.prototype.clear=function(){this.__data__={hash:new d,map:new(c||p),string:new d}},h.prototype.delete=function(t){return v(this,t).delete(t)},h.prototype.get=function(t){return v(this,t).get(t)},h.prototype.has=function(t){return v(this,t).has(t)},h.prototype.set=function(t,e){return v(this,t).set(t,e),this},f.prototype.add=f.prototype.push=function(t){return this.__data__.set(t,r),this},f.prototype.has=function(t){return this.__data__.has(t)},J.prototype.clear=function(){this.__data__=new p},J.prototype.delete=function(t){return this.__data__.delete(t)},J.prototype.get=function(t){return this.__data__.get(t)},J.prototype.has=function(t){return this.__data__.has(t)},J.prototype.set=function(t,e){var i=this.__data__;if(i instanceof p){var r=i.__data__;if(!c||r.length<199)return r.push([t,e]),this;i=this.__data__=new h(r)}return i.set(t,e),this};function Pt(t,e){if(null!=t){if(!qt(t))return Dt(t,e);for(var i=t.length,r=Ot?i:-1,a=Object(t);(Ot?r--:++r<i)&&!1!==e(a[r],r,a););}return t}Dt=function(t,e){return t&&kt(t,e,$)};var Dt,Ot,Vt,kt=function(t,e,i){for(var r=-1,a=Object(t),n=i(t),o=n.length;o--;){var s=n[Vt?o:++r];if(!1===e(a[s],s,a))break}return t};function Rt(t,e){for(var i=0,r=(e=m(e,t)?[e]:Nt(e)).length;null!=t&&i<r;)t=t[A(e[i++])];return i&&i==r?t:void 0}function Ct(t,e){return null!=t&&e in Object(t)}function Lt(t,e,i,r,a){if(t===e)return!0;if(null==t||null==e||!H(t)&&!z(e))return t!=t&&e!=e;var n=Lt,o=q(t),s=q(e),l=B,c=B,s=(o||(l=(l=W(t))==N?G:l),s||(c=(c=W(e))==N?G:c),l==G&&!ot(t)),u=c==G&&!ot(e);if((c=l==c)&&!s){a=a||new J;if(o||Qt(t))return Bt(t,e,n,i,r,a);else{var d=t;var p=e;var h=l;var y=n;var f=i;var v=r;var g=a;switch(h){case M:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case at:return d.byteLength==p.byteLength&&y(new yt(d),new yt(p))?!0:!1;case Z:case Q:case tt:return Jt(+d,+p);case X:return d.name==p.name&&d.message==p.message;case et:case it:return d==p+"";case x:var m=st;case K:var A=v&Y;if(m=m||lt,d.size!=p.size&&!A)return!1;A=g.get(d);if(A)return A==p;v|=j,g.set(d,p);A=Bt(m(d),m(p),y,f,v,g);return g.delete(d),A;case rt:if(St)return St.call(d)==St.call(p)}return!1;return}}if(!(r&Y)){var o=s&&F.call(t,"__wrapped__"),l=u&&F.call(e,"__wrapped__");if(o||l)return s=o?t.value():t,u=l?e.value():e,a=a||new J,n(s,u,i,r,a)}if(c){a=a||new J;var b=t,E=e,_=n,T=i,S=r,w=a,I=S&Y,P=$(b),D=P.length,o=$(E).length;if(D!=o&&!I)return!1;for(var O=D;O--;){var V=P[O];if(!(I?V in E:F.call(E,V)))return!1}if((o=w.get(b))&&w.get(E))return o==E;for(var k=!0,R=(w.set(b,E),w.set(E,b),I);++O<D;){V=P[O];var C,L=b[V],U=E[V];if(!(void 0===(C=T?I?T(U,L,V,E,b,w):T(L,U,V,b,E,w):C)?L===U||_(L,U,T,S,w):C)){k=!1;break}R=R||"constructor"==V}return k&&!R&&(o=b.constructor,l=E.constructor,o!=l)&&"constructor"in b&&"constructor"in E&&!("function"==typeof o&&o instanceof o&&"function"==typeof l&&l instanceof l)&&(k=!1),w.delete(b),w.delete(E),k}return!1}function Ut(t){var e;return H(t)&&(e=t,!(dt&&dt in e))&&(Ht(t)||ot(t)?ht:R).test(b(t))}function jt(t){if("function"==typeof t)return t;if(null==t)return Xt;if("object"==typeof t)if(q(t)){var r=t[0],a=t[1];return m(r)&&Gt(a)?Kt(A(r),a):function(t){var e,i=function(t,e,i){t=null==t?void 0:Rt(t,e);return void 0===t?i:t}(t,r);return void 0===i&&i===a?(e=r,null!=(t=t)&&function(t,e,i){e=m(e,t)?[e]:Nt(e);var r,a=-1,n=e.length;for(;++a<n;){var o=A(e[a]);if(!(r=null!=t&&i(t,o)))break;t=t[o]}if(r)return r;return!!(n=t?t.length:0)&&zt(n)&&xt(o,n)&&(q(t)||Wt(t))}(t,e,Ct)):Lt(a,i,void 0,j|Y)}}else{var e=t,i=function(t){var e=$(t),i=e.length;for(;i--;){var r=e[i],a=t[r];e[i]=[r,a,Gt(a)]}return e}(e);return 1==i.length&&i[0][2]?Kt(i[0][0],i[0][1]):function(t){return t===e||function(t,e,i,r){var a=i.length,n=a,o=!r;if(null==t)return!n;for(t=Object(t);a--;){var s=i[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<n;){var l=(s=i[a])[0],c=t[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in t))return!1}else{var d,p=new J;if(!(void 0===(d=r?r(c,u,l,t,e,p):d)?Lt(u,c,r,j|Y,p):d))return!1}}return!0}(t,e,i)}}var n,o;return m(t=t)?(n=A(t),function(t){return null==t?void 0:t[n]}):(o=t,function(t){return Rt(t,o)})}function Yt(t){if(i="function"==typeof(i=(e=t)&&e.constructor)&&i.prototype||o,e!==i)return gt(t);var e,i,r,a=[];for(r in Object(t))F.call(t,r)&&"constructor"!=r&&a.push(r);return a}function Nt(t){return q(t)?t:Mt(t)}function Bt(t,e,i,r,a,n){var o=a&Y,s=t.length,l=e.length;if(s!=l&&!(o&&s<l))return!1;l=n.get(t);if(l&&n.get(e))return l==e;var c=-1,u=!0,d=a&j?new f:void 0;for(n.set(t,e),n.set(e,t);++c<s;){var p,h=t[c],y=e[c];if(void 0!==(p=r?o?r(y,h,c,e,t,n):r(h,y,c,t,e,n):p)){if(p)continue;u=!1;break}if(d){if(!function(t,e){for(var i=-1,r=t?t.length:0;++i<r;)if(e(t[i],i,t))return 1}(e,function(t,e){return!d.has(e)&&(h===t||i(h,t,r,a,n))&&d.add(e)})){u=!1;break}}else if(h!==y&&!i(h,y,r,a,n)){u=!1;break}}return n.delete(t),n.delete(e),u}function v(t,e){var i,r,t=t.__data__;return("string"==(r=typeof(i=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?t["string"==typeof e?"string":"hash"]:t.map}function g(t,e){e=e;t=null==(t=t)?void 0:t[e];return Ut(t)?t:void 0}var W=function(t){return l.call(t)};function xt(t,e){return!!(e=null==e?_:e)&&("number"==typeof t||C.test(t))&&-1<t&&t%1==0&&t<e}function m(t,e){var i;if(!q(t))return"number"==(i=typeof t)||"symbol"==i||"boolean"==i||null==t||$t(t)||D.test(t)||!P.test(t)||null!=e&&t in Object(e)}function Gt(t){return t==t&&!H(t)}function Kt(e,i){return function(t){return null!=t&&t[e]===i&&(void 0!==i||e in Object(t))}}(n&&W(new n(new ArrayBuffer(1)))!=M||c&&W(new c)!=x||t&&W(t.resolve())!=w||mt&&W(new mt)!=K||i&&W(new i)!=I)&&(W=function(t){var e=l.call(t),t=e==G?t.constructor:void 0,t=t?b(t):void 0;if(t)switch(t){case At:return M;case bt:return x;case Et:return w;case _t:return K;case Tt:return I}return e});var Mt=Ft(function(t){t=null==(e=t)?"":function(t){var e;return"string"==typeof t?t:$t(t)?wt?wt.call(t):"":"0"==(e=t+"")&&1/t==-E?"-0":e}(e);var e,a=[];return O.test(t)&&a.push(""),t.replace(V,function(t,e,i,r){a.push(i?r.replace(k,"$1"):e||t)}),a});function A(t){var e;return"string"==typeof t||$t(t)?t:"0"==(e=t+"")&&1/t==-E?"-0":e}function b(t){if(null!=t){try{return pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ft(r,a){if("function"!=typeof r||a&&"function"!=typeof a)throw new TypeError("Expected a function");function n(){var t=arguments,e=a?a.apply(this,t):t[0],i=n.cache;return i.has(e)?i.get(e):(t=r.apply(this,t),n.cache=i.set(e,t),t)}return n.cache=new(Ft.Cache||h),n}function Jt(t,e){return t===e||t!=t&&e!=e}function Wt(t){return z(e=t)&&qt(e)&&F.call(t,"callee")&&(!ft.call(t,"callee")||l.call(t)==N);var e}Ft.Cache=h;var q=Array.isArray;function qt(t){return null!=t&&zt(t.length)&&!Ht(t)}function Ht(t){t=H(t)?l.call(t):"";return t==T||t==S}function zt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=_}function H(t){var e=typeof t;return t&&("object"==e||"function"==e)}function z(t){return!!t&&"object"==typeof t}function $t(t){return"symbol"==typeof t||z(t)&&l.call(t)==rt}var Zt,Qt=a?(Zt=a,function(t){return Zt(t)}):function(t){return z(t)&&zt(t.length)&&!!e[l.call(t)]};function $(t){return(qt(t)?It:Yt)(t)}function Xt(t){return t}ee.exports=function(t,e,i){var r=q(t)?U:nt,a=arguments.length<3;return r(t,jt(e),i,a,Pt)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,i){e.exports={env:window.PUBSTACK_VIDEO_CONFIG.env,access_token:window.PUBSTACK_VIDEO_CONFIG.access_token,publisher_id:window.PUBSTACK_VIDEO_CONFIG.publisher_id,website:{id:window.PUBSTACK_VIDEO_CONFIG.website.id,c3:window.PUBSTACK_VIDEO_CONFIG.website.c3,title:window.PUBSTACK_VIDEO_CONFIG.website.title}}},{}],16:[function(t,e,n){var i=t("@babel/runtime/helpers/interopRequireDefault"),T=i(t("@babel/runtime/regenerator")),S=i(t("@babel/runtime/helpers/asyncToGenerator")),w=t("lodash.reduce"),I=t("lodash.findindex"),P=t("lodash.foreach"),D=t("./players/youtube.player"),O=t("./players/nw18.vidgyor.player"),V=t("./players/videojs.player"),k=t("./utils/http.utils"),R=t("./utils/loader.utils"),C=t("./utils/dom.utils"),L=t("./utils/log.utils"),r=t("./utils/helpers.utils"),U=t("./utils/newrelic.utils"),j="",Y="",N="",B="",x="",G="",K="",M="",F="",J="",W="",q="",H=!1,z="",$="",Z=!1,Q="",a=function(){var e=(0,S.default)(T.default.mark(function t(e){var i,r,a,n,o,f,s,l,c,u,v,d,p,h,y,g,m,A,b,E,_;return T.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=C.fetchFallbackTargets(),r=C.fetchV1Targets(),a=C.fetchVidgyorTargets(),0===i.length&&0===r.length&&0===a.length)return t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: DIV_ATTRIBUTE_MISSING"});t.next=5;break;case 5:n=[],o={},f=(new Date).getTime(),L.log("[NW18-PLAYER][VIDGYORJS] Player Time started ".concat(new Date)),P(i,function(t){j=t.city,Y=t.state,N=t.district,B=t.language,x=t.videotype,G=t.articleid,K=t.sectionname,M=t.videoevent,$=t.isAdDisable,Z=!!t.ampEvent,Q=t.placeholderImg,N=t.district,t.contentType,t.deskVideo,t.videoIdentifier,t.taboola,t.dataTag,t.articleType,t.authorType,t.agencyType,t.articleDate,t.pageUrl,t.videoTitle,t.ampFilter,n.push(t.id),0<t.keywords.length&&(o[t.id]=t.keywords.join(","))}),P(r,function(t){j=t.city,Y=t.state,N=t.district,B=t.language,x=t.videotype,G=t.articleid,K=t.sectionname,M=t.videoevent,$=t.isAdDisable,Z=!!t.ampEvent,Q=t.placeholderImg,N=t.district,t.contentType,t.deskVideo,t.videoIdentifier,t.taboola,t.dataTag,t.articleType,t.authorType,t.agencyType,t.articleDate,t.pageUrl,t.videoTitle,t.ampFilter,n.push(t.id),0<t.keywords.length&&(o[t.id]=t.keywords.join(","))}),P(a,function(t){j=t.city,Y=t.state,N=t.district,B=t.language,x=t.videotype,G=t.articleid,K=t.sectionname,M=t.videoevent,$=t.isAdDisable,Z=!!t.ampEvent,Q=t.placeholderImg,N=t.district,t.contentType,t.deskVideo,t.videoIdentifier,t.taboola,t.dataTag,t.articleType,t.authorType,t.agencyType,t.articleDate,t.pageUrl,t.videoTitle,t.ampFilter,n.push(t.id),0<t.keywords.length&&(o[t.id]=t.keywords.join(","))}),F=/iPhone|iPad/i.test(navigator.userAgent),H=/IEMobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|iPad|Blackberry|PlayBook|BB10|Mobile Safari|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent),J=window.location.href.replace("#","&"),W=window.location.hostname,q="&section_name=[".concat(K,"]&Content_Type=[").concat(x,"]&State=[").concat(Y,"]&District=[").concat(N,"]&Langauage=[").concat(B,"]&article_id=[").concat(G,"]"),s="";try{K&&(s+="%26section_VID_name%3D".concat(K)),x&&(s+="%26content_VID_type%3D".concat(x)),J&&(s+="%26page_VID_url%3D".concat(J)),G&&(s+="%26video_VID_id%3D".concat(G)),Y&&(s+="%26state_VID_name%3D".concat(Y)),j&&(s+="%26city_VID_name%3D".concat(j)),N&&(s+="%26district_VID_name%3D".concat(N)),W&&(s+="%26site_VID_name​%3D".concat(W)),B&&(s+="%26Langauage%3D".concat(B)),s.length&&(q="&cust_params="+s.replace("%26",""))}catch(t){console.log(t)}if(s={},l=e,L.log("".concat(n,", ").concat(o,", ").concat(j,", ").concat(Y,", ").concat(N,", ").concat(B,", ").concat(x,", ").concat(G,", ").concat(K,", ").concat(F,", ").concat(J,", ").concat(q)),L.log(l),l&&0!=Object.keys(l).length){t.next=29;break}return t.next=26,k.getVideoEmbedMetadata(n,o,j,Y,N,B,x,G,K,F,J,W,$,Z);case 26:l=t.sent,t.next=43;break;case 29:if(n.length==(null==(u=l)||null==(u=u.data)||null==(u=u.videos)?void 0:u.length))t.next=43;else{if(t.prev=30,u=(null==(u=l)||null==(u=u.data)?void 0:u.videos)||null,0<(c=(null==u?void 0:u.map(function(t){return t._id}))||[]).length)return u=n.filter(function(t){return!c.includes(t)}),t.next=37,k.getVideoEmbedMetadata(u,o,j,Y,N,B,x,G,K,F,J,W,$,Z);t.next=38}break;case 37:s=t.sent;case 38:t.next=43;break;case 40:t.prev=40,t.t0=t.catch(30),console.log(t.t0);case 43:if(l.success){t.next=51;break}return L.log("[NW18-PLAYER][LOG] Error fetching video embed data from server!"),L.log("[NW18-PLAYER][LOG] ----------------------- SERVER RESPONSE - START ------------------------"),L.log("[NW18-PLAYER][LOG] ".concat(s.message," ").concat(l.message)),L.log("[NW18-PLAYER][LOG] Video IDs: ".concat(n.join(", "))),L.log("[NW18-PLAYER][LOG] ----------------------- SERVER RESPONSE - END ------------------------"),null!=U&&U.addPageAction("DATA_ERROR",{errMessage:null==(u=l)?void 0:u.message,errType:"STREAM_MISSING",vidMongoId:null==n?void 0:n.join(",")}),t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: STREAM_MISSING"});case 51:if(l.data.videos&&0<l.data.videos.length){t.next=56;break}return L.log("[NW18-PLAYER][LOG] Video embed data not found!"),L.log("[NW18-PLAYER][LOG] Video IDs: ".concat(n.join(", "))),null!=U&&U.addPageAction("DATA_ERROR",{errMessage:"Video embed data not found",errType:"STREAM_MISSING",vidMongoId:null==n?void 0:n.join(",")}),t.abrupt("return",{success:!1,message:"Embed codes or video metadata not found: STREAM_MISSING1"});case 56:v=l.data.videos;try{null!=(d=s)&&null!=(d=d.data)&&d.videos&&0<(null==(p=s)||null==(p=p.data)||null==(p=p.videos)?void 0:p.length)&&(v=v.concat(null==(h=s)||null==(h=h.data)?void 0:h.videos))}catch(t){console.log(t)}return y=w(v,function(t,e){return t||"YOUTUBE"===e.player},!1),g=w(v,function(t,e){return t||"VIDEOJS"===e.player},!1),m=w(v,function(t,e){return t||"VIDGYORJS"===e.player},!1),A=function(){var t=(0,S.default)(T.default.mark(function t(){return T.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(L.log("[NW18-PLAYER][LOG] Skipping loading YouTube Iframe Library!"),y){t.next=3;break}return t.abrupt("return");case 3:return L.log("[NW18-PLAYER][LOG] Loading YouTube Iframe Library!"),t.next=6,R.loadYouTubeSources();case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),b=function(){var t=(0,S.default)(T.default.mark(function t(){var e;return T.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(g){t.next=3;break}return L.log("[NW18-PLAYER][LOG] Skipping loading Google IMA SDK & VideoJS Library!"),t.abrupt("return");case 3:return L.log("[NW18-PLAYER][LOG] Loading Google IMA SDK!"),e="".concat(window.location.protocol,"//imasdk.googleapis.com/js/sdkloader/ima3.js"),t.next=7,R.loadJavascript(e,!1);case 7:return L.log("[NW18-PLAYER][LOG] Loading VideoJS Library!"),t.next=10,Promise.all([R.loadComscore(),R.loadVideoJSLibrary(),R.loadVideoJSStylesheet()]);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),E=function(){var t=(0,S.default)(T.default.mark(function t(){return T.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m){t.next=4;break}return null!=U&&U.addPageAction("DATA_ERROR",{errMessage:"Vidgyor Video Id not found",errType:"PLAYER_DATA_MISSING",vidMongoId:null==n?void 0:n.join(",")}),L.log("[NW18-PLAYER][LOG] Skipping loading Google IMA SDK & VidgyorJS Library!"),t.abrupt("return");case 4:return L.log("[NW18-PLAYER][LOG] Loading VidgyorJS Library!"),t.next=7,Promise.all([R.loadVidgyorJSLibrary()]);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.next=66,Promise.all([A(),b(),E()]);case 66:return _=[],P(i,function(e){var t,i,r,a,n,o,s,l,c,u,d,p=I(v,function(t){return(null==(t=t.youtube)?void 0:t.id)===e.id});-1===p?L.log("[NW18-PLAYER][LOG] Video metadata not found for YouTube ID: ".concat(e.id,"!")):(t=(u=v[p])._id,i=u.title,r=u.youtube,a=u.playlist,n=u.sources,o=u.duration,s=u.player,l=u.ad_tag,c=u.ad_tag_desktop,d=u.ad_tag_pwa,u=u.chapters,d&&c&&(z=H?d:c,z+=q,J)&&(z=z&&z.replace("[placeholder]",J)),d={video:{id:t,title:i,youtube:r,playlist:a,sources:n,duration:o,category:e.category,articleid:e.articleid,playerid:e.playerid,playerviewport:e.playerviewport,setautoplay:e.setautoplay,videoslot:e.videoslot,disablecontrols:e.disablecontrols,ampEvent:e.ampEvent,pipVal:e.pipVal,videoevent:M,videotype:x,ad_tag:"true"!=$&&(l||z)||null,startTime:f,chapters:u,placeholderImg:Q,isAdDisable:$,videoEvent:e.videoevent,district:e.district,contentType:e.contentType,deskVideo:e.deskVideo,videoIdentifier:e.videoIdentifier,taboola:e.taboola,dataTag:e.dataTag,articleType:e.articleType,authorType:e.authorType,agencyType:e.agencyType,articleDate:e.articleDate,pageUrl:e.pageUrl,domainName:e.domainName,videoTitle:e.videoTitle,ampFilter:e.ampFilter},config:{autoplay:v[p].autoplay},player:s,target:e.target,embed_type:e.embed_type,platform:e.platform},_.push(d))}),P(r,function(e){var t,i,r,a,n,o,s,l,c,u,d,p,h,y=I(v,function(t){return t._id===e.id});-1===y?L.log("[NW18-PLAYER][LOG] Video metadata not found for Video ID: ".concat(e.id,"!")):(t=(p=v[y])._id,i=p.title,r=p.youtube,a=p.playlist,n=p.sources,o=p.duration,s=p.player,l=p.ad_tag,c=p.stream_token,u=p.thumbnail,d=p.ad_tag_desktop,h=p.ad_tag_pwa,p=p.chapters,h&&d&&(z=H?h:d,z+=q,J)&&(z=z&&z.replace("[placeholder]",J)),h={video:{id:t,title:i,youtube:r,playlist:a,sources:n,duration:o,category:e.category,articleid:e.articleid,playerid:e.playerid,playerviewport:e.playerviewport,setautoplay:e.setautoplay,videoslot:e.videoslot,disablecontrols:e.disablecontrols,ampEvent:e.ampEvent,pipVal:e.pipVal,videoevent:M,videotype:x,token:c,thumbnail_img:u,ad_tag:"true"!=$&&(l||z)||null,startTime:f,chapters:p,placeholderImg:Q,isAdDisable:$,videoEvent:e.videoevent,district:e.district,contentType:e.contentType,deskVideo:e.deskVideo,videoIdentifier:e.videoIdentifier,taboola:e.taboola,dataTag:e.dataTag,articleType:e.articleType,authorType:e.authorType,agencyType:e.agencyType,articleDate:e.articleDate,pageUrl:e.pageUrl,domainName:e.domainName,videoTitle:e.videoTitle,ampFilter:e.ampFilter},config:{autoplay:v[y].autoplay},player:s,target:e.target,embed_type:e.embed_type,platform:e.platform},_.push(h))}),P(a,function(e){var t,i,r,a,n,o,s,l,c,u,d,p,h,y=I(v,function(t){return t._id===e.id});-1===y?(null!=U&&U.addPageAction("DATA_ERROR",{errMessage:"Vidgyor Metadata Video Id not found",errType:"PLAYER_DATA_MISSING",vidMongoId:null==e?void 0:e.id}),L.log("[NW18-PLAYER][LOG] Video metadata not found for Video ID: ".concat(e.id,"!"))):(t=(p=v[y])._id,i=p.title,r=p.youtube,a=p.playlist,n=p.sources,o=p.duration,s=p.player,l=p.ad_tag,c=p.stream_token,u=p.thumbnail,d=p.ad_tag_desktop,h=p.ad_tag_pwa,p=p.chapters,h&&d&&(z=H?h:d,z+=q,J)&&(z=z&&z.replace("[placeholder]",J)),h={video:{id:t,title:i,youtube:r,playlist:a,sources:n,duration:o,category:e.category,articleid:e.articleid,playerid:e.playerid,playerviewport:e.playerviewport,setautoplay:e.setautoplay,videoslot:e.videoslot,disablecontrols:e.disablecontrols,ampEvent:e.ampEvent,pipVal:e.pipVal,videoevent:M,videotype:x,token:c,thumbnail_img:u,ad_tag:"true"!=$&&(l||z)||null,startTime:f,chapters:p,placeholderImg:Q,isAdDisable:$,videoEvent:e.videoevent,district:e.district,contentType:e.contentType,deskVideo:e.deskVideo,videoIdentifier:e.videoIdentifier,taboola:e.taboola,dataTag:e.dataTag,articleType:e.articleType,authorType:e.authorType,agencyType:e.agencyType,articleDate:e.articleDate,pageUrl:e.pageUrl,domainName:e.domainName,videoTitle:e.videoTitle,ampFilter:e.ampFilter},config:{autoplay:v[y].autoplay},player:s,target:e.target,embed_type:e.embed_type,platform:e.platform},_.push(h))}),P(_,function(t){var e;"YOUTUBE"===t.player?(e=new D(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"YOUTUBE",player:e})):"VIDEOJS"===t.player?(e=new V(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"VIDEOJS",player:e})):"VIDGYORJS"===t.player&&(e=new O(t.target,t.video,t.platform,t.embed_type,t.config),window.PUBSTACK_PLAYERS.push({library:"VIDGYORJS",player:e}))}),t.abrupt("return",{success:!1,message:"Players initialized successfully for embed codes"});case 72:case"end":return t.stop()}},t,null,[[30,40]])}));return function(t){return e.apply(this,arguments)}}();r.setupWebPlayer(),L.log("[NW18-PLAYER][LOG] Video library initialization completed!"),window.refreshPubstackPlayers=function(t){r.pushToProcessingQueue(a(t))}},{"./players/nw18.vidgyor.player":17,"./players/videojs.player":18,"./players/youtube.player":19,"./utils/dom.utils":21,"./utils/helpers.utils":23,"./utils/http.utils":24,"./utils/loader.utils":25,"./utils/log.utils":26,"./utils/newrelic.utils":27,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":10,"lodash.findindex":11,"lodash.foreach":12,"lodash.reduce":14}],17:[function(t,e,i){var r=t("@babel/runtime/helpers/interopRequireDefault"),a=r(t("@babel/runtime/regenerator")),n=r(t("@babel/runtime/helpers/asyncToGenerator")),o=r(t("@babel/runtime/helpers/defineProperty")),s=r(t("@babel/runtime/helpers/classCallCheck")),l=r(t("@babel/runtime/helpers/createClass"));function c(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach(function(t){(0,o.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var h=t("../utils/log.utils"),d=t("../utils/helpers.utils"),p=t("../utils/google-analytics.utils"),y=t("../utils/comscore.utils"),f=t("../utils/loader.utils"),v=t("../utils/newrelic.utils"),r=function(){return(0,l.default)(function t(e,i,r,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=((0,s.default)(this,t),this.target=e,this.video=i,this.platform=r,this.embedType=a,this.playerID=d.generatePlayerID("VIDGYORJS"),this.AD_LOADING_STATE=-2,this.INITIALIZE_STATE=-1,this.READY_STATE=0,this.AUTOPLAY_STATE=1,this.PLAY_STATE=2,this.PAUSE_STATE=3,this.END_STATE=4,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousAdState=this.INITIALIZE_STATE,this.currentAdState=this.INITIALIZE_STATE,this.playFirstTime=1,this.autoplayFirstTime=1,this.bufferResume=1,this.previousProgressTime=0,this.videoType="",this.updatedsrc="",this.finalsrc="",this.isInViewport="",this.isInViewportWidget="",this.controlSwitch="",this.newrelicData={vidPlayerName:"VIDGYORJS",vidPlayerId:this.playerID,vidMongoId:this.video.id,vidDuration:this.video.duration,vidTitle:this.video.title,vidUserAgent:null==(e=navigator)?void 0:e.userAgent},this.recognisedDomainsForRetry=["stgassam-mt.news18.com","betaassam-mt.news18.com","assam.news18.com","images.news18.com","telugu.news18.com"],this.isAdSupported=null!==this.video.ad_tag&&!window.PUBSTACK_VIDEO_STATE.adblocker,this.vastTag=null,this.isAdSupported&&(this.vastTag=d.generateVASTTag(this.video.ad_tag,this.video.title,this.video.category,this.video.keywords)),this.startEvent="click",(window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/Android/i))&&(this.startEvent="touchend"),this.initializeConfig(n),this.initializePlayerConfig(),{unique_id:this.video.id,player:"VIDGYORJS",video_id:this.video.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent,videoEvent:this.video.videoEvent,district:this.video.district,deskVideo:this.video.deskVideo,videoIdentifier:this.video.videoIdentifier,taboola:this.video.taboola,dataTag:this.video.dataTag,articleType:this.video.articleType,authorType:this.video.authorType,agencyType:this.video.agencyType,articleDate:this.video.articleDate,pageUrl:this.video.pageUrl,videoTitle:this.video.videoTitle,ampFilter:this.video.ampFilter,domainName:this.video.domainName});this.googleAnalytics=new p.PlayerAnalytics(this.playerID,r),this.comscoreAnalytics={},this.playerErrorCount=0,this.qualitySwitchCount=0,this.loadTime=0,this.init(),this.player.on("playerload",function(){var t=(new Date).toLocaleString(),t=(h.log("Callback for - Player Loaded ".concat(t)),h.log(i),"VOD_".concat(i.videoevent,"_Vidgyor"));gtag("event",t,{event:"custom_dimensions",video_action:"PlayerLoaded",article_id:i.articleid,video_identifier:i.videoevent,video_title:i.videoTitle})})},[{key:"initializeConfig",value:function(t){this.config=u(u({},{autoplay:!1,loop:!1,muted:!0,preload:"metadata",aspectRatio:"16:9",autoSetup:!1,fluid:!0,language:"en",nativeControlsForTouch:!0,fullscreen:{options:{navigationUI:"show"}},html5:{vhs:{overrideNative:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},playbackRates:[.5,1,1.5,2],responsive:!0,sources:[],poster:[],suppressNotSupportedError:!0,analytics:!0}),t)}},{key:"initializePlayerConfig",value:function(){var t,e,i,r=this,a=("video/mp4"===this.video.sources[0].type?(this.videoType="mp4",this.updatedsrc=this.video.sources[0].src,this.finalsrc=this.updatedsrc):(this.videoType="m3u8",this.updatedsrc=this.video.sources[0].src.split("?"),this.finalsrc=this.updatedsrc[0]),"true"===this.video.disablecontrols?this.controlSwitch=!1:this.controlSwitch=!0,/IEMobile|Windows Phone|Lumia|Android|webOS|iPhone|iPod|iPad|Blackberry|PlayBook|BB10|Mobile Safari|Opera Mini|\bCrMo\/|Opera Mobi/i.test(navigator.userAgent)),n=10,o=360,s=0,l=[];try{a&&(n=160,o=window.innerWidth/2)}catch(t){console.log(t)}try{var c=new URLSearchParams(window.location.search),s=c.has("seekto")?c.get("seekto"):"";if(this.video.chapters&&0<this.video.chapters.length)for(var u=0;u<this.video.chapters.length;u++){var d=this.video.chapters[u].duration;d=-1<(d=d.toString()).indexOf(":")?(d=d.split(":"),60*parseInt(d[0])+parseInt(d[1])):parseInt(d),l.push({duration:d,title:this.video.chapters[u].title}),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"]: Chapters added - ").concat(JSON.stringify(l)))}}catch(t){l=[],console.log(t)}this.playerConfig={accountId:"vprism",profile:"62bd56e4517f060009f59961/abded892e2461_vod",playerDivId:this.video.playerid,isAutoPlay:"shorts"===this.video.contentType,isMute:"shorts"!==this.video.contentType,posterImageUrl:this.video.placeholderImg||this.video.thumbnail_img,tapToUnmute:!1,disableAds:"true"===this.video.isAdDisable,pip:"true"===this.video.pipVal?1:0,piv:"",pipControls:1,streamUrl:this.finalsrc,adTag:this.video.ad_tag,mediaType:this.videoType,token:"?hdnts=".concat(this.video.token),controls:this.controlSwitch,pipconf:"true"===this.video.pipVal?(a?"r,20,".concat(n,",180,360,100,"):"r,30,".concat(n,",180,250,180,")).concat(o):"",startFrom:s,chapters:l},this.currentDomain=window.location.hostname;try{this.recognisedDomainsForRetry.includes(this.currentDomain)&&(e=(t=new URLSearchParams(window.location.search)).has("language")?t.get("language"):"",i=!0,i=("images.news18.com"!=this.currentDomain||"asm"==e&&"tel"==e)&&i)&&(this.playerConfig.accountId="mktest",this.playerConfig.profile="error-test")}catch(t){console.log(t)}var p=["autoplay","preload","autoSetup","fluid","language","nativeControlsForTouch","fullscreen","html5","playbackRates","responsive","sources","suppressNotSupportedError","analytics","events"];Object.keys(this.config).forEach(function(t){-1===p.indexOf(t)&&(r.playerConfig[t]=r.config[t])})}},{key:"validateTarget",value:function(){var t,e,i;return this.target&&this.target instanceof HTMLDivElement?(t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),i=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name"),t||e||i?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}):{status:!1,message:"Target is null or target is not a valid Div element."}}},{key:"updatePlayerTarget",value:function(){this.target.innerHTML="",this.videoTarget=document.createElement("div"),this.videoTarget.id="closeButtonContainer",this.target.appendChild(this.videoTarget)}},{key:"loadVideoAD",value:function(){this.player.ima.initializeAdDisplayContainer(),this.player.ima.setContentWithAdTag(null,this.vastTag,!1),this.player.ima.requestAds(),this.currentAdState=this.READY_STATE}},{key:"initializeGoogleIMA",value:function(){var t=this,e=this;this.player.on("aderror",function(){var t;e.currentAdState=this.END_STATE,e.googleAnalytics.fireAdError("adError",this,!1),null!=v&&v.addPageAction("AD_ERROR",u(u({},e.newrelicData),{},{errMessage:this,vidAdUrl:null==e||null==(t=e.video)?void 0:t.ad_tag}))}),this.player.on("adsready",function(){t.onAdManagerReady.bind(t)()})}},{key:"updatePlayer",value:function(){var t=this;window.VIDGYOR.initPlayer(this.playerConfig),this.player=new window.VidgyorPlayer(this.video.playerid),this.player.ready(function(){t.onReady.bind(t)()}),this.initializeGoogleIMA()}},{key:"init",value:(t=(0,n.default)(a.default.mark(function t(){var e;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.validateTarget()).status){t.next=3;break}throw new Error(e.message);case 3:return this.updatePlayerTarget(),this.updatePlayer(),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Now load Comscore after vidgyor initialize!")),t.next=8,f.loadComscore();case 8:e={unique_id:this.video.id,duration:this.video.duration,title:this.video.title},this.comscoreAnalytics=new y.PlayerComscoreAnalytics("VIDGYORJS",this.playerID,e);case 10:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"checkDynamicViewport",value:function(t){var e=this,t=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(t),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){try{e.currentDomain=window.location.hostname,1<=e.playerErrorCount&&e.recognisedDomainsForRetry.includes(e.currentDomain)&&(null!=v&&v.addPageAction("PLAYER_SUCCESS_AFTER_RETRY",u(u({},null==e?void 0:e.newrelicData),{},{errMessage:e.playerErrorCount,vidStreamUrl:null==e?void 0:e.finalsrc,vidPlayedTime:Math.round(e.player.currentTime())})),e.playerErrorCount++)}catch(t){console.log(t),null!=v&&v.addPageAction("PLAYER_SUCCESS_AFTER_RETRY",{errMessage:t.message})}var t;e.currentState!==e.PAUSE_STATE&&(t=Math.round(e.player.currentTime()),e.previousProgressTime!==t)&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%30==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1)},500)}},{key:"onScroll",value:function(){function t(){if(i.isInViewport&&i.currentState!==i.PLAY_STATE)if(i.currentState=i.AUTOPLAY_STATE,i.player.play(),1===i.autoplayFirstTime&&1===i.bufferResume){i.googleAnalytics.fireEvent("AutoPlay",!0),i.autoplayFirstTime=0;try{var t=((new Date).getTime()-i.video.startTime)/1e3;h.log("[NW18-PLAYER][VIDGYORJS] Time taken for autoplay ".concat(t,"s , current time :  ").concat(new Date)),null!=v&&v.addPageAction("PLAYER_READY",u(u({},i.newrelicData),{},{timeToPlay:t,timeToReady:i.video.readyTime}))}catch(t){console.log(t)}}else 0===i.autoplayFirstTime&&0===i.bufferResume&&(i.googleAnalytics.fireEvent("Buffer Resume",!0),i.bufferResume=1);i.isInViewport||i.currentState!==i.PLAY_STATE||i.video.pipVal||i.player.pause()}var e,i=this;0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(e=this.target.getBoundingClientRect(),this.isInViewport=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom);return this.isAdSupported?this.isInViewport?this.currentAdState===this.INITIALIZE_STATE?(this.currentAdState=this.READY_STATE,h.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video AD is ready to play!")),t()):this.currentAdState===this.PAUSE_STATE?(this.player.adResume(),h.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video Ad playback is resume"))):this.currentAdState!==this.END_STATE&&this.currentAdState!==this.READY_STATE||t():this.isInViewport||this.currentAdState!==this.PLAY_STATE?t():this.player.adPause():t(),null}},{key:"initWidgetImpressionTracker",value:function(){var t,i=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget||window.addEventListener("scroll",function t(){var e;0<i.video.playerviewport.length?i.isInViewportWidget=i.checkDynamicViewport(i.video.playerid):(e=i.target.getBoundingClientRect(),i.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),i.isInViewportWidget&&window.removeEventListener("scroll",t)})}},{key:"onReady",value:function(){var e=this;h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.currentState=this.READY_STATE;var t=((new Date).getTime()-this.video.startTime)/1e3,i=(h.log("[NW18-PLAYER][VIDGYORJS] Time taken for player ready ".concat(t)),this.video.readyTime=t,"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(t=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport&&(e.isInViewport=!0,"shorts"!==e.video.contentType)&&e.onScroll()},{threshold:this.video.playerviewport}).observe(t)):"shorts"!==this.video.contentType&&this.onScroll()),this.player.on("timeupdate",function(){return e.initProgressObserver()}),this.player.on("play",function(){e.onPlay(),e.currentState=e.PLAY_STATE}),this.player.on("pause",function(){e.onPause(),e.currentState=e.PAUSE_STATE}),this.player.on("ended",function(){e.onComplete(),e.currentState=e.END_STATE}),this),t=(this.player.on("playererror",function(){i.googleAnalytics.firePlayerError("playerError",this,!1);try{var t,e;i.playerErrorCount=i.playerErrorCount+1,1==i.playerErrorCount?null!=v&&v.addPageAction("PLAYER_ERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc,vidPlayedTime:null==i||null==(t=i.player)?void 0:t.currentTimeSecs})):null!=v&&v.addPageAction("DUPLICATE_PLAYER_ERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc,vidPlayedTime:null==i||null==(e=i.player)?void 0:e.currentTimeSecs}))}catch(t){console.log(t),null!=v&&v.addPageAction("PLAYER_ERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc}))}}),this.player.on("errorAfterError",function(){var t;i.googleAnalytics.firePlayerError("errorAfterError",this,!1),null!=v&&v.addPageAction("PLAYER_ERRORAFTERERROR",u(u({},null==i?void 0:i.newrelicData),{},{errMessage:this,vidStreamUrl:null==i?void 0:i.finalsrc,vidPlayedTime:null==i||null==(t=i.player)?void 0:t.currentTimeSecs}))}),this.player.on("seekbackward",function(){h.log("Callback for - Seek Backward"),i.googleAnalytics.fireEvent("seekBackward",!1)}),this.player.on("seekforward",function(){h.log("Callback for - Seek Forward"),i.googleAnalytics.fireEvent("seekForward",!1)}),this.player.on("seek",function(){h.log("Callback for - Seek"),i.googleAnalytics.fireEvent("seek",!1)}),this.player.on("userunmute",function(){h.log("Callback for - User Unmute"),i.googleAnalytics.fireEvent("userUnmute",!1)}),this.player.on("usermute",function(){h.log("Callback for - User Mute"),i.googleAnalytics.fireEvent("userMute",!1)}),this.player.on("rewind",function(){h.log("Callback for - Rewind"),i.googleAnalytics.fireEvent("rewind",!1)}),this.player.on("fullScreen",function(){h.log("Callback for - Fullscreen"),i.googleAnalytics.fireEvent("fullScreen",!1)}),this.player.on("forward",function(){h.log("Callback for - Forward"),i.googleAnalytics.fireEvent("forward",!1)}),this.player.on("contentstart",function(){var t=(new Date).toLocaleString();h.log("Callback for - Content Start ".concat(t)),i.googleAnalytics.fireEvent("contentStart",!1)}),this.player.on("buffer",function(){h.log("Callback for - Buffer"),i.googleAnalytics.fireEvent("buffer",!1)}),this.player.on("adclick",function(){h.log("Callback for - Ad Click"),i.googleAnalytics.fireEvent("adClick",!1)}),this.player.on("adrequest",function(){h.log("Callback for - Ad Requested"),i.googleAnalytics.fireEvent("adRequest",!1)}),this.player.on("adblock",function(){h.log("Callback for - Ad Block"),i.googleAnalytics.fireEvent("adBlock",!1)}),this.player.on("qualitylevel",function(){h.log("Callback for - Quality Level ".concat(this.toString())),console.log(this.toString()),"[object Window]"!=this.toString()&&i.googleAnalytics.fireInteractiveEvent("qualityLevel",this.toString(),!1)}),this.player.on("qualityswitchcount",function(){h.log("Callback for - Quality Switch Count ".concat(i.qualitySwitchCount)),i.qualitySwitchCount=i.qualitySwitchCount+1,i.googleAnalytics.fireInteractiveEvent("qualitySwitchCount",i.qualitySwitchCount,!1)}),this.player.on("videowatchpercent",function(){h.log("Callback for - Video Watch Percent ".concat(this.toString())),i.googleAnalytics.fireInteractiveEvent("videoWatchPercent",this.toString(),!1)}),this.player.on("seekend",function(){h.log("Callback for - Seekend ".concat(this.toString())),i.googleAnalytics.fireInteractiveEvent("seekEnd",this.toString(),!1)}),this.player.on("seekduration",function(){h.log("Callback for - Seek Duration ".concat(this.toString())),i.googleAnalytics.fireInteractiveEvent("seekDuration",this.toString(),!1)}),this.player.on("qualitylevelmanual",function(){h.log("Callback for - Quality Level Manual ".concat(this.toString())),i.googleAnalytics.fireInteractiveEvent("qualityLevelManual",this.toString(),!1)}),this.player.on("error",this.onError.bind(this)),this.onScroll.bind(this));window.addEventListener("scroll",t,!0),this.initWidgetImpressionTracker()}},{key:"onAdManagerReady",value:function(){var e=this;this.player.on("adstart",function(){e.currentAdState=e.PLAY_STATE,e.googleAnalytics.fireAdImpression(),e.googleAnalytics.fireAdEvent("AutoPlay",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback is started"))}),this.player.on("adpaused",function(){e.currentAdState=e.PAUSE_STATE,e.googleAnalytics.fireAdEvent("Pause",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback is paused"))}),this.player.on("adresume",function(){e.currentAdState=e.PLAY_STATE,e.googleAnalytics.fireAdEvent("Resume",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback is resume"))}),this.player.on("adcomplete",function(){e.currentAdState=e.END_STATE,e.googleAnalytics.fireAdEvent("Complete",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback is complete")),e.comscoreAnalytics.stopAD(),e.comscoreAnalytics.startVOD()}),this.player.on("adskip",function(){e.currentAdState=e.END_STATE,e.googleAnalytics.fireAdEvent("Skipped",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback is skipped")),e.comscoreAnalytics.stopAD(),e.comscoreAnalytics.startVOD()}),this.player.on("firstquartile",function(){var t=e.player.adDuration(),t=(e.currentAdState=e.PLAY_STATE,"Ad First Quartile, Total Time - ".concat(t,"s"));e.googleAnalytics.fireAdEvent(t,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback first quartile completed"))}),this.player.on("midpoint",function(){var t=e.player.adDuration(),t=(e.currentAdState=e.PLAY_STATE,"Ad Midpoint, Total Time -  ".concat(t,"s"));e.googleAnalytics.fireAdEvent(t,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback midpoint completed"))}),this.player.on("thirdquartile",function(){var t=e.player.adDuration(),t=(e.currentAdState=e.PLAY_STATE,"Ad Third Quartile, Total Time -  ".concat(t,"s"));e.googleAnalytics.fireAdEvent(t,!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(e.playerID,"][EVENT] Video Ad playback third quartile completed"))})}},{key:"onPlay",value:function(){this.currentState===this.END_STATE?(this.comscoreAnalytics.reset(),this.googleAnalytics.fireEvent("Play",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!"))):this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState===this.AUTOPLAY_STATE?h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")):this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):"shorts"===this.video.contentType&&1===this.autoplayFirstTime?(this.googleAnalytics.fireEvent("AutoPlay",!0),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video autoplay for shorts triggered!")),this.autoplayFirstTime=0):h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")),this.comscoreAnalytics.startVOD()}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.comscoreAnalytics.stopVOD(),this.bufferResume=0,h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),this.comscoreAnalytics.stopVOD(),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] Video playback error!")),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ").concat(t)),h.log("[NW18-PLAYER][VIDGYORJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}]);var t}();e.exports=r},{"../utils/comscore.utils":20,"../utils/google-analytics.utils":22,"../utils/helpers.utils":23,"../utils/loader.utils":25,"../utils/log.utils":26,"../utils/newrelic.utils":27,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":10}],18:[function(t,e,i){var r=t("@babel/runtime/helpers/interopRequireDefault"),a=r(t("@babel/runtime/helpers/defineProperty")),o=r(t("@babel/runtime/helpers/classCallCheck")),n=r(t("@babel/runtime/helpers/createClass"));function s(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){(0,a.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var c=t("../utils/log.utils"),u=t("../utils/helpers.utils"),d=t("../utils/google-analytics.utils"),p=t("../utils/comscore.utils"),r=function(){return(0,n.default)(function t(e,i,r,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},e=((0,o.default)(this,t),this.target=e,this.video=i,this.platform=r,this.embedType=a,this.playerID=u.generatePlayerID("VIDEOJS"),this.AD_LOADING_STATE=-2,this.INITIALIZE_STATE=-1,this.READY_STATE=0,this.AUTOPLAY_STATE=1,this.PLAY_STATE=2,this.PAUSE_STATE=3,this.END_STATE=4,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousAdState=this.INITIALIZE_STATE,this.currentAdState=this.INITIALIZE_STATE,this.previousProgressTime=0,this.autoplayAd=1,this.autoplayFirstTime=1,this.bufferResume=1,this.playFirstTime=1,this.isInViewport="",this.isInViewportWidget="",this.isAdSupported=null!==this.video.ad_tag&&!window.PUBSTACK_VIDEO_STATE.adblocker,this.vastTag=null,this.isAdSupported&&(this.vastTag=this.video.ad_tag),this.startEvent="click",(window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/Android/i))&&(this.startEvent="touchend"),this.initializeConfig(n),this.initializePlayerConfig(),{unique_id:this.video.id,player:"VIDEOJS",video_id:this.video.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent,videoEvent:this.video.videoEvent,district:this.video.district,deskVideo:this.video.deskVideo,videoIdentifier:this.video.videoIdentifier,taboola:this.video.taboola,dataTag:this.video.dataTag,articleType:this.video.articleType,authorType:this.video.authorType,agencyType:this.video.agencyType,articleDate:this.video.articleDate,pageUrl:this.video.pageUrl,videoTitle:this.video.videoTitle,ampFilter:this.video.ampFilter,domainName:this.video.domainName}),i=(this.googleAnalytics=new d.PlayerAnalytics(this.playerID,e),{unique_id:this.video.id,duration:this.video.duration,title:this.video.title});this.comscoreAnalytics=new p.PlayerComscoreAnalytics("VIDEOJS",this.playerID,i),this.cdnToken=this.video.token,this.init()},[{key:"initializeConfig",value:function(t){var e={autoplay:!1,controls:!0,loop:!1,muted:!0,preload:"metadata",aspectRatio:"16:9",autoSetup:!1,fluid:!0,language:"en",nativeControlsForTouch:!0,fullscreen:{options:{navigationUI:"show"}},html5:{vhs:{overrideNative:!window.pubstackvideo.browser.IS_SAFARI,withCredentials:!0},nativeAudioTracks:!1,nativeVideoTracks:!1},playbackRates:[.5,1,1.5,2],responsive:!0,sources:[],poster:[this.video.thumbnail_img],suppressNotSupportedError:!0,analytics:!0};this.config=l(l({},e),t)}},{key:"initializePlayerConfig",value:function(){var e=this,i=(this.playerConfig={autoplay:!1},["autoplay","preload","autoSetup","fluid","language","nativeControlsForTouch","fullscreen","html5","playbackRates","responsive","sources","suppressNotSupportedError","analytics","events"]);Object.keys(this.config).forEach(function(t){-1===i.indexOf(t)&&(e.playerConfig[t]=e.config[t])})}},{key:"validateTarget",value:function(){var t,e,i;return this.target&&this.target instanceof HTMLDivElement?(t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),i=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name"),t||e||i?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}):{status:!1,message:"Target is null or target is not a valid Div element."}}},{key:"updatePlayerTarget",value:function(){var i=this;this.target.innerHTML="",this.videoTarget=document.createElement("video"),this.videoTarget.classList.add("pubstack-video-js"),this.videoTarget.classList.add("pubstack-video-theme"),this.videoTarget.playsInline=!0,this.videoTarget.controls=!0,this.videoTarget.id=this.playerID,this.video.sources.forEach(function(t){var e=document.createElement("source");e.src=t.src,e.type=t.type,i.videoTarget.appendChild(e)}),this.target.appendChild(this.videoTarget)}},{key:"loadVideoAD",value:function(){this.player.ima.initializeAdDisplayContainer(),this.player.ima.setContentWithAdTag(null,this.vastTag,!1),this.player.ima.requestAds(),this.currentAdState=this.READY_STATE}},{key:"initializeGoogleIMA",value:function(){var e=this,t=(this.player.on("adserror",function(t){e.currentAdState=e.END_STATE,e.googleAnalytics.fireAdError("adError","aderror-".concat(t.data.AdErrorEvent.error.data.errorCode),!1)}),{disableCustomPlaybackForIOS10Plus:!0,adWillPlayMuted:!0,adsManagerLoadedCallback:this.onAdManagerReady.bind(this)}),i=((window.pubstackvideo.browser.IS_ANDROID||window.pubstackvideo.browser.IS_IOS)&&window.pubstackvideo.browser.IS_CHROME&&(t.adsRenderingSettings={mimeTypes:["video/mp4"]}),this.player.ima(t),(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&this.videoTarget.hasAttribute("controls")&&this.videoTarget.removeAttribute("controls"),document.querySelector("#".concat(this.playerID," .pubstack-vjs-big-play-button")));i.addEventListener(this.startEvent,function t(){e.currentAdState>=e.READY_STATE||e.loadVideoAD(),i.removeEventListener(e.startEvent,t)});this.videoTarget.addEventListener(this.startEvent,function t(){e.currentAdState>=e.READY_STATE||e.loadVideoAD(),e.videoTarget.removeEventListener(e.startEvent,t)});var r=document.querySelector("#".concat(this.playerID," .pubstack-vjs-poster"));r.addEventListener(this.startEvent,function t(){e.currentAdState>=e.READY_STATE||e.loadVideoAD(),r.removeEventListener(e.startEvent,t)})}},{key:"updatePlayer",value:function(){this.player=window.pubstackvideo(this.videoTarget,this.playerConfig,this.onReady.bind(this)),this.player.disablePictureInPicture=function(){return!1},this.isAdSupported&&this.initializeGoogleIMA()}},{key:"init",value:function(){var t=this.validateTarget();if(!t.status)throw new Error(t.message);this.updatePlayerTarget(),this.updatePlayer()}},{key:"checkDynamicViewport",value:function(t){var e=this,t=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(t),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){var t;"false"!==e.video.setautoplay&&1===e.autoplayAd&&(e.onScroll(),e.autoplayAd=0),e.currentState!==e.PAUSE_STATE&&e.currentState!==e.END_STATE&&(t=Math.round(e.player.currentTime()),e.previousProgressTime!==t)&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%5==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1)},500)}},{key:"onScroll",value:function(){function t(){i.isInViewport&&i.currentState!==i.PLAY_STATE&&(i.currentState=i.AUTOPLAY_STATE,i.player.play(),1===i.autoplayFirstTime&&1===i.bufferResume?(i.googleAnalytics.fireEvent("AutoPlay",!0),i.autoplayFirstTime=0):0===i.autoplayFirstTime&&0===i.bufferResume&&(i.googleAnalytics.fireEvent("Buffer Resume",!0),i.bufferResume=1)),i.isInViewport||i.currentState!==i.PLAY_STATE||i.player.pause()}var e,i=this;this.cdnToken,0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(e=this.target.getBoundingClientRect(),this.isInViewport=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom);return this.isAdSupported?this.isInViewport?this.currentAdState===this.INITIALIZE_STATE?(this.loadVideoAD(),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video AD is ready to play!")),t()):this.currentAdState===this.PAUSE_STATE?(this.player.ima.resumeAd(),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video Ad playback is resume"))):this.currentAdState!==this.END_STATE&&this.currentAdState!==this.READY_STATE||t():this.isInViewport||this.currentAdState!==this.PLAY_STATE?t():this.player.ima.pauseAd():t(),null}},{key:"initWidgetImpressionTracker",value:function(){var t,i=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget||window.addEventListener("scroll",function t(){var e;0<i.video.playerviewport.length?i.isInViewportWidget=i.checkDynamicViewport(i.video.playerid):(e=i.target.getBoundingClientRect(),i.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),i.isInViewportWidget&&window.removeEventListener("scroll",t)})}},{key:"onReady",value:function(){var t,e=this;c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.cdnToken,"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(t=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport&&(e.isInViewport=!0,e.initProgressObserver())},{threshold:this.video.playerviewport}).observe(t)):this.initProgressObserver()),this.currentState=this.READY_STATE,this.player.on("play",function(){e.onPlay(),e.currentState=e.PLAY_STATE}),this.player.on("pause",function(){e.onPause(),e.currentState=e.PAUSE_STATE}),this.player.on("ended",function(){e.onComplete(),e.currentState=e.END_STATE}),this.player.on("error",function(){e.googleAnalytics.firePlayerError("playerError",["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"][e.player.error().code],!1)}),this.player.on("error",this.onError.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this)),this.initWidgetImpressionTracker()}},{key:"onAdManagerReady",value:function(){var e=this;this.player.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){e.currentAdState=e.PLAY_STATE,e.googleAnalytics.fireAdImpression(),e.googleAnalytics.fireAdEvent("AutoPlay",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback is started"));try{var t=e.player.ima.controller.getCurrentAd().getDuration();c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad duration is ").concat(t)),e.comscoreAnalytics.stopVOD(),e.comscoreAnalytics.startAD(t)}catch(t){c.log(t)}}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.PAUSED,function(){e.currentAdState=e.PAUSE_STATE,e.googleAnalytics.fireAdEvent("Pause",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback is paused"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.RESUMED,function(){e.currentAdState=e.PLAY_STATE,e.googleAnalytics.fireAdEvent("Resume",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback is resume"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){e.currentAdState=e.END_STATE,e.googleAnalytics.fireAdEvent("Complete",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback is complete")),e.comscoreAnalytics.stopAD(),e.comscoreAnalytics.startVOD()}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.SKIPPED,function(){e.currentAdState=e.END_STATE,e.googleAnalytics.fireAdEvent("Skipped",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback is skipped")),e.comscoreAnalytics.stopAD(),e.comscoreAnalytics.startVOD()}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.FIRST_QUARTILE,function(){var t=e.player.ima.controller.getCurrentAd().getDuration(),t=(e.currentAdState=e.PLAY_STATE,"Ad First Quartile, Total Time - ".concat(t,"s"));e.googleAnalytics.fireAdEvent(t,!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback first quartile completed"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.MIDPOINT,function(){var t=e.player.ima.controller.getCurrentAd().getDuration(),t=(e.currentAdState=e.PLAY_STATE,"Ad Midpoint, Total Time -  ".concat(t,"s"));e.googleAnalytics.fireAdEvent(t,!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback midpoint completed"))}),this.player.ima.addEventListener(window.google.ima.AdEvent.Type.THIRD_QUARTILE,function(){var t=e.player.ima.controller.getCurrentAd().getDuration(),t=(e.currentAdState=e.PLAY_STATE,"Ad Third Quartile, Total Time -  ".concat(t,"s"));e.googleAnalytics.fireAdEvent(t,!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(e.playerID,"][EVENT] Video Ad playback third quartile completed"))})}},{key:"onPlay",value:function(){this.currentState===this.END_STATE?(this.comscoreAnalytics.reset(),this.googleAnalytics.fireEvent("Play",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is started!"))):this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState===this.AUTOPLAY_STATE?c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is started!")):this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),c.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):c.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!")),this.comscoreAnalytics.startVOD()}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.comscoreAnalytics.stopVOD(),this.bufferResume=0,c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),this.comscoreAnalytics.stopVOD(),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] Video playback error!")),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] ").concat(t)),c.log("[PUBSTACK-PLAYER][VIDEOJS][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}])}();e.exports=r},{"../utils/comscore.utils":20,"../utils/google-analytics.utils":22,"../utils/helpers.utils":23,"../utils/log.utils":26,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}],19:[function(t,e,i){var r=t("@babel/runtime/helpers/interopRequireDefault"),a=r(t("@babel/runtime/helpers/defineProperty")),o=r(t("@babel/runtime/helpers/classCallCheck")),n=r(t("@babel/runtime/helpers/createClass"));function s(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){(0,a.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var c=t("../utils/log.utils"),u=t("../utils/helpers.utils"),d=t("../utils/google-analytics.utils"),r=function(){return(0,n.default)(function t(e,i,r,a){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=((0,o.default)(this,t),this.target=e,this.video=i,this.platform=r,this.embedType=a,this.playerID=u.generatePlayerID("YOUTUBE"),this.INITIALIZE_STATE=-1,this.READY_STATE=1,this.AUTOPLAY_STATE=2,this.PLAY_STATE=3,this.PAUSE_STATE=4,this.END_STATE=5,this.previousState=this.INITIALIZE_STATE,this.currentState=this.INITIALIZE_STATE,this.previousProgressTime=0,this.autoplayAd=1,this.autoplayFirstTime=1,this.bufferResume=1,this.playFirstTime=1,this.isInViewport="",this.isInViewportWidget="",this.initializeConfig(n),this.initializePlayerConfig(),{unique_id:this.video.id,player:"YOUTUBE",video_id:null==(e=this.video.youtube)?void 0:e.id,platform:this.platform,embed_type:this.embedType,category:this.video.category,playlist:this.video.playlist,title:this.video.title,articleid:this.video.articleid,videoevent:this.video.videoevent,videotype:this.video.videotype,videoslot:this.video.videoslot,ampEvent:this.video.ampEvent,videoEvent:this.video.videoEvent,district:this.video.district,deskVideo:this.video.deskVideo,videoIdentifier:this.video.videoIdentifier,taboola:this.video.taboola,dataTag:this.video.dataTag,articleType:this.video.articleType,authorType:this.video.authorType,agencyType:this.video.agencyType,articleDate:this.video.articleDate,pageUrl:this.video.pageUrl,videoTitle:this.video.videoTitle,ampFilter:this.video.ampFilter,domainName:this.video.domainName});this.googleAnalytics=new d.PlayerAnalytics(this.playerID,i),this.init()},[{key:"initializeConfig",value:function(t){this.config=l(l({},{analytics:!0,controls:{onScreen:!0,keyboard:!0},autoplay:!1,loop:!1,logo:!1,start:0,end:0,lang:{cc:"en",interface:"en"},quality:"auto",color:"red",aspect_ratio:1.77778}),t)}},{key:"initializePlayerConfig",value:function(){var e=this,i={},r={autoplay:0,enablejsapi:1,loop:0,rel:0,showinfo:0},t={onReady:this.onReady.bind(this),onStateChange:this.onStateChange.bind(this),onError:this.onError.bind(this)},a=["enablejsapi","loop","rel","showinfo","quality","analytics"];Object.keys(this.config).forEach(function(t){-1===a.indexOf(t)&&("autoplay"===t?r.mute=e.config.autoplay?1:0:"logo"===t?r.modestbranding=e.config.logo?0:1:"controls"===t?(r.disablekb=e.config.controls.keyboard?0:1,r.controls=e.config.controls.onScreen?1:0):"color"===t?r.color=e.config.color:"player_theme"===t&&(i.primaryThemeColor=e.config.player_theme))}),this.playerConfig={embedConfig:i,playerVars:r,events:t}}},{key:"validateTarget",value:function(){var t,e,i;return this.target&&this.target instanceof HTMLDivElement?(t=null!==this.target.getAttribute("data-pubstack-player")&&"true"===this.target.getAttribute("data-pubstack-player"),e=null!==this.target.getAttribute("data-youtube")&&"true"===this.target.getAttribute("data-youtube"),i=null!==this.target.getAttribute("data-pubstack-player-name")&&"vidgyor"===this.target.getAttribute("data-pubstack-player-name"),t||e||i?{status:!0,message:null}:{status:!1,message:"Target is not supported by library. Please verify data attributes are correct."}):{status:!1,message:"Target is null or target is not a valid Div element."}}},{key:"updatePlayerTarget",value:function(){this.target.innerHTML="",this.innerTarget=document.createElement("div"),this.innerTarget.id=this.playerID,this.target.appendChild(this.innerTarget)}},{key:"init",value:function(){var t=this.validateTarget();if(!t.status)throw new Error(t.message);this.updatePlayerTarget(),this.player=new window.YT.Player(this.innerTarget,this.playerConfig)}},{key:"checkDynamicViewport",value:function(t){var e=this,t=document.getElementById(t);return new IntersectionObserver(function(t){t[0].intersectionRatio>=e.video.playerviewport?e.isInViewport=!0:e.isInViewport=!1},{threshold:this.video.playerviewport}).observe(t),this.isInViewport}},{key:"initProgressObserver",value:function(){var e=this;this.progressInterval=setInterval(function(){var t;"false"!==e.video.setautoplay&&1===e.autoplayAd&&(e.onScroll(),e.autoplayAd=0),e.currentState!==e.PAUSE_STATE&&(t=Math.round(e.player.getCurrentTime()),e.previousProgressTime!==t)&&(0!==(e.previousProgressTime=t)&&-1!==[5,10,15,50].indexOf(t)||0!==t&&t%30==0)&&e.googleAnalytics.fireEvent("Watch - ".concat(t,"s"),!1)},500)}},{key:"onScroll",value:function(){var t;0<this.video.playerviewport.length?this.isInViewport=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewport=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewport&&this.currentState!==this.PLAY_STATE&&this.currentState!==this.AUTOPLAY_STATE&&(this.currentState=this.AUTOPLAY_STATE,this.player.mute(),this.player.playVideo(),1===this.autoplayFirstTime&&1===this.bufferResume?(this.googleAnalytics.fireEvent("AutoPlay",!0),this.autoplayFirstTime=0):0===this.autoplayFirstTime&&0===this.bufferResume&&(this.googleAnalytics.fireEvent("Buffer Resume",!0),this.bufferResume=1)),this.isInViewport||this.currentState!==this.PLAY_STATE&&this.currentState!==this.AUTOPLAY_STATE||this.player.pauseVideo()}},{key:"initWidgetImpressionTracker",value:function(){var t,i=this;0<this.video.playerviewport.length?this.isInViewportInitWidget=this.checkDynamicViewport(this.video.playerid):(t=this.target.getBoundingClientRect(),this.isInViewportInitWidget=t.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=t.bottom),this.isInViewportInitWidget?this.googleAnalytics.fireImpression():window.addEventListener("scroll",function t(){var e;0<i.video.playerviewport.length?i.isInViewportWidget=i.checkDynamicViewport(i.video.playerid):(e=i.target.getBoundingClientRect(),i.isInViewportWidget=e.top<(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom),i.isInViewportWidget&&(i.googleAnalytics.fireImpression(),window.removeEventListener("scroll",t))})}},{key:"onReady",value:function(){var t,e,i=this;c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Player is ready to play video!")),this.player.loadVideoById({videoId:null==(e=this.video.youtube)?void 0:e.id}),this.target.firstElementChild&&"IFRAME"===this.target.firstElementChild.nodeName&&(e="".concat(parseInt(getComputedStyle(this.target).width,10),"px"),t="".concat(parseInt(getComputedStyle(this.target).width,10)/this.config.aspect_ratio,"px"),this.target.firstElementChild.width=e,this.target.firstElementChild.height=t,this.target.firstElementChild.style.minWidth=e,this.target.firstElementChild.style.minHeight=t),"false"!==this.video.setautoplay&&(0<this.video.playerviewport.length?(e=document.getElementById(this.video.playerid),new IntersectionObserver(function(t){t[0].intersectionRatio>=i.video.playerviewport&&(i.isInViewport=!0,i.onScroll())},{threshold:this.video.playerviewport}).observe(e)):this.onScroll()),this.initProgressObserver(),window.addEventListener("scroll",this.onScroll.bind(this)),this.initWidgetImpressionTracker()}},{key:"onStateChange",value:function(t){t.data===window.YT.PlayerState.ENDED?(this.onComplete(),this.currentState=this.END_STATE):t.data===window.YT.PlayerState.PLAYING?(this.onPlay(),this.currentState=this.PLAY_STATE):t.data===window.YT.PlayerState.PAUSED&&(this.onPause(),this.currentState=this.PAUSE_STATE)}},{key:"onPlay",value:function(){this.currentState===this.PAUSE_STATE?(this.googleAnalytics.fireEvent("Resume",!1),c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback is resumed!"))):this.currentState===this.AUTOPLAY_STATE?c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback is started!")):this.currentState===this.PLAY_STATE&&"false"===this.video.setautoplay?(this.googleAnalytics.fireEvent("Play",!1),c.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started. Play triggered!")),this.playFirstTime=0):c.log("[PUBSTACK-PLAYER][VIDGYORJS][".concat(this.playerID,"][EVENT] Video playback is started!"))}},{key:"onPause",value:function(){this.googleAnalytics.fireEvent("Pause",!1),this.bufferResume=0,c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback is paused!"))}},{key:"onComplete",value:function(){this.previousProgressTime=0,this.googleAnalytics.fireEvent("Complete",!1),c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][EVENT] Video playback has ended!"))}},{key:"onError",value:function(t){c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] Video playback error!")),c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] ----------------------- ERROR - START ------------------------")),c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] ").concat(t)),c.log("[PUBSTACK-PLAYER][YOUTUBE][".concat(this.playerID,"][LOG] ----------------------- ERROR - END ------------------------"))}}])}();e.exports=r},{"../utils/google-analytics.utils":22,"../utils/helpers.utils":23,"../utils/log.utils":26,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}],20:[function(t,e,i){var r=t("@babel/runtime/helpers/interopRequireDefault"),a=r(t("@babel/runtime/helpers/classCallCheck")),n=r(t("@babel/runtime/helpers/createClass")),o=t("../config/globals"),s=t("./log.utils"),r=function(){return(0,n.default)(function t(e,i,r){(0,a.default)(this,t),this.player=e,this.playerID=i,this.metadata=r,this.init()},[{key:"init",value:function(){this.comscoreMetadata={ns_st_ci:this.metadata.unique_id,ns_st_cl:1e3*this.metadata.duration,ns_st_pu:"Network18",ns_st_pr:o.website.title,ns_st_ep:this.metadata.title,ns_st_ge:"News",ns_st_st:"Network18",c3:o.website.c3,c4:"*null",c6:"*null",ns_st_en:"*null",ns_st_sn:"*null",ns_st_ce:"0",ns_st_ia:"*null",ns_st_ddt:"*null",ns_st_tdt:"*null"},this.initializeComscoreInstance(),this.streamingAnalytics&&(10<=this.metadata.duration?this.contentType=window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.LongFormOnDemand:this.contentType=window.ns_.ReducedRequirementsStreamingAnalytics.ContentType.ShortFormOnDemand)}},{key:"reset",value:function(){this.initializeComscoreInstance()}},{key:"initializeComscoreInstance",value:function(){var t;window.ns_?(t={publisherId:o.publisher_id},this.streamingAnalytics=new window.ns_.ReducedRequirementsStreamingAnalytics(t),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] ComScore streaming analytics instance created successfully!"))):this.streamingAnalytics=null}},{key:"startVOD",value:function(){null!=this.streamingAnalytics&&(this.streamingAnalytics.playVideoContentPart(this.comscoreMetadata,this.contentType),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing play beacon for VOD!")))}},{key:"stopVOD",value:function(){null!=this.streamingAnalytics&&(this.streamingAnalytics.stop(),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing stop beacon for VOD!")))}},{key:"startAD",value:function(t){null!=this.streamingAnalytics&&(this.streamingAnalytics.playVideoAdvertisement({ns_st_cl:1e3*t}),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing start beacon for Video AD!")))}},{key:"stopAD",value:function(){null!=this.streamingAnalytics&&(this.streamingAnalytics.stop(),s.log("[PUBSTACK-PLAYER][".concat(this.player,"][").concat(this.playerID,"][COMSCORE-EVENT] Firing stop beacon for Video AD!")))}}])}();e.exports={PlayerComscoreAnalytics:r}},{"../config/globals":15,"./log.utils":26,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":5}],21:[function(t,e,i){var r=t("lodash.foreach"),Y=t("./helpers.utils");e.exports={fetchFallbackTargets:function(){var j,t=document.querySelectorAll("[data-youtube=true]");return 0===t.length?[]:(j=[],r(t,function(t){var e,i,r,a,n,o,s,l,c,u,d,p,h,y,f,v,g,m,A,b,E,_,T,S,w,I,P,D,O,V,k,R,C,L,U;!t.getAttribute("data-pubstack-state")&&(t.innerHTML="",t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","fallback"),U=t.getAttribute("data-youtube-id"))&&(e=t.getAttribute("data-property-platform"),e=Y.getPlayerPlatform(e),i="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",r=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",a=t.getAttribute("data-property-keywords")||"",n=t.getAttribute("data-city-name")||"",o=t.getAttribute("data-state-name")||"",s=t.getAttribute("data-district-name")||"",l=t.getAttribute("data-language")||"",c=t.getAttribute("data-video-type")||"",u=t.getAttribute("data-article-id")||"",d=t.getAttribute("data-section-name")||"",p=t.getAttribute("data-video-event")||"",h=t.getAttribute("id")||"",y=t.getAttribute("data-player-viewport")||"",f=t.getAttribute("data-autoplay")||"",v=t.getAttribute("data-video-slot")||"",g=t.getAttribute("data-disable-controls")||"",m=t.getAttribute("data-video-amp-event")||"",A=t.getAttribute("data-video-pip")||"",b=t.getAttribute("data-is-ad-disable")||"",E=t.getAttribute("data-placeholder-image")||"",_=t.getAttribute("data-content-type")||"",T=t.getAttribute("data-desk-video")||"",S=t.getAttribute("data-video-identifier")||"",w=t.getAttribute("data-taboola")||"",I=t.getAttribute("data-tag")||"",P=t.getAttribute("data-article-type")||"",D=t.getAttribute("data-author-type")||"",O=t.getAttribute("data-agency-type")||"",V=t.getAttribute("data-article-date")||"",k=t.getAttribute("data-amp-filter")||"",R=t.getAttribute("data-page-url")||"",C=t.getAttribute("data-domain-name")||"",L=t.getAttribute("data-video-title")||"",U={id:U,category:r,platform:e,target:t,embed_type:i,keywords:a.split(","),city:n,state:o,district:s,language:l,videotype:c,articleid:u,sectionname:d,videoevent:p,playerid:h,playerviewport:y,setautoplay:f,videoslot:v,disablecontrols:g,ampEvent:m,pipVal:A,isAdDisable:b,placeholderImg:E,contentType:_,deskVideo:T,videoIdentifier:S,taboola:w,dataTag:I,articleType:P,authorType:D,agencyType:O,articleDate:V,pageUrl:R,domainName:C,videoTitle:L,ampFilter:k},j.push(U))}),j)},fetchV1Targets:function(){var t,j;return 0!==document.querySelectorAll("[data-pubstack-player=true][data-pubstack-player-name=vidgyor][data-pubstack-config=video-embed]").length||0===(t=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]")).length?[]:(j=[],r(t,function(t){var e,i,r,a,n,o,s,l,c,u,d,p,h,y,f,v,g,m,A,b,E,_,T,S,w,I,P,D,O,V,k,R,C,L,U;!t.getAttribute("data-pubstack-state")&&(t.innerHTML="",t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","v1"),U=t.getAttribute("data-pubstack-guid"))&&(e=t.getAttribute("data-property-platform"),e=Y.getPlayerPlatform(e),i="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",r=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",a=t.getAttribute("data-property-keywords")||"",n=t.getAttribute("data-city-name")||"",o=t.getAttribute("data-state-name")||"",s=t.getAttribute("data-district-name")||"",l=t.getAttribute("data-language")||"",c=t.getAttribute("data-video-type")||"",u=t.getAttribute("data-article-id")||"",d=t.getAttribute("data-section-name")||"",p=t.getAttribute("data-video-event")||"",h=t.getAttribute("id")||"",y=t.getAttribute("data-player-viewport")||"",f=t.getAttribute("data-autoplay")||"",v=t.getAttribute("data-video-slot")||"",g=t.getAttribute("data-disable-controls")||"",m=t.getAttribute("data-video-amp-event")||"",A=t.getAttribute("data-video-pip")||"",b=t.getAttribute("data-is-ad-disable")||"",E=t.getAttribute("data-placeholder-image")||"",_=t.getAttribute("data-content-type")||"",T=t.getAttribute("data-desk-video")||"",S=t.getAttribute("data-video-identifier")||"",w=t.getAttribute("data-taboola")||"",I=t.getAttribute("data-tag")||"",P=t.getAttribute("data-article-type")||"",D=t.getAttribute("data-author-type")||"",O=t.getAttribute("data-agency-type")||"",V=t.getAttribute("data-article-date")||"",k=t.getAttribute("data-page-url")||"",R=t.getAttribute("data-video-title")||"",C=t.getAttribute("data-domain-name")||"",L=t.getAttribute("data-amp-filter")||"",U={id:U,category:r,platform:e,target:t,embed_type:i,keywords:a.split(","),city:n,state:o,district:s,language:l,videotype:c,articleid:u,sectionname:d,videoevent:p,playerid:h,playerviewport:y,setautoplay:f,videoslot:v,disablecontrols:g,ampEvent:m,pipVal:A,isAdDisable:b,placeholderImg:E,contentType:_,deskVideo:T,videoIdentifier:S,taboola:w,dataTag:I,articleType:P,authorType:D,agencyType:O,articleDate:V,pageUrl:k,domainName:C,videoTitle:R,ampFilter:L},j.push(U))}),j)},fetchVidgyorTargets:function(){var j,t=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");return 0===t.length?[]:(j=[],r(t,function(t){var e,i,r,a,n,o,s,l,c,u,d,p,h,y,f,v,g,m,A,b,E,_,T,S,w,I,P,D,O,V,k,R,C,L,U;!t.getAttribute("data-pubstack-state")&&(t.setAttribute("data-pubstack-state","init"),t.setAttribute("data-pubstack-version","v1"),U=t.getAttribute("data-pubstack-guid"))&&(e=t.getAttribute("data-property-platform"),e=Y.getPlayerPlatform(e),i="auto"===t.getAttribute("data-embed-mode")?"Auto Embeds":"Manual Embeds",r=t.getAttribute("data-property-category")||t.getAttribute("data-youtube-category")||window.location.pathname.split("/")[1]||"NA",a=t.getAttribute("data-property-keywords")||"",n=t.getAttribute("data-city-name")||"",o=t.getAttribute("data-state-name")||"",s=t.getAttribute("data-district-name")||"",l=t.getAttribute("data-language")||"",c=t.getAttribute("data-video-type")||"",u=t.getAttribute("data-article-id")||"",d=t.getAttribute("data-section-name")||"",p=t.getAttribute("data-video-event")||"",h=t.getAttribute("id")||"",y=t.getAttribute("data-player-viewport")||"",f=t.getAttribute("data-autoplay")||"",v=t.getAttribute("data-video-slot")||"",g=t.getAttribute("data-disable-controls")||"",m=t.getAttribute("data-video-amp-event")||"",A=t.getAttribute("data-video-pip")||"",b=t.getAttribute("data-is-ad-disable")||"",E=t.getAttribute("data-placeholder-image")||"",_=t.getAttribute("data-content-type")||"",T=t.getAttribute("data-desk-video")||"",S=t.getAttribute("data-video-identifier")||"",w=t.getAttribute("data-taboola")||"",I=t.getAttribute("data-tag")||"",P=t.getAttribute("data-article-type")||"",D=t.getAttribute("data-author-type")||"",O=t.getAttribute("data-agency-type")||"",V=t.getAttribute("data-article-date")||"",k=t.getAttribute("data-page-url")||"",R=t.getAttribute("data-video-title")||"",C=t.getAttribute("data-domain-name")||"",L=t.getAttribute("data-amp-filter")||"",U={id:U,category:r,platform:e,target:t,embed_type:i,keywords:a.split(","),city:n,state:o,district:s,language:l,videotype:c,articleid:u,sectionname:d,videoevent:p,playerid:h,playerviewport:y,setautoplay:f,videoslot:v,disablecontrols:g,ampEvent:m,pipVal:A,isAdDisable:b,placeholderImg:E,contentType:_,deskVideo:T,videoIdentifier:S,taboola:w,dataTag:I,articleType:P,authorType:D,agencyType:O,articleDate:V,pageUrl:k,domainName:C,videoTitle:R,ampFilter:L},j.push(U))}),j)}}},{"./helpers.utils":23,"lodash.foreach":12}],22:[function(t,e,i){var r=t("@babel/runtime/helpers/interopRequireDefault"),T=r(t("@babel/runtime/helpers/typeof")),a=r(t("@babel/runtime/helpers/classCallCheck")),n=r(t("@babel/runtime/helpers/createClass")),S=t("./log.utils"),r=function(){return(0,n.default)(function t(e,i){(0,a.default)(this,t),this.playerID=e,this.metadata=i,this.Pip="",this.published="",this.publishTime="",this.publishDate="",this.playerString="",this.videoslot="",this.videoevent="";var r=this;setInterval(function(){!0===window.pip_status?r.Pip="_PIP":r.Pip=""},100),"YOUTUBE"===this.metadata.player?(this.playerString="YouTube Player",S.log(this.playerString)):"VIDEOJS"===this.metadata.player?(this.playerString="VideoJS Player",S.log(this.playerString)):"VIDGYORJS"===this.metadata.player&&(this.playerString="Vidgyor Player",S.log(this.playerString)),this.metadata.videoslot&&void 0!==this.metadata.videoslot&&(this.videoslot="Slot ".concat(this.metadata.videoslot,", ")),this.metadata.articleDate&&void 0!==this.metadata.articleDate&&(this.published=this.metadata.articleDate.split(" "),this.publishDate=void 0!==this.published[0]?this.published[0]:"",this.publishTime=void 0!==this.published[1]?this.published[1]:""),this.vodEngagementLabel="".concat(this.videoslot).concat(this.metadata.title,", ").concat(this.metadata.video_id,", ").concat(this.metadata.category,", ").concat(this.metadata.articleid,", ").concat(this.metadata.videotype,", ").concat(this.metadata.ampEvent),this.widgetImpressionLabel="".concat(this.videoslot).concat(this.metadata.title,", ").concat(this.metadata.video_id,", ").concat(this.metadata.category,", ").concat(this.metadata.articleid,", ").concat(this.metadata.videotype,", ").concat(this.metadata.ampEvent),this.init()},[{key:"init",value:function(){var t=this.getTracker();this.tracker=t.tracker,this.trackerName=t.name}},{key:"getTracker",value:function(){var t,e,i;return this.tracker&&this.trackerName?{tracker:this.tracker,name:this.trackerName}:(t=null,(t=Object.prototype.hasOwnProperty.apply(window,["ga"])&&window.ga.getAll&&"function"==typeof window.ga.getAll?window.ga.getAll():t)&&0!==t.length?(e=t[0],i=e.get("name"),t.forEach(function(t){"UA-156703-1"===t.get("trackingId")&&(i=(e=t).get("name"))}),{tracker:e,name:i}):{tracker:null,name:null})}},{key:"dataLayerPush",value:function(t,e,i,r,a,n,o,s,l,c,u,d,p,h,y,f,v,g,m,A,b,E,_){void 0!==("undefined"==typeof gtag?"undefined":(0,T.default)(gtag))&&"undefined"!=typeof gtag&&(gtag("event",t,{event:"custom_dimensions",video_action:e,section:i,sub_section:r,article_id:a,pub_date:n,pub_time:o,article_type:s,tag:l,local18_district:c,taboola:u,player_identifier:d,video_identifier:p,author_type:h,local18_video_identifier:y,video_slot:f.replace(", ",""),video_category:v,video_id:g,page_url:m,domain_name:A,desk_video:b,video_title:E,video_amp_filter:_}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA4-EVENT] Video event fired for action - ").concat(e)))}},{key:"fireImpression",value:function(){"Feature_Article_JSPlayer"!==this.metadata.videoevent&&("YOUTUBE"===this.metadata.player?this.videoevent="Video_Impression_".concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="Video_Impression_".concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="Video_Impression_".concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video widget impression event fired!"))),this.dataLayerPush(this.videoevent,"Impression",this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter))}},{key:"fireAdImpression",value:function(){"YOUTUBE"===this.metadata.player?this.videoevent="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="Pre_Roll_Impression".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,"Impression",this.widgetImpressionLabel,{nonInteraction:!0}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video AD impression event fired!"))),this.dataLayerPush(this.videoevent,"Impression",this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter)}},{key:"fireInteractiveEvent",value:function(t,e,i){"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,this.vodEngagementLabel,{nonInteraction:i}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),gtag("event",this.videoevent,{video_action:t,event_data:e,section:this.metadata.category,sub_section:this.metadata.category,article_id:this.metadata.articleid,pub_date:this.publishDate,pub_time:this.publishTime,article_type:this.metadata.articleType,tag:this.metadata.dataTag,local18_district:this.metadata.district,taboola:this.metadata.taboola,player_identifier:this.playerString,video_identifier:this.metadata.videoevent,author_type:this.metadata.authorType,local18_video_identifier:this.metadata.videotype,video_slot:this.videoslot.replace(", ",""),video_category:this.metadata.category,video_id:this.metadata.video_id,page_url:this.metadata.pageUrl,domain_name:this.metadata.domainName,desk_video:this.metadata.deskVideo,video_title:this.metadata.videoTitle,video_amp_filter:this.metadata.ampFilter})}},{key:"fireEvent",value:function(t,e){"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,this.vodEngagementLabel,{nonInteraction:e}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),this.dataLayerPush(this.videoevent,t,this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter)}},{key:"fireAdEvent",value:function(t,e){"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_Pre_Roll_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,this.vodEngagementLabel,{nonInteraction:e}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] YT Video event fired for action - ").concat(t))),this.dataLayerPush(this.videoevent,t,this.metadata.category,this.metadata.category,this.metadata.articleid,this.publishDate,this.publishTime,this.metadata.articleType,this.metadata.dataTag,this.metadata.district,this.metadata.taboola,this.playerString,this.metadata.videoevent,this.metadata.authorType,this.metadata.videotype,this.videoslot,this.metadata.category,this.metadata.video_id,this.metadata.pageUrl,this.metadata.domainName,this.metadata.deskVideo,this.metadata.videoTitle,this.metadata.ampFilter)}},{key:"firePlayerError",value:function(t,e,i){var r=this&&this.metadata&&this.metadata.ampEvent?"-".concat(this.metadata.ampEvent):"";"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,"".concat(e).concat(r),{nonInteraction:i}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),void 0!==("undefined"==typeof gtag?"undefined":(0,T.default)(gtag))&&"undefined"!=typeof gtag||gtag("event",this.videoevent,{event:"custom_dimensions",video_action:t,error:"".concat(e).concat(r)})}},{key:"fireAdError",value:function(t,e,i){var r=this&&this.metadata&&this.metadata.ampEvent?"-".concat(this.metadata.ampEvent):"";"YOUTUBE"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Youtube"):"VIDEOJS"===this.metadata.player?this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_JSPlayer"):"VIDGYORJS"===this.metadata.player&&(this.videoevent="VOD".concat(this.Pip,"_").concat(this.metadata.videoEvent,"_Vidgyor")),this.tracker&&(this.tracker.send("event",this.videoevent,t,"".concat(e).concat(r),{nonInteraction:i}),S.log("[PUBSTACK-PLAYER][".concat(this.metadata.player,"][").concat(this.playerID,"][GA3-EVENT] Video event fired for action - ").concat(t))),void 0!==("undefined"==typeof gtag?"undefined":(0,T.default)(gtag))&&"undefined"!=typeof gtag||gtag("event",this.videoevent,{event:"custom_dimensions",video_action:t,error:"".concat(e).concat(r)})}}])}();e.exports={PlayerAnalytics:r}},{"./log.utils":26,"@babel/runtime/helpers/classCallCheck":2,"@babel/runtime/helpers/createClass":3,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/helpers/typeof":9}],23:[function(t,e,i){function r(){0===window.PUBSTACK_VIDEO_STATE.processing_queue.length?window.PUBSTACK_VIDEO_STATE.processing_state=0:(window.PUBSTACK_VIDEO_STATE.processing_state=1,Promise.resolve().then(function(){return a.log("[PUBSTACK-PLAYER][LOG] Processing request for timestamp: ".concat(window.PUBSTACK_VIDEO_STATE.processing_queue[0].timestamp,"!")),window.PUBSTACK_VIDEO_STATE.processing_queue[0].promise}).then(function(t){a.log("[PUBSTACK-PLAYER][LOG] Process request for timestamp: ".concat(window.PUBSTACK_VIDEO_STATE.processing_queue[0].timestamp," completed!")),a.log("[PUBSTACK-PLAYER][LOG] Process response: ".concat(t.message,"!")),window.PUBSTACK_VIDEO_STATE.processing_queue.shift(),0===window.PUBSTACK_VIDEO_STATE.processing_queue.length?window.PUBSTACK_VIDEO_STATE.processing_state=0:r()}).catch(function(t){a.log("[PUBSTACK-PLAYER][LOG] Error processing player request!"),a.log("[PUBSTACK-PLAYER][LOG] ----------------------- ERROR - START ------------------------"),a.log("[PUBSTACK-PLAYER][LOG] ".concat(t)),a.log("[PUBSTACK-PLAYER][LOG] ----------------------- ERROR - END ------------------------"),null!=n&&n.addPageAction("DATA_ERROR",{errMessage:"Error processing player request: "+t.message,errType:"QUEUE_ERROR"})}))}function o(t){return t[t.length*Math.random()||0]}var c=t("lodash.map"),a=t("./log.utils"),n=t("./newrelic.utils");e.exports={setupWebPlayer:function(){var t,e;window.pubstackJSLoaded=!0,window.PUBSTACK_PLAYERS||(window.PUBSTACK_PLAYERS=[]),Object.prototype.hasOwnProperty.apply(window,["PUBSTACK_VIDEO_STATE"])||(t=document.createElement("div"),e=document.createElement("div"),t.style.position="absolute",t.style.top="0",t.style.left="0",e.classList.add("adBanner"),e.style.width="1px",e.style.height="1px",e.style.background="transparent",t.appendChild(e),document.querySelector("body").appendChild(t),e=0===parseInt(getComputedStyle(t).height,10),t.remove(),window.PUBSTACK_VIDEO_STATE={adblocker:e,youtube:{sources:!1,api:!1},videojs:{js:{sources:!1,api:!1},css:{sources:!1,styles:!1}},vidgyorjs:{sources:!1,api:!1},comscore:{sources:!1,api:!1},debug:"1"===localStorage.getItem("NW18_PUBSTACK_PLAYER_DEBUG"),processing_queue:[],processing_state:0},window.onYouTubeIframeAPIReady=function(){window.PUBSTACK_VIDEO_STATE.youtube.api=!0})},pushToProcessingQueue:function(t){t&&t instanceof Promise&&(t={timestamp:Date.now(),promise:t},window.PUBSTACK_VIDEO_STATE.processing_queue.push(t),0===window.PUBSTACK_VIDEO_STATE.processing_state)&&r()},getAlsoWatchVideo:function(t,i){var r,a,e,n=localStorage.getItem("PUBSTACK_VIDEO_DISPLAY_TYPE");return n&&n===t?!(n=localStorage.getItem("PUBSTACK_VIDEO_SET_TIMESTAMP"))||(e=n,"Invalid Date"==="".concat(new Date(e)))||Number.isNaN(new Date(e).getTime())?(e=o(i),localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",e.metadata._id),e):(new Date).getDate()!==new Date(n).getDate()?(e=o(i),localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",e.metadata._id),e):(n=localStorage.getItem("PUBSTACK_VIDEOS_WATCHED"))?(r=n.split(","),a=0,(e=function t(){var e;return a>i.length?null:(e=o(i),-1===r.indexOf(e.metadata._id)?e:(a+=1,t()))}())?(localStorage.setItem("PUBSTACK_VIDEOS_WATCHED","".concat(n,",").concat(e.metadata._id)),e):(n=o(i),localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",n.metadata._id),n)):(e=o(i),localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",e.metadata._id),e):(n=o(i),localStorage.setItem("PUBSTACK_VIDEO_SET_TIMESTAMP",(new Date).toISOString()),localStorage.setItem("PUBSTACK_VIDEOS_WATCHED",n.metadata._id),localStorage.setItem("PUBSTACK_VIDEO_DISPLAY_TYPE",t),n)},generatePlayerID:function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=i.length,a=0;a<32;a+=1)e+=i.charAt(Math.floor(Math.random()*r));return"".concat(t,"-").concat(e)},getGATracker:function(){var t,e,i;return Object.prototype.hasOwnProperty.apply(window,["ga"])&&window.ga.getAll&&"function"==typeof window.ga.getAll&&(t=window.ga.getAll())&&0!==t.length?(e=t[0],i=e.get("name"),t.forEach(function(t){"UA-156703-1"===t.get("trackingId")&&(i=(e=t).get("name"))}),{tracker:e,name:i}):null},getPageScrollOffset:function(){return void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop||document.body.scrollTop||0},generateVASTTag:function(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];try{var a,n,o,s=new URL(e),l="".concat(s.protocol,"//").concat(s.hostname).concat(s.pathname,"?");return/ad_rule_samples/i.test(s.searchParams.get("iu"))?e:(a=s.searchParams.get("iu"),l="".concat(l,"iu=").concat(a),l="".concat(l,"&description_url=").concat(encodeURIComponent("[placeholder]")),l="".concat(l,"&tfcd=0"),l="".concat(l,"&npa=0"),l="".concat(l,"&sz=").concat(encodeURIComponent("640x480")),l="".concat(l,"&cust_params=").concat(encodeURIComponent("Content_Type=video,videoplayer")),l="".concat(l,"&DFP=okay"),n=c(r,function(t){return t.toLowerCase()}).join(","),l="".concat(l,"&meta_keywords=").concat(encodeURIComponent(n)),l="".concat(l,"&page_url=").concat(encodeURIComponent(window.location.origin)),l="".concat(l,"&section_name=").concat(i),o=t.split(" ").join(","),l="".concat(l,"&title_name=").concat(encodeURIComponent(o.replace("#","&"))),l="".concat(l,"&gdfp_req=1"),l="".concat(l,"&output=vast"),l="".concat(l,"&unviewed_position_start=1"),l="".concat(l,"&env=vp"),l="".concat(l,"&impl=s"),l="".concat(l,"&correlator="))}catch(t){return console.log(t),e}},getPlayerPlatform:function(t){return"desktop"===t?"Desktop Web":"pwa"===t?"Mobile Web":"amp"===t?"AMP":"ia"===t?"FBIA":"android"===t?"Android":"ios"===t?"IOS":"Desktop Web"}}},{"./log.utils":26,"./newrelic.utils":27,"lodash.map":13}],24:[function(t,e,i){var v=t("../config/globals");e.exports={getVideoEmbedMetadata:function(t,e,i,r,a,n,o,s,l,c,u,d,p,h){var y="production"===v.env?"https://pubstack.nw18.com/pubsync/v1/api":"staging"===v.env?"https://pubsync.nw18.com/pubsync/v1/api":"local-dev"===v.env?"http://localhost:3000/pubsync/v1/api":null;if(null===y)throw(f=new Error).name="INVALID_PUBSTACK_VIDEO_ENV",f.message="Invalid value is set for pubstack video env! Valid values are 'production' & 'staging', value set: ".concat(v.env),f;var f=JSON.stringify(e),e="".concat(y,"/videos/embed?ids=").concat(encodeURIComponent(t.join(",")),"&website=").concat(v.website.id,"&keywords=").concat(encodeURIComponent(f),"&city_name=").concat(encodeURIComponent(i),"&state_name=").concat(encodeURIComponent(r),"&district_name=").concat(encodeURIComponent(a),"&language=").concat(encodeURIComponent(n),"&video_type=").concat(encodeURIComponent(o),"&article_id=").concat(encodeURIComponent(s),"&section_name=").concat(encodeURIComponent(l),"&isIos=").concat(encodeURIComponent(c),"&description_url=").concat(encodeURIComponent(u),"&site_name=").concat(encodeURIComponent(d),"&isAdDisable=").concat(encodeURIComponent(p),"&is_amp=").concat(encodeURIComponent(h)),y=new Headers;return y.append("Content-Type","application/json"),y.append("Authorization","Bearer ".concat(v.access_token)),fetch(e,{headers:y}).then(function(t){return t.json()})}}},{"../config/globals":15}],25:[function(t,e,i){function s(a){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return new Promise(function(e,i){var t=document.getElementsByTagName("HEAD")[0],r=document.createElement("script");r.src=a,r.onload=function(){return e()},r.onerror=function(t){return n?i(t):(c.log(t),e())},t.appendChild(r)})}function r(a){return new Promise(function(t,e){var i=document.getElementsByTagName("HEAD")[0],r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=a,r.onload=function(){return t()},r.onerror=function(t){return e(t)},i.appendChild(r)})}function a(){return new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.youtube.api&&(clearInterval(e),t())},200)})}var n=t("@babel/runtime/helpers/interopRequireDefault"),l=n(t("@babel/runtime/regenerator")),o=n(t("@babel/runtime/helpers/asyncToGenerator")),c=t("./log.utils"),n=function(){var t=(0,o.default)(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.youtube.sources&&window.PUBSTACK_VIDEO_STATE.youtube.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.youtube.sources)return t.next=5,a();t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.youtube.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/youtube.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,s(e);case 10:return t.next=12,a();case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t=function(){var t=(0,o.default)(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.comscore.sources&&window.PUBSTACK_VIDEO_STATE.comscore.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.comscore.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.comscore.api&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.comscore.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/comscore.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,s(e);case 10:window.PUBSTACK_VIDEO_STATE.comscore.api=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=function(){var t=(0,o.default)(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.videojs.js.sources&&window.PUBSTACK_VIDEO_STATE.videojs.js.api)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.videojs.js.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.videojs.js.api&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.videojs.js.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/videojs.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,s(e);case 10:window.PUBSTACK_VIDEO_STATE.videojs.js.api=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),d=function(){var t=(0,o.default)(l.default.mark(function t(){var o;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.vidgyorjs.sources)return t.abrupt("return");t.next=2;break;case 2:return window.PUBSTACK_VIDEO_STATE.vidgyorjs.sources=!0,o="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"lib/vidgyorjs.min.js?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=6,s(o);case 6:n=a=r=void 0;var e="data-pubstack-player-name",i="vidgyor",r=document.querySelectorAll("[data-pubstack-player=true][data-pubstack-config=video-embed]");if(0===r.length){var a=document.querySelector("[data-youtube=true]");a.setAttribute(e,i),a.setAttribute("class","vgrPlayerContainer")}else for(var n="",n=0;n<r.length;n+=1)r[n].setAttribute(e,i),r[n].setAttribute("class","vgrPlayerContainer");case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();e.exports={loadCSS:r,loadJavascript:s,loadYouTubeSources:n,loadComscore:t,loadVideoJSLibrary:u,loadVideoJSStylesheet:function(){var t=(0,o.default)(l.default.mark(function t(){var e;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.PUBSTACK_VIDEO_STATE.videojs.css.sources&&window.PUBSTACK_VIDEO_STATE.videojs.css.styles)return t.abrupt("return");t.next=2;break;case 2:if(window.PUBSTACK_VIDEO_STATE.videojs.css.sources)return t.next=5,new Promise(function(t){var e=setInterval(function(){window.PUBSTACK_VIDEO_STATE.videojs.css.styles&&(clearInterval(e),t())},200)});t.next=6;break;case 5:return t.abrupt("return");case 6:return window.PUBSTACK_VIDEO_STATE.videojs.css.sources=!0,e="".concat(window.PUBSTACK_VIDEO_CONFIG.base_href,"/css/videojs.min.css?v=").concat(window.PUBSTACK_VIDEO_CONFIG.version),t.next=10,r(e);case 10:window.PUBSTACK_VIDEO_STATE.videojs.css.styles=!0;case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),loadVidgyorJSLibrary:d}},{"./log.utils":26,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":5,"@babel/runtime/regenerator":10}],26:[function(t,e,i){e.exports={log:function(t){window.PUBSTACK_VIDEO_STATE&&window.PUBSTACK_VIDEO_STATE.debug&&console.log(t)}}},{}],27:[function(t,e,i){var r=t("@babel/runtime/helpers/interopRequireDefault")(t("@babel/runtime/helpers/defineProperty"));function a(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach(function(t){(0,r.default)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}e.exports={addPageAction:function(t,e){try{var i,r=n(n({},e),{},{vidOnline:navigator.onLine});null!=(i=window)&&null!=(i=i.newrelic)&&i.addPageAction&&newrelic.addPageAction(t,r)}catch(t){newrelic.addPageAction("NW18_ERROR",n({errData:t,errMsg:t.message},e))}}}},{"@babel/runtime/helpers/defineProperty":4,"@babel/runtime/helpers/interopRequireDefault":5}]},{},[16]);